(self.webpackChunkclientpanel=self.webpackChunkclientpanel||[]).push([[179],{8255:e=>{function t(e){return Promise.resolve().then(()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=()=>[],t.resolve=t,t.id=8255,e.exports=t},8583:(e,t,n)=>{"use strict";n.r(t),n.d(t,{APP_BASE_HREF:()=>w,AsyncPipe:()=>st,CommonModule:()=>St,CurrencyPipe:()=>wt,DOCUMENT:()=>u,DatePipe:()=>ht,DecimalPipe:()=>vt,FormStyle:()=>x,FormatWidth:()=>N,HashLocationStrategy:()=>C,I18nPluralPipe:()=>ft,I18nSelectPipe:()=>pt,JsonPipe:()=>gt,KeyValuePipe:()=>mt,LOCATION_INITIALIZED:()=>h,Location:()=>E,LocationStrategy:()=>v,LowerCasePipe:()=>at,NgClass:()=>Ve,NgComponentOutlet:()=>je,NgForOf:()=>Be,NgForOfContext:()=>Ue,NgIf:()=>He,NgIfContext:()=>Ge,NgLocaleLocalization:()=>Pe,NgLocalization:()=>Re,NgPlural:()=>Ze,NgPluralCase:()=>Je,NgStyle:()=>Ye,NgSwitch:()=>Ke,NgSwitchCase:()=>Qe,NgSwitchDefault:()=>We,NgTemplateOutlet:()=>Xe,NumberFormatStyle:()=>T,NumberSymbol:()=>O,PathLocationStrategy:()=>_,PercentPipe:()=>bt,PlatformLocation:()=>c,Plural:()=>A,SlicePipe:()=>Et,TitleCasePipe:()=>ct,TranslationWidth:()=>k,UpperCasePipe:()=>lt,VERSION:()=>Ft,ViewportScroller:()=>Pt,WeekDay:()=>R,XhrFactory:()=>jt,formatCurrency:()=>Ae,formatDate:()=>le,formatNumber:()=>ke,formatPercent:()=>xe,getCurrencySymbol:()=>ne,getLocaleCurrencyCode:()=>Q,getLocaleCurrencyName:()=>K,getLocaleCurrencySymbol:()=>$,getLocaleDateFormat:()=>B,getLocaleDateTimeFormat:()=>H,getLocaleDayNames:()=>M,getLocaleDayPeriods:()=>P,getLocaleDirection:()=>X,getLocaleEraNames:()=>V,getLocaleExtraDayPeriodRules:()=>J,getLocaleExtraDayPeriods:()=>Y,getLocaleFirstDayOfWeek:()=>j,getLocaleId:()=>F,getLocaleMonthNames:()=>L,getLocaleNumberFormat:()=>z,getLocaleNumberSymbol:()=>G,getLocalePluralCase:()=>W,getLocaleTimeFormat:()=>q,getLocaleWeekEndRange:()=>U,getNumberOfCurrencyDigits:()=>re,isPlatformBrowser:()=>kt,isPlatformServer:()=>Nt,isPlatformWorkerApp:()=>Ot,isPlatformWorkerUi:()=>Rt,registerLocaleData:()=>Me,"\u0275BrowserPlatformLocation":()=>d,"\u0275DomAdapter":()=>a,"\u0275NullViewportScroller":()=>Vt,"\u0275PLATFORM_BROWSER_ID":()=>Dt,"\u0275PLATFORM_SERVER_ID":()=>Tt,"\u0275PLATFORM_WORKER_APP_ID":()=>At,"\u0275PLATFORM_WORKER_UI_ID":()=>xt,"\u0275angular_packages_common_common_a":()=>l,"\u0275angular_packages_common_common_b":()=>p,"\u0275angular_packages_common_common_c":()=>I,"\u0275angular_packages_common_common_d":()=>b,"\u0275angular_packages_common_common_e":()=>et,"\u0275angular_packages_common_common_f":()=>It,"\u0275getDOM":()=>o,"\u0275parseCookieValue":()=>Le,"\u0275setRootDomAdapter":()=>s});var r=n(3018);let i=null;function o(){return i}function s(e){i||(i=e)}class a{}const u=new r.InjectionToken("DocumentToken");let c=(()=>{class e{historyGo(e){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r["\u0275\u0275defineInjectable"])({factory:l,token:e,providedIn:"platform"}),e})();function l(){return(0,r["\u0275\u0275inject"])(d)}const h=new r.InjectionToken("Location Initialized");let d=(()=>{class e extends c{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(e){const t=o().getGlobalEventTarget(this._doc,"window");return t.addEventListener("popstate",e,!1),()=>t.removeEventListener("popstate",e)}onHashChange(e){const t=o().getGlobalEventTarget(this._doc,"window");return t.addEventListener("hashchange",e,!1),()=>t.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){f()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){f()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](u))},e.\u0275prov=(0,r["\u0275\u0275defineInjectable"])({factory:p,token:e,providedIn:"platform"}),e})();function f(){return!!window.history.pushState}function p(){return new d((0,r["\u0275\u0275inject"])(u))}function g(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function m(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function y(e){return e&&"?"!==e[0]?"?"+e:e}let v=(()=>{class e{historyGo(e){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r["\u0275\u0275defineInjectable"])({factory:b,token:e,providedIn:"root"}),e})();function b(e){const t=(0,r["\u0275\u0275inject"])(u).location;return new _((0,r["\u0275\u0275inject"])(c),t&&t.origin||"")}const w=new r.InjectionToken("appBaseHref");let _=(()=>{class e extends v{constructor(e,t){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return g(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+y(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformLocation).historyGo)||void 0===n||n.call(t,e)}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](c),r["\u0275\u0275inject"](w,8))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})(),C=(()=>{class e extends v{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=t&&(this._baseHref=t)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=g(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformLocation).historyGo)||void 0===n||n.call(t,e)}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](c),r["\u0275\u0275inject"](w,8))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})(),E=(()=>{class e{constructor(e,t){this._subject=new r.EventEmitter,this._urlChangeListeners=[],this._platformStrategy=e;const n=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=m(S(n)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+y(t))}normalize(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,S(t)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",n=null){this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+y(t)),n)}replaceState(e,t="",n=null){this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+y(t)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformStrategy).historyGo)||void 0===n||n.call(t,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)}))}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(n=>n(e,t))}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](v),r["\u0275\u0275inject"](c))},e.normalizeQueryParams=y,e.joinWithSlash=g,e.stripTrailingSlash=m,e.\u0275prov=(0,r["\u0275\u0275defineInjectable"])({factory:I,token:e,providedIn:"root"}),e})();function I(){return new E((0,r["\u0275\u0275inject"])(v),(0,r["\u0275\u0275inject"])(c))}function S(e){return e.replace(/\/index.html$/,"")}const D={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var T=(()=>((T=T||{})[T.Decimal=0]="Decimal",T[T.Percent=1]="Percent",T[T.Currency=2]="Currency",T[T.Scientific=3]="Scientific",T))(),A=(()=>((A=A||{})[A.Zero=0]="Zero",A[A.One=1]="One",A[A.Two=2]="Two",A[A.Few=3]="Few",A[A.Many=4]="Many",A[A.Other=5]="Other",A))(),x=(()=>((x=x||{})[x.Format=0]="Format",x[x.Standalone=1]="Standalone",x))(),k=(()=>((k=k||{})[k.Narrow=0]="Narrow",k[k.Abbreviated=1]="Abbreviated",k[k.Wide=2]="Wide",k[k.Short=3]="Short",k))(),N=(()=>((N=N||{})[N.Short=0]="Short",N[N.Medium=1]="Medium",N[N.Long=2]="Long",N[N.Full=3]="Full",N))(),O=(()=>((O=O||{})[O.Decimal=0]="Decimal",O[O.Group=1]="Group",O[O.List=2]="List",O[O.PercentSign=3]="PercentSign",O[O.PlusSign=4]="PlusSign",O[O.MinusSign=5]="MinusSign",O[O.Exponential=6]="Exponential",O[O.SuperscriptingExponent=7]="SuperscriptingExponent",O[O.PerMille=8]="PerMille",O[O[1/0]=9]="Infinity",O[O.NaN=10]="NaN",O[O.TimeSeparator=11]="TimeSeparator",O[O.CurrencyDecimal=12]="CurrencyDecimal",O[O.CurrencyGroup=13]="CurrencyGroup",O))(),R=(()=>((R=R||{})[R.Sunday=0]="Sunday",R[R.Monday=1]="Monday",R[R.Tuesday=2]="Tuesday",R[R.Wednesday=3]="Wednesday",R[R.Thursday=4]="Thursday",R[R.Friday=5]="Friday",R[R.Saturday=6]="Saturday",R))();function F(e){return(0,r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].LocaleId]}function P(e,t,n){const i=(0,r["\u0275findLocaleData"])(e),o=ee([i[r["\u0275LocaleDataIndex"].DayPeriodsFormat],i[r["\u0275LocaleDataIndex"].DayPeriodsStandalone]],t);return ee(o,n)}function M(e,t,n){const i=(0,r["\u0275findLocaleData"])(e),o=ee([i[r["\u0275LocaleDataIndex"].DaysFormat],i[r["\u0275LocaleDataIndex"].DaysStandalone]],t);return ee(o,n)}function L(e,t,n){const i=(0,r["\u0275findLocaleData"])(e),o=ee([i[r["\u0275LocaleDataIndex"].MonthsFormat],i[r["\u0275LocaleDataIndex"].MonthsStandalone]],t);return ee(o,n)}function V(e,t){return ee((0,r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].Eras],t)}function j(e){return(0,r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].FirstDayOfWeek]}function U(e){return(0,r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].WeekendRange]}function B(e,t){return ee((0,r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].DateFormat],t)}function q(e,t){return ee((0,r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].TimeFormat],t)}function H(e,t){return ee((0,r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].DateTimeFormat],t)}function G(e,t){const n=(0,r["\u0275findLocaleData"])(e),i=n[r["\u0275LocaleDataIndex"].NumberSymbols][t];if(void 0===i){if(t===O.CurrencyDecimal)return n[r["\u0275LocaleDataIndex"].NumberSymbols][O.Decimal];if(t===O.CurrencyGroup)return n[r["\u0275LocaleDataIndex"].NumberSymbols][O.Group]}return i}function z(e,t){return(0,r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].NumberFormats][t]}function $(e){return(0,r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].CurrencySymbol]||null}function K(e){return(0,r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].CurrencyName]||null}function Q(e){return(0,r["\u0275getLocaleCurrencyCode"])(e)}const W=r["\u0275getLocalePluralCase"];function Z(e){if(!e[r["\u0275LocaleDataIndex"].ExtraData])throw new Error(`Missing extra locale data for the locale "${e[r["\u0275LocaleDataIndex"].LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function J(e){const t=(0,r["\u0275findLocaleData"])(e);return Z(t),(t[r["\u0275LocaleDataIndex"].ExtraData][2]||[]).map(e=>"string"==typeof e?te(e):[te(e[0]),te(e[1])])}function Y(e,t,n){const i=(0,r["\u0275findLocaleData"])(e);Z(i);const o=ee([i[r["\u0275LocaleDataIndex"].ExtraData][0],i[r["\u0275LocaleDataIndex"].ExtraData][1]],t)||[];return ee(o,n)||[]}function X(e){return(0,r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].Directionality]}function ee(e,t){for(let n=t;n>-1;n--)if(void 0!==e[n])return e[n];throw new Error("Locale data API: locale data undefined")}function te(e){const[t,n]=e.split(":");return{hours:+t,minutes:+n}}function ne(e,t,n="en"){const i=function(e){return(0,r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].Currencies]}(n)[e]||D[e]||[],o=i[1];return"narrow"===t&&"string"==typeof o?o:i[0]||e}function re(e){let t;const n=D[e];return n&&(t=n[2]),"number"==typeof t?t:2}const ie=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,oe={},se=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ae=(()=>((ae=ae||{})[ae.Short=0]="Short",ae[ae.ShortGMT=1]="ShortGMT",ae[ae.Long=2]="Long",ae[ae.Extended=3]="Extended",ae))(),ue=(()=>((ue=ue||{})[ue.FullYear=0]="FullYear",ue[ue.Month=1]="Month",ue[ue.Date=2]="Date",ue[ue.Hours=3]="Hours",ue[ue.Minutes=4]="Minutes",ue[ue.Seconds=5]="Seconds",ue[ue.FractionalSeconds=6]="FractionalSeconds",ue[ue.Day=7]="Day",ue))(),ce=(()=>((ce=ce||{})[ce.DayPeriods=0]="DayPeriods",ce[ce.Days=1]="Days",ce[ce.Months=2]="Months",ce[ce.Eras=3]="Eras",ce))();function le(e,t,n,r){let i=function(e){if(Ee(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){const[t,n=1,r=1]=e.split("-").map(e=>+e);return he(t,n-1,r)}const t=parseFloat(e);if(!isNaN(e-t))return new Date(t);let n;if(n=e.match(ie))return function(e){const t=new Date(0);let n=0,r=0;const i=e[8]?t.setUTCFullYear:t.setFullYear,o=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));const s=Number(e[4]||0)-n,a=Number(e[5]||0)-r,u=Number(e[6]||0),c=Math.floor(1e3*parseFloat("0."+(e[7]||0)));return o.call(t,s,a,u,c),t}(n)}const t=new Date(e);if(!Ee(t))throw new Error(`Unable to convert "${e}" into a date`);return t}(e);t=de(n,t)||t;let o,s=[];for(;t;){if(o=se.exec(t),!o){s.push(t);break}{s=s.concat(o.slice(1));const e=s.pop();if(!e)break;t=e}}let a=i.getTimezoneOffset();r&&(a=Ce(r,a),i=function(e,t,n){const r=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(Ce(t,r)-r))}(i,r));let u="";return s.forEach(e=>{const t=function(e){if(_e[e])return _e[e];let t;switch(e){case"G":case"GG":case"GGG":t=me(ce.Eras,k.Abbreviated);break;case"GGGG":t=me(ce.Eras,k.Wide);break;case"GGGGG":t=me(ce.Eras,k.Narrow);break;case"y":t=ge(ue.FullYear,1,0,!1,!0);break;case"yy":t=ge(ue.FullYear,2,0,!0,!0);break;case"yyy":t=ge(ue.FullYear,3,0,!1,!0);break;case"yyyy":t=ge(ue.FullYear,4,0,!1,!0);break;case"Y":t=we(1);break;case"YY":t=we(2,!0);break;case"YYY":t=we(3);break;case"YYYY":t=we(4);break;case"M":case"L":t=ge(ue.Month,1,1);break;case"MM":case"LL":t=ge(ue.Month,2,1);break;case"MMM":t=me(ce.Months,k.Abbreviated);break;case"MMMM":t=me(ce.Months,k.Wide);break;case"MMMMM":t=me(ce.Months,k.Narrow);break;case"LLL":t=me(ce.Months,k.Abbreviated,x.Standalone);break;case"LLLL":t=me(ce.Months,k.Wide,x.Standalone);break;case"LLLLL":t=me(ce.Months,k.Narrow,x.Standalone);break;case"w":t=be(1);break;case"ww":t=be(2);break;case"W":t=be(1,!0);break;case"d":t=ge(ue.Date,1);break;case"dd":t=ge(ue.Date,2);break;case"c":case"cc":t=ge(ue.Day,1);break;case"ccc":t=me(ce.Days,k.Abbreviated,x.Standalone);break;case"cccc":t=me(ce.Days,k.Wide,x.Standalone);break;case"ccccc":t=me(ce.Days,k.Narrow,x.Standalone);break;case"cccccc":t=me(ce.Days,k.Short,x.Standalone);break;case"E":case"EE":case"EEE":t=me(ce.Days,k.Abbreviated);break;case"EEEE":t=me(ce.Days,k.Wide);break;case"EEEEE":t=me(ce.Days,k.Narrow);break;case"EEEEEE":t=me(ce.Days,k.Short);break;case"a":case"aa":case"aaa":t=me(ce.DayPeriods,k.Abbreviated);break;case"aaaa":t=me(ce.DayPeriods,k.Wide);break;case"aaaaa":t=me(ce.DayPeriods,k.Narrow);break;case"b":case"bb":case"bbb":t=me(ce.DayPeriods,k.Abbreviated,x.Standalone,!0);break;case"bbbb":t=me(ce.DayPeriods,k.Wide,x.Standalone,!0);break;case"bbbbb":t=me(ce.DayPeriods,k.Narrow,x.Standalone,!0);break;case"B":case"BB":case"BBB":t=me(ce.DayPeriods,k.Abbreviated,x.Format,!0);break;case"BBBB":t=me(ce.DayPeriods,k.Wide,x.Format,!0);break;case"BBBBB":t=me(ce.DayPeriods,k.Narrow,x.Format,!0);break;case"h":t=ge(ue.Hours,1,-12);break;case"hh":t=ge(ue.Hours,2,-12);break;case"H":t=ge(ue.Hours,1);break;case"HH":t=ge(ue.Hours,2);break;case"m":t=ge(ue.Minutes,1);break;case"mm":t=ge(ue.Minutes,2);break;case"s":t=ge(ue.Seconds,1);break;case"ss":t=ge(ue.Seconds,2);break;case"S":t=ge(ue.FractionalSeconds,1);break;case"SS":t=ge(ue.FractionalSeconds,2);break;case"SSS":t=ge(ue.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=ye(ae.Short);break;case"ZZZZZ":t=ye(ae.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=ye(ae.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=ye(ae.Long);break;default:return null}return _e[e]=t,t}(e);u+=t?t(i,n,a):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function he(e,t,n){const r=new Date(0);return r.setFullYear(e,t,n),r.setHours(0,0,0),r}function de(e,t){const n=F(e);if(oe[n]=oe[n]||{},oe[n][t])return oe[n][t];let r="";switch(t){case"shortDate":r=B(e,N.Short);break;case"mediumDate":r=B(e,N.Medium);break;case"longDate":r=B(e,N.Long);break;case"fullDate":r=B(e,N.Full);break;case"shortTime":r=q(e,N.Short);break;case"mediumTime":r=q(e,N.Medium);break;case"longTime":r=q(e,N.Long);break;case"fullTime":r=q(e,N.Full);break;case"short":const t=de(e,"shortTime"),n=de(e,"shortDate");r=fe(H(e,N.Short),[t,n]);break;case"medium":const i=de(e,"mediumTime"),o=de(e,"mediumDate");r=fe(H(e,N.Medium),[i,o]);break;case"long":const s=de(e,"longTime"),a=de(e,"longDate");r=fe(H(e,N.Long),[s,a]);break;case"full":const u=de(e,"fullTime"),c=de(e,"fullDate");r=fe(H(e,N.Full),[u,c])}return r&&(oe[n][t]=r),r}function fe(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(e,n){return null!=t&&n in t?t[n]:e})),e}function pe(e,t,n="-",r,i){let o="";(e<0||i&&e<=0)&&(i?e=1-e:(e=-e,o=n));let s=String(e);for(;s.length<t;)s="0"+s;return r&&(s=s.substr(s.length-t)),o+s}function ge(e,t,n=0,r=!1,i=!1){return function(o,s){let a=function(e,t){switch(e){case ue.FullYear:return t.getFullYear();case ue.Month:return t.getMonth();case ue.Date:return t.getDate();case ue.Hours:return t.getHours();case ue.Minutes:return t.getMinutes();case ue.Seconds:return t.getSeconds();case ue.FractionalSeconds:return t.getMilliseconds();case ue.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,o);if((n>0||a>-n)&&(a+=n),e===ue.Hours)0===a&&-12===n&&(a=12);else if(e===ue.FractionalSeconds)return u=t,pe(a,3).substr(0,u);var u;const c=G(s,O.MinusSign);return pe(a,t,c,r,i)}}function me(e,t,n=x.Format,r=!1){return function(i,o){return function(e,t,n,r,i,o){switch(n){case ce.Months:return L(t,i,r)[e.getMonth()];case ce.Days:return M(t,i,r)[e.getDay()];case ce.DayPeriods:const s=e.getHours(),a=e.getMinutes();if(o){const e=J(t),n=Y(t,i,r),o=e.findIndex(e=>{if(Array.isArray(e)){const[t,n]=e,r=s>=t.hours&&a>=t.minutes,i=s<n.hours||s===n.hours&&a<n.minutes;if(t.hours<n.hours){if(r&&i)return!0}else if(r||i)return!0}else if(e.hours===s&&e.minutes===a)return!0;return!1});if(-1!==o)return n[o]}return P(t,i,r)[s<12?0:1];case ce.Eras:return V(t,r)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(i,o,e,t,n,r)}}function ye(e){return function(t,n,r){const i=-1*r,o=G(n,O.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case ae.Short:return(i>=0?"+":"")+pe(s,2,o)+pe(Math.abs(i%60),2,o);case ae.ShortGMT:return"GMT"+(i>=0?"+":"")+pe(s,1,o);case ae.Long:return"GMT"+(i>=0?"+":"")+pe(s,2,o)+":"+pe(Math.abs(i%60),2,o);case ae.Extended:return 0===r?"Z":(i>=0?"+":"")+pe(s,2,o)+":"+pe(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${e}"`)}}}function ve(e){return he(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function be(e,t=!1){return function(n,r){let i;if(t){const e=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,t=n.getDate();i=1+Math.floor((t+e)/7)}else{const e=ve(n),t=function(e){const t=he(e,0,1).getDay();return he(e,0,1+(t<=4?4:11)-t)}(e.getFullYear()),r=e.getTime()-t.getTime();i=1+Math.round(r/6048e5)}return pe(i,e,G(r,O.MinusSign))}}function we(e,t=!1){return function(n,r){return pe(ve(n).getFullYear(),e,G(r,O.MinusSign),t)}}const _e={};function Ce(e,t){e=e.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function Ee(e){return e instanceof Date&&!isNaN(e.valueOf())}const Ie=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Se=".",De="0";function Te(e,t,n,r,i,o,s=!1){let a="",u=!1;if(isFinite(e)){let c=function(e){let t,n,r,i,o,s=Math.abs(e)+"",a=0;for((n=s.indexOf(Se))>-1&&(s=s.replace(Se,"")),(r=s.search(/e/i))>0?(n<0&&(n=r),n+=+s.slice(r+1),s=s.substring(0,r)):n<0&&(n=s.length),r=0;s.charAt(r)===De;r++);if(r===(o=s.length))t=[0],n=1;else{for(o--;s.charAt(o)===De;)o--;for(n-=r,t=[],i=0;r<=o;r++,i++)t[i]=Number(s.charAt(r))}return n>22&&(t=t.splice(0,21),a=n-1,n=1),{digits:t,exponent:a,integerLen:n}}(e);s&&(c=function(e){if(0===e.digits[0])return e;const t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===t?e.digits.push(0,0):1===t&&e.digits.push(0),e.integerLen+=2),e}(c));let l=t.minInt,h=t.minFrac,d=t.maxFrac;if(o){const e=o.match(Ie);if(null===e)throw new Error(`${o} is not a valid digit info`);const t=e[1],n=e[3],r=e[5];null!=t&&(l=Oe(t)),null!=n&&(h=Oe(n)),null!=r?d=Oe(r):null!=n&&h>d&&(d=h)}!function(e,t,n){if(t>n)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${n}).`);let r=e.digits,i=r.length-e.integerLen;const o=Math.min(Math.max(t,i),n);let s=o+e.integerLen,a=r[s];if(s>0){r.splice(Math.max(e.integerLen,s));for(let e=s;e<r.length;e++)r[e]=0}else{i=Math.max(0,i),e.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let e=1;e<s;e++)r[e]=0}if(a>=5)if(s-1<0){for(let t=0;t>s;t--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let u=0!==o;const c=t+e.integerLen,l=r.reduceRight(function(e,t,n,r){return r[n]=(t+=e)<10?t:t-10,u&&(0===r[n]&&n>=c?r.pop():u=!1),t>=10?1:0},0);l&&(r.unshift(l),e.integerLen++)}(c,h,d);let f=c.digits,p=c.integerLen;const g=c.exponent;let m=[];for(u=f.every(e=>!e);p<l;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?m=f.splice(p,f.length):(m=f,f=[0]);const y=[];for(f.length>=t.lgSize&&y.unshift(f.splice(-t.lgSize,f.length).join(""));f.length>t.gSize;)y.unshift(f.splice(-t.gSize,f.length).join(""));f.length&&y.unshift(f.join("")),a=y.join(G(n,r)),m.length&&(a+=G(n,i)+m.join("")),g&&(a+=G(n,O.Exponential)+"+"+g)}else a=G(n,O.Infinity);return a=e<0&&!u?t.negPre+a+t.negSuf:t.posPre+a+t.posSuf,a}function Ae(e,t,n,r,i){const o=Ne(z(t,T.Currency),G(t,O.MinusSign));return o.minFrac=re(r),o.maxFrac=o.minFrac,Te(e,o,t,O.CurrencyGroup,O.CurrencyDecimal,i).replace("\xa4",n).replace("\xa4","").trim()}function xe(e,t,n){return Te(e,Ne(z(t,T.Percent),G(t,O.MinusSign)),t,O.Group,O.Decimal,n,!0).replace(new RegExp("%","g"),G(t,O.PercentSign))}function ke(e,t,n){return Te(e,Ne(z(t,T.Decimal),G(t,O.MinusSign)),t,O.Group,O.Decimal,n)}function Ne(e,t="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(";"),i=r[0],o=r[1],s=-1!==i.indexOf(Se)?i.split(Se):[i.substring(0,i.lastIndexOf(De)+1),i.substring(i.lastIndexOf(De)+1)],a=s[0],u=s[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let l=0;l<u.length;l++){const e=u.charAt(l);e===De?n.minFrac=n.maxFrac=l+1:"#"===e?n.maxFrac=l+1:n.posSuf+=e}const c=a.split(",");if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){const e=i.length-n.posPre.length-n.posSuf.length,t=o.indexOf("#");n.negPre=o.substr(0,t).replace(/'/g,""),n.negSuf=o.substr(t+e).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}function Oe(e){const t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}class Re{}function Fe(e,t,n,r){let i=`=${e}`;if(t.indexOf(i)>-1)return i;if(i=n.getPluralCategory(e,r),t.indexOf(i)>-1)return i;if(t.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${e}"`)}let Pe=(()=>{class e extends Re{constructor(e){super(),this.locale=e}getPluralCategory(e,t){switch(W(t||this.locale)(e)){case A.Zero:return"zero";case A.One:return"one";case A.Two:return"two";case A.Few:return"few";case A.Many:return"many";default:return"other"}}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](r.LOCALE_ID))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();function Me(e,t,n){return(0,r["\u0275registerLocaleData"])(e,t,n)}function Le(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[r,i]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(r.trim()===t)return decodeURIComponent(i)}return null}let Ve=(()=>{class e{constructor(e,t,n,r){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,r["\u0275isListLikeIterable"])(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachChangedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachRemovedItem(e=>{e.previousValue&&this._toggleClass(e.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(e=>{if("string"!=typeof e.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,r["\u0275stringify"])(e.item)}`);this._toggleClass(e.item,!0)}),e.forEachRemovedItem(e=>this._toggleClass(e.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!0)):Object.keys(e).forEach(t=>this._toggleClass(t,!!e[t])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!1)):Object.keys(e).forEach(e=>this._toggleClass(e,!1)))}_toggleClass(e,t){(e=e.trim())&&e.split(/\s+/g).forEach(e=>{t?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)})}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.IterableDiffers),r["\u0275\u0275directiveInject"](r.KeyValueDiffers),r["\u0275\u0275directiveInject"](r.ElementRef),r["\u0275\u0275directiveInject"](r.Renderer2))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e})(),je=(()=>{class e{constructor(e){this._viewContainerRef=e,this._componentRef=null,this._moduleRef=null}ngOnChanges(e){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){const t=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(e.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){const e=t.get(r.NgModuleRef);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(e.injector)}else this._moduleRef=null;const n=(this._moduleRef?this._moduleRef.componentFactoryResolver:t.get(r.ComponentFactoryResolver)).resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(n,this._viewContainerRef.length,t,this.ngComponentOutletContent)}}ngOnDestroy(){this._moduleRef&&this._moduleRef.destroy()}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ViewContainerRef))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},features:[r["\u0275\u0275NgOnChangesFeature"]]}),e})();class Ue{constructor(e,t,n,r){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Be=(()=>{class e{constructor(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(t){throw new Error(`Cannot find a differ supporting object '${n}' of type '${e=n,e.name||typeof e}'. NgFor only supports binding to Iterables such as Arrays.`)}}var e;if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,n,r)=>{if(null==e.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new Ue(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new qe(e,n);t.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new qe(e,i);t.push(o)}});for(let n=0;n<t.length;n++)this._perViewChange(t[n].view,t[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const e=this._viewContainer.get(n);e.context.index=n,e.context.count=r,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ViewContainerRef),r["\u0275\u0275directiveInject"](r.TemplateRef),r["\u0275\u0275directiveInject"](r.IterableDiffers))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e})();class qe{constructor(e,t){this.record=e,this.view=t}}let He=(()=>{class e{constructor(e,t){this._viewContainer=e,this._context=new Ge,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){ze("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){ze("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ViewContainerRef),r["\u0275\u0275directiveInject"](r.TemplateRef))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class Ge{constructor(){this.$implicit=null,this.ngIf=null}}function ze(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${(0,r["\u0275stringify"])(t)}'.`)}class $e{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Ke=(()=>{class e{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let t=0;t<this._defaultViews.length;t++)this._defaultViews[t].enforceState(e)}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),e})(),Qe=(()=>{class e{constructor(e,t,n){this.ngSwitch=n,n._addCase(),this._view=new $e(e,t)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ViewContainerRef),r["\u0275\u0275directiveInject"](r.TemplateRef),r["\u0275\u0275directiveInject"](Ke,9))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),e})(),We=(()=>{class e{constructor(e,t,n){n._addDefault(new $e(e,t))}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ViewContainerRef),r["\u0275\u0275directiveInject"](r.TemplateRef),r["\u0275\u0275directiveInject"](Ke,9))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngSwitchDefault",""]]}),e})(),Ze=(()=>{class e{constructor(e){this._localization=e,this._caseViews={}}set ngPlural(e){this._switchValue=e,this._updateView()}addCase(e,t){this._caseViews[e]=t}_updateView(){this._clearViews();const e=Object.keys(this._caseViews),t=Fe(this._switchValue,e,this._localization);this._activateView(this._caseViews[t])}_clearViews(){this._activeView&&this._activeView.destroy()}_activateView(e){e&&(this._activeView=e,this._activeView.create())}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](Re))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngPlural",""]],inputs:{ngPlural:"ngPlural"}}),e})(),Je=(()=>{class e{constructor(e,t,n,r){this.value=e;const i=!isNaN(Number(e));r.addCase(i?`=${e}`:e,new $e(n,t))}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275injectAttribute"]("ngPluralCase"),r["\u0275\u0275directiveInject"](r.TemplateRef),r["\u0275\u0275directiveInject"](r.ViewContainerRef),r["\u0275\u0275directiveInject"](Ze,1))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngPluralCase",""]]}),e})(),Ye=(()=>{class e{constructor(e,t,n){this._ngEl=e,this._differs=t,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,t){const[n,r]=e.split(".");null!=(t=null!=t&&r?`${t}${r}`:t)?this._renderer.setStyle(this._ngEl.nativeElement,n,t):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(e){e.forEachRemovedItem(e=>this._setStyle(e.key,null)),e.forEachAddedItem(e=>this._setStyle(e.key,e.currentValue)),e.forEachChangedItem(e=>this._setStyle(e.key,e.currentValue))}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ElementRef),r["\u0275\u0275directiveInject"](r.KeyValueDiffers),r["\u0275\u0275directiveInject"](r.Renderer2))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),e})(),Xe=(()=>{class e{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const e=this._viewContainerRef;this._viewRef&&e.remove(e.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?e.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ViewContainerRef))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[r["\u0275\u0275NgOnChangesFeature"]]}),e})();const et=[Ve,je,Be,He,Xe,Ye,Ke,Qe,We,Ze,Je];function tt(e,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${(0,r["\u0275stringify"])(e)}'`)}class nt{createSubscription(e,t){return e.subscribe({next:t,error:e=>{throw e}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class rt{createSubscription(e,t){return e.then(t,e=>{throw e})}dispose(e){}onDestroy(e){}}const it=new rt,ot=new nt;let st=(()=>{class e{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,t=>this._updateLatestValue(e,t))}_selectStrategy(t){if((0,r["\u0275isPromise"])(t))return it;if((0,r["\u0275isSubscribable"])(t))return ot;throw tt(e,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ChangeDetectorRef,16))},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"async",type:e,pure:!1}),e})(),at=(()=>{class e{transform(t){if(null==t)return null;if("string"!=typeof t)throw tt(e,t);return t.toLowerCase()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"lowercase",type:e,pure:!0}),e})();const ut=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g;let ct=(()=>{class e{transform(t){if(null==t)return null;if("string"!=typeof t)throw tt(e,t);return t.replace(ut,e=>e[0].toUpperCase()+e.substr(1).toLowerCase())}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"titlecase",type:e,pure:!0}),e})(),lt=(()=>{class e{transform(t){if(null==t)return null;if("string"!=typeof t)throw tt(e,t);return t.toUpperCase()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"uppercase",type:e,pure:!0}),e})(),ht=(()=>{class e{constructor(e){this.locale=e}transform(t,n="mediumDate",r,i){if(null==t||""===t||t!=t)return null;try{return le(t,n,i||this.locale,r)}catch(o){throw tt(e,o.message)}}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.LOCALE_ID,16))},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"date",type:e,pure:!0}),e})();const dt=/#/g;let ft=(()=>{class e{constructor(e){this._localization=e}transform(t,n,r){if(null==t)return"";if("object"!=typeof n||null===n)throw tt(e,n);return n[Fe(t,Object.keys(n),this._localization,r)].replace(dt,t.toString())}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](Re,16))},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"i18nPlural",type:e,pure:!0}),e})(),pt=(()=>{class e{transform(t,n){if(null==t)return"";if("object"!=typeof n||"string"!=typeof t)throw tt(e,n);return n.hasOwnProperty(t)?n[t]:n.hasOwnProperty("other")?n.other:""}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"i18nSelect",type:e,pure:!0}),e})(),gt=(()=>{class e{transform(e){return JSON.stringify(e,null,2)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"json",type:e,pure:!1}),e})(),mt=(()=>{class e{constructor(e){this.differs=e,this.keyValues=[],this.compareFn=yt}transform(e,t=yt){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());const n=this.differ.diff(e),r=t!==this.compareFn;return n&&(this.keyValues=[],n.forEachItem(e=>{this.keyValues.push({key:e.key,value:e.currentValue})})),(n||r)&&(this.keyValues.sort(t),this.compareFn=t),this.keyValues}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.KeyValueDiffers,16))},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"keyvalue",type:e,pure:!1}),e})();function yt(e,t){const n=e.key,r=t.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;const i=String(n),o=String(r);return i==o?0:i<o?-1:1}let vt=(()=>{class e{constructor(e){this._locale=e}transform(t,n,r){if(!_t(t))return null;r=r||this._locale;try{return ke(Ct(t),r,n)}catch(i){throw tt(e,i.message)}}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.LOCALE_ID,16))},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"number",type:e,pure:!0}),e})(),bt=(()=>{class e{constructor(e){this._locale=e}transform(t,n,r){if(!_t(t))return null;r=r||this._locale;try{return xe(Ct(t),r,n)}catch(i){throw tt(e,i.message)}}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.LOCALE_ID,16))},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"percent",type:e,pure:!0}),e})(),wt=(()=>{class e{constructor(e,t="USD"){this._locale=e,this._defaultCurrencyCode=t}transform(t,n=this._defaultCurrencyCode,r="symbol",i,o){if(!_t(t))return null;o=o||this._locale,"boolean"==typeof r&&(r=r?"symbol":"code");let s=n||this._defaultCurrencyCode;"code"!==r&&(s="symbol"===r||"symbol-narrow"===r?ne(s,"symbol"===r?"wide":"narrow",o):r);try{return Ae(Ct(t),o,s,n,i)}catch(a){throw tt(e,a.message)}}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.LOCALE_ID,16),r["\u0275\u0275directiveInject"](r.DEFAULT_CURRENCY_CODE,16))},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"currency",type:e,pure:!0}),e})();function _t(e){return!(null==e||""===e||e!=e)}function Ct(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error(`${e} is not a number`);return e}let Et=(()=>{class e{transform(t,n,r){if(null==t)return null;if(!this.supports(t))throw tt(e,t);return t.slice(n,r)}supports(e){return"string"==typeof e||Array.isArray(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"slice",type:e,pure:!1}),e})();const It=[st,lt,at,gt,Et,vt,bt,ct,wt,ht,ft,pt,mt];let St=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({providers:[{provide:Re,useClass:Pe}]}),e})();const Dt="browser",Tt="server",At="browserWorkerApp",xt="browserWorkerUi";function kt(e){return e===Dt}function Nt(e){return e===Tt}function Ot(e){return e===At}function Rt(e){return e===xt}const Ft=new r.Version("12.1.5");let Pt=(()=>{class e{}return e.\u0275prov=(0,r["\u0275\u0275defineInjectable"])({token:e,providedIn:"root",factory:()=>new Mt((0,r["\u0275\u0275inject"])(u),window)}),e})();class Mt{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const e=r.shadowRoot;if(e){const n=e.getElementById(t)||e.querySelector(`[name="${t}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Lt(this.window.history)||Lt(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Lt(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class Vt{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}}class jt{}},3018:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ANALYZE_FOR_ENTRY_COMPONENTS:()=>Ln,APP_BOOTSTRAP_LISTENER:()=>Jy,APP_ID:()=>zy,APP_INITIALIZER:()=>Hy,ApplicationInitStatus:()=>Gy,ApplicationModule:()=>jb,ApplicationRef:()=>Jv,Attribute:()=>Pn,COMPILER_OPTIONS:()=>yv,CUSTOM_ELEMENTS_SCHEMA:()=>eo,ChangeDetectionStrategy:()=>j,ChangeDetectorRef:()=>Tf,Compiler:()=>mv,CompilerFactory:()=>vv,Component:()=>Ay,ComponentFactory:()=>jd,ComponentFactoryResolver:()=>Hd,ComponentRef:()=>Vd,ContentChild:()=>Un,ContentChildren:()=>jn,DEFAULT_CURRENCY_CODE:()=>tv,DebugElement:()=>Nb,DebugEventListener:()=>lb,DebugNode:()=>kb,DefaultIterableDiffer:()=>lf,Directive:()=>Ty,ElementRef:()=>Jd,EmbeddedViewRef:()=>cb,ErrorHandler:()=>Xi,EventEmitter:()=>Dm,Host:()=>Sr,HostBinding:()=>Oy,HostListener:()=>Ry,INJECTOR:()=>ga,Inject:()=>_r,InjectFlags:()=>R,Injectable:()=>Ku,InjectionToken:()=>Mn,Injector:()=>Oa,Input:()=>ky,IterableDiffers:()=>bf,KeyValueDiffers:()=>_f,LOCALE_ID:()=>ev,MissingTranslationStrategy:()=>iv,ModuleWithComponentFactories:()=>av,NO_ERRORS_SCHEMA:()=>to,NgModule:()=>Uy,NgModuleFactory:()=>Uf,NgModuleFactoryLoader:()=>Xv,NgModuleRef:()=>jf,NgProbeToken:()=>Hv,NgZone:()=>_v,Optional:()=>Cr,Output:()=>Ny,PACKAGE_ROOT_URL:()=>Yy,PLATFORM_ID:()=>Zy,PLATFORM_INITIALIZER:()=>Wy,Pipe:()=>xy,PlatformRef:()=>Wv,Query:()=>Vn,QueryList:()=>Am,ReflectiveInjector:()=>yc,ReflectiveKey:()=>ec,Renderer2:()=>ef,RendererFactory2:()=>Xd,RendererStyleFlags2:()=>fo,ResolvedReflectiveFactory:()=>uc,Sanitizer:()=>of,SecurityContext:()=>xi,Self:()=>Er,SimpleChange:()=>Te,SkipSelf:()=>Ir,SystemJsNgModuleLoader:()=>sb,SystemJsNgModuleLoaderConfig:()=>ib,TRANSLATIONS:()=>nv,TRANSLATIONS_FORMAT:()=>rv,TemplateRef:()=>Ff,Testability:()=>Av,TestabilityRegistry:()=>xv,Type:()=>zn,VERSION:()=>af,Version:()=>sf,ViewChild:()=>qn,ViewChildren:()=>Bn,ViewContainerRef:()=>Hf,ViewEncapsulation:()=>q,ViewRef:()=>ub,WrappedValue:()=>du,asNativeElements:()=>fb,assertPlatform:()=>$v,createPlatform:()=>Gv,createPlatformFactory:()=>zv,defineInjectable:()=>I,destroyPlatform:()=>Kv,enableProdMode:()=>Lv,forwardRef:()=>g,getDebugNode:()=>Db,getModuleFactory:()=>nb,getPlatform:()=>Qv,inject:()=>yr,isDevMode:()=>Mv,platformCore:()=>Ob,resolveForwardRef:()=>m,setTestabilityGetter:()=>Nv,"\u02750":()=>wr,"\u0275ALLOW_MULTIPLE_PLATFORMS":()=>qv,"\u0275APP_ID_RANDOM_PROVIDER":()=>Ky,"\u0275CREATE_ATTRIBUTE_DECORATOR__POST_R3__":()=>Fn,"\u0275ChangeDetectorStatus":()=>U,"\u0275CodegenComponentFactoryResolver":()=>Gd,"\u0275Compiler_compileModuleAndAllComponentsAsync__POST_R3__":()=>pv,"\u0275Compiler_compileModuleAndAllComponentsSync__POST_R3__":()=>dv,"\u0275Compiler_compileModuleAsync__POST_R3__":()=>lv,"\u0275Compiler_compileModuleSync__POST_R3__":()=>uv,"\u0275ComponentFactory":()=>jd,"\u0275Console":()=>Xy,"\u0275DEFAULT_LOCALE_ID":()=>Eh,"\u0275EMPTY_ARRAY":()=>W,"\u0275EMPTY_MAP":()=>Gp,"\u0275INJECTOR_IMPL__POST_R3__":()=>ka,"\u0275INJECTOR_SCOPE":()=>ya,"\u0275LifecycleHooksFeature":()=>Ya,"\u0275LocaleDataIndex":()=>_h,"\u0275NG_COMP_DEF":()=>Z,"\u0275NG_DIR_DEF":()=>J,"\u0275NG_ELEMENT_ID":()=>ne,"\u0275NG_INJ_DEF":()=>k,"\u0275NG_MOD_DEF":()=>X,"\u0275NG_PIPE_DEF":()=>Y,"\u0275NG_PROV_DEF":()=>x,"\u0275NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR":()=>Pg,"\u0275NO_CHANGE":()=>cs,"\u0275NgModuleFactory":()=>em,"\u0275NoopNgZone":()=>Tv,"\u0275ReflectionCapabilities":()=>or,"\u0275Render3ComponentFactory":()=>zg,"\u0275Render3ComponentRef":()=>$g,"\u0275Render3NgModuleRef":()=>Xg,"\u0275RuntimeError":()=>v,"\u0275SWITCH_CHANGE_DETECTOR_REF_FACTORY__POST_R3__":()=>Sf,"\u0275SWITCH_COMPILE_COMPONENT__POST_R3__":()=>Fy,"\u0275SWITCH_COMPILE_DIRECTIVE__POST_R3__":()=>Py,"\u0275SWITCH_COMPILE_INJECTABLE__POST_R3__":()=>Qu,"\u0275SWITCH_COMPILE_NGMODULE__POST_R3__":()=>By,"\u0275SWITCH_COMPILE_PIPE__POST_R3__":()=>My,"\u0275SWITCH_ELEMENT_REF_FACTORY__POST_R3__":()=>Wd,"\u0275SWITCH_IVY_ENABLED__POST_R3__":()=>ov,"\u0275SWITCH_RENDERER2_FACTORY__POST_R3__":()=>tf,"\u0275SWITCH_TEMPLATE_REF_FACTORY__POST_R3__":()=>Of,"\u0275SWITCH_VIEW_CONTAINER_REF_FACTORY__POST_R3__":()=>Bf,"\u0275_sanitizeHtml":()=>Ti,"\u0275_sanitizeUrl":()=>ci,"\u0275allowSanitizationBypassAndThrow":()=>Jr,"\u0275and":()=>Ub,"\u0275angular_packages_core_core_a":()=>y,"\u0275angular_packages_core_core_b":()=>pr,"\u0275angular_packages_core_core_ba":()=>Vb,"\u0275angular_packages_core_core_bb":()=>Ih,"\u0275angular_packages_core_core_bc":()=>Ag,"\u0275angular_packages_core_core_bd":()=>sp,"\u0275angular_packages_core_core_be":()=>xe,"\u0275angular_packages_core_core_bf":()=>Gg,"\u0275angular_packages_core_core_bg":()=>dn,"\u0275angular_packages_core_core_bh":()=>it,"\u0275angular_packages_core_core_bi":()=>gt,"\u0275angular_packages_core_core_bj":()=>Ft,"\u0275angular_packages_core_core_bl":()=>dm,"\u0275angular_packages_core_core_bm":()=>fm,"\u0275angular_packages_core_core_bn":()=>pm,"\u0275angular_packages_core_core_bo":()=>gm,"\u0275angular_packages_core_core_bp":()=>mm,"\u0275angular_packages_core_core_bq":()=>Li,"\u0275angular_packages_core_core_br":()=>Rn,"\u0275angular_packages_core_core_bs":()=>On,"\u0275angular_packages_core_core_bv":()=>l,"\u0275angular_packages_core_core_bw":()=>ma,"\u0275angular_packages_core_core_bx":()=>P,"\u0275angular_packages_core_core_bz":()=>ze,"\u0275angular_packages_core_core_c":()=>br,"\u0275angular_packages_core_core_cb":()=>yo,"\u0275angular_packages_core_core_cc":()=>Cd,"\u0275angular_packages_core_core_d":()=>vc,"\u0275angular_packages_core_core_e":()=>oc,"\u0275angular_packages_core_core_f":()=>hc,"\u0275angular_packages_core_core_g":()=>$y,"\u0275angular_packages_core_core_h":()=>rf,"\u0275angular_packages_core_core_i":()=>Kd,"\u0275angular_packages_core_core_j":()=>Qd,"\u0275angular_packages_core_core_k":()=>eb,"\u0275angular_packages_core_core_l":()=>Lf,"\u0275angular_packages_core_core_m":()=>Vf,"\u0275angular_packages_core_core_n":()=>Gf,"\u0275angular_packages_core_core_o":()=>hb,"\u0275angular_packages_core_core_p":()=>db,"\u0275angular_packages_core_core_q":()=>Tb,"\u0275angular_packages_core_core_r":()=>Af,"\u0275angular_packages_core_core_s":()=>uf,"\u0275angular_packages_core_core_t":()=>gf,"\u0275angular_packages_core_core_u":()=>vf,"\u0275angular_packages_core_core_v":()=>wf,"\u0275angular_packages_core_core_w":()=>Rb,"\u0275angular_packages_core_core_x":()=>Fb,"\u0275angular_packages_core_core_y":()=>Pb,"\u0275angular_packages_core_core_z":()=>Lb,"\u0275bypassSanitizationTrustHtml":()=>Xr,"\u0275bypassSanitizationTrustResourceUrl":()=>ri,"\u0275bypassSanitizationTrustScript":()=>ti,"\u0275bypassSanitizationTrustStyle":()=>ei,"\u0275bypassSanitizationTrustUrl":()=>ni,"\u0275ccf":()=>rg,"\u0275clearOverrides":()=>p_,"\u0275clearResolutionOfComponentResourcesQueue":()=>Fr,"\u0275cmf":()=>g_,"\u0275compileComponent":()=>ly,"\u0275compileDirective":()=>hy,"\u0275compileNgModule":()=>Xm,"\u0275compileNgModuleDefs":()=>ey,"\u0275compileNgModuleFactory__POST_R3__":()=>jv,"\u0275compilePipe":()=>Sy,"\u0275createInjector":()=>Ca,"\u0275crt":()=>pp,"\u0275defaultIterableDiffers":()=>kf,"\u0275defaultKeyValueDiffers":()=>Nf,"\u0275detectChanges":()=>fa,"\u0275devModeEqual":()=>hu,"\u0275did":()=>Sg,"\u0275eld":()=>Bb,"\u0275findLocaleData":()=>mh,"\u0275flushModuleScopingQueueAsMuchAsPossible":()=>Jm,"\u0275getComponentViewDefinitionFactory":()=>ig,"\u0275getDebugNodeR2":()=>Ab,"\u0275getDebugNode__POST_R3__":()=>Sb,"\u0275getDirectives":()=>Va,"\u0275getHostElement":()=>Ua,"\u0275getInjectableDef":()=>D,"\u0275getLContext":()=>Ui,"\u0275getLocaleCurrencyCode":()=>yh,"\u0275getLocalePluralCase":()=>vh,"\u0275getModuleFactory__POST_R3__":()=>tb,"\u0275getSanitizationBypassType":()=>Yr,"\u0275global":()=>K,"\u0275initServicesIfNeeded":()=>xw,"\u0275inlineInterpolate":()=>qp,"\u0275interpolate":()=>Bp,"\u0275isBoundToModule__POST_R3__":()=>Bv,"\u0275isDefaultChangeDetectionStrategy":()=>B,"\u0275isListLikeIterable":()=>fu,"\u0275isObservable":()=>Oc,"\u0275isPromise":()=>kc,"\u0275isSubscribable":()=>Nc,"\u0275ivyEnabled":()=>sv,"\u0275makeDecorator":()=>kn,"\u0275markDirty":()=>pa,"\u0275mod":()=>Zp,"\u0275mpd":()=>Wp,"\u0275ncd":()=>Jb,"\u0275noSideEffects":()=>V,"\u0275nov":()=>gg,"\u0275overrideComponentView":()=>f_,"\u0275overrideProvider":()=>d_,"\u0275pad":()=>ew,"\u0275patchComponentDefWithScope":()=>oy,"\u0275pid":()=>Dg,"\u0275pod":()=>tw,"\u0275ppd":()=>Xb,"\u0275prd":()=>Tg,"\u0275publishDefaultGlobalUtils":()=>$a,"\u0275publishGlobalUtil":()=>Ka,"\u0275qud":()=>$b,"\u0275registerLocaleData":()=>gh,"\u0275registerModuleFactory":()=>Wg,"\u0275registerNgModuleType":()=>Jg,"\u0275renderComponent":()=>Qa,"\u0275resetCompiledComponents":()=>ry,"\u0275resetJitOptions":()=>Qm,"\u0275resolveComponentResources":()=>kr,"\u0275setClassMetadata":()=>Kg,"\u0275setCurrentInjector":()=>fr,"\u0275setDocument":()=>je,"\u0275setLocaleId":()=>xh,"\u0275store":()=>Bu,"\u0275stringify":()=>d,"\u0275ted":()=>rw,"\u0275transitiveScopesFor":()=>sy,"\u0275unregisterLocaleData":()=>wh,"\u0275unv":()=>hp,"\u0275unwrapSafeValue":()=>Zr,"\u0275vid":()=>sw,"\u0275whenRendered":()=>Xa,"\u0275\u0275CopyDefinitionFeature":()=>uu,"\u0275\u0275FactoryTarget":()=>Hn,"\u0275\u0275InheritDefinitionFeature":()=>tu,"\u0275\u0275NgOnChangesFeature":()=>Ae,"\u0275\u0275ProvidersFeature":()=>Ld,"\u0275\u0275advance":()=>ls,"\u0275\u0275attribute":()=>_u,"\u0275\u0275attributeInterpolate1":()=>Nu,"\u0275\u0275attributeInterpolate2":()=>Ou,"\u0275\u0275attributeInterpolate3":()=>Ru,"\u0275\u0275attributeInterpolate4":()=>Fu,"\u0275\u0275attributeInterpolate5":()=>Pu,"\u0275\u0275attributeInterpolate6":()=>Mu,"\u0275\u0275attributeInterpolate7":()=>Lu,"\u0275\u0275attributeInterpolate8":()=>Vu,"\u0275\u0275attributeInterpolateV":()=>ju,"\u0275\u0275classMap":()=>fl,"\u0275\u0275classMapInterpolate1":()=>Ll,"\u0275\u0275classMapInterpolate2":()=>Vl,"\u0275\u0275classMapInterpolate3":()=>jl,"\u0275\u0275classMapInterpolate4":()=>Ul,"\u0275\u0275classMapInterpolate5":()=>Bl,"\u0275\u0275classMapInterpolate6":()=>ql,"\u0275\u0275classMapInterpolate7":()=>Hl,"\u0275\u0275classMapInterpolate8":()=>Gl,"\u0275\u0275classMapInterpolateV":()=>zl,"\u0275\u0275classProp":()=>ll,"\u0275\u0275contentQuery":()=>Um,"\u0275\u0275defineComponent":()=>ie,"\u0275\u0275defineDirective":()=>de,"\u0275\u0275defineInjectable":()=>E,"\u0275\u0275defineInjector":()=>S,"\u0275\u0275defineNgModule":()=>ce,"\u0275\u0275definePipe":()=>fe,"\u0275\u0275directiveInject":()=>bc,"\u0275\u0275disableBindings":()=>rt,"\u0275\u0275element":()=>Sc,"\u0275\u0275elementContainer":()=>Ac,"\u0275\u0275elementContainerEnd":()=>Tc,"\u0275\u0275elementContainerStart":()=>Dc,"\u0275\u0275elementEnd":()=>Ic,"\u0275\u0275elementStart":()=>Ec,"\u0275\u0275enableBindings":()=>nt,"\u0275\u0275getCurrentView":()=>xc,"\u0275\u0275getInheritedFactory":()=>In,"\u0275\u0275hostProperty":()=>lh,"\u0275\u0275i18n":()=>Sd,"\u0275\u0275i18nApply":()=>Ad,"\u0275\u0275i18nAttributes":()=>Dd,"\u0275\u0275i18nEnd":()=>Id,"\u0275\u0275i18nExp":()=>Td,"\u0275\u0275i18nPostprocess":()=>xd,"\u0275\u0275i18nStart":()=>Ed,"\u0275\u0275inject":()=>gr,"\u0275\u0275injectAttribute":()=>Dn,"\u0275\u0275invalidFactory":()=>wc,"\u0275\u0275invalidFactoryDep":()=>mr,"\u0275\u0275listener":()=>Rc,"\u0275\u0275loadQuery":()=>Bm,"\u0275\u0275namespaceHTML":()=>Ut,"\u0275\u0275namespaceMathML":()=>jt,"\u0275\u0275namespaceSVG":()=>Vt,"\u0275\u0275nextContext":()=>Vc,"\u0275\u0275ngDeclareClassMetadata":()=>v_,"\u0275\u0275ngDeclareComponent":()=>b_,"\u0275\u0275ngDeclareDirective":()=>y_,"\u0275\u0275ngDeclareFactory":()=>w_,"\u0275\u0275ngDeclareInjectable":()=>__,"\u0275\u0275ngDeclareInjector":()=>C_,"\u0275\u0275ngDeclareNgModule":()=>E_,"\u0275\u0275ngDeclarePipe":()=>I_,"\u0275\u0275pipe":()=>ym,"\u0275\u0275pipeBind1":()=>vm,"\u0275\u0275pipeBind2":()=>bm,"\u0275\u0275pipeBind3":()=>wm,"\u0275\u0275pipeBind4":()=>_m,"\u0275\u0275pipeBindV":()=>Cm,"\u0275\u0275projection":()=>Bc,"\u0275\u0275projectionDef":()=>Uc,"\u0275\u0275property":()=>_c,"\u0275\u0275propertyInterpolate":()=>qc,"\u0275\u0275propertyInterpolate1":()=>Hc,"\u0275\u0275propertyInterpolate2":()=>Gc,"\u0275\u0275propertyInterpolate3":()=>zc,"\u0275\u0275propertyInterpolate4":()=>$c,"\u0275\u0275propertyInterpolate5":()=>Kc,"\u0275\u0275propertyInterpolate6":()=>Qc,"\u0275\u0275propertyInterpolate7":()=>Wc,"\u0275\u0275propertyInterpolate8":()=>Zc,"\u0275\u0275propertyInterpolateV":()=>Jc,"\u0275\u0275pureFunction0":()=>tm,"\u0275\u0275pureFunction1":()=>nm,"\u0275\u0275pureFunction2":()=>rm,"\u0275\u0275pureFunction3":()=>im,"\u0275\u0275pureFunction4":()=>om,"\u0275\u0275pureFunction5":()=>sm,"\u0275\u0275pureFunction6":()=>am,"\u0275\u0275pureFunction7":()=>um,"\u0275\u0275pureFunction8":()=>cm,"\u0275\u0275pureFunctionV":()=>lm,"\u0275\u0275queryRefresh":()=>Vm,"\u0275\u0275reference":()=>qu,"\u0275\u0275resolveBody":()=>lo,"\u0275\u0275resolveDocument":()=>co,"\u0275\u0275resolveWindow":()=>uo,"\u0275\u0275restoreView":()=>st,"\u0275\u0275sanitizeHtml":()=>ki,"\u0275\u0275sanitizeResourceUrl":()=>Ri,"\u0275\u0275sanitizeScript":()=>Fi,"\u0275\u0275sanitizeStyle":()=>Ni,"\u0275\u0275sanitizeUrl":()=>Oi,"\u0275\u0275sanitizeUrlOrResourceUrl":()=>Vi,"\u0275\u0275setComponentScope":()=>oe,"\u0275\u0275setNgModuleScope":()=>le,"\u0275\u0275styleMap":()=>hl,"\u0275\u0275styleMapInterpolate1":()=>$l,"\u0275\u0275styleMapInterpolate2":()=>Kl,"\u0275\u0275styleMapInterpolate3":()=>Ql,"\u0275\u0275styleMapInterpolate4":()=>Wl,"\u0275\u0275styleMapInterpolate5":()=>Zl,"\u0275\u0275styleMapInterpolate6":()=>Jl,"\u0275\u0275styleMapInterpolate7":()=>Yl,"\u0275\u0275styleMapInterpolate8":()=>Xl,"\u0275\u0275styleMapInterpolateV":()=>eh,"\u0275\u0275styleProp":()=>cl,"\u0275\u0275stylePropInterpolate1":()=>th,"\u0275\u0275stylePropInterpolate2":()=>nh,"\u0275\u0275stylePropInterpolate3":()=>rh,"\u0275\u0275stylePropInterpolate4":()=>ih,"\u0275\u0275stylePropInterpolate5":()=>oh,"\u0275\u0275stylePropInterpolate6":()=>sh,"\u0275\u0275stylePropInterpolate7":()=>ah,"\u0275\u0275stylePropInterpolate8":()=>uh,"\u0275\u0275stylePropInterpolateV":()=>ch,"\u0275\u0275syntheticHostListener":()=>Fc,"\u0275\u0275syntheticHostProperty":()=>hh,"\u0275\u0275template":()=>Uu,"\u0275\u0275templateRefExtractor":()=>zm,"\u0275\u0275text":()=>Dl,"\u0275\u0275textInterpolate":()=>Tl,"\u0275\u0275textInterpolate1":()=>Al,"\u0275\u0275textInterpolate2":()=>xl,"\u0275\u0275textInterpolate3":()=>kl,"\u0275\u0275textInterpolate4":()=>Nl,"\u0275\u0275textInterpolate5":()=>Ol,"\u0275\u0275textInterpolate6":()=>Rl,"\u0275\u0275textInterpolate7":()=>Fl,"\u0275\u0275textInterpolate8":()=>Pl,"\u0275\u0275textInterpolateV":()=>Ml,"\u0275\u0275trustConstantHtml":()=>Pi,"\u0275\u0275trustConstantResourceUrl":()=>Mi,"\u0275\u0275viewQuery":()=>jm});var r=n(9765),i=n(5319),o=n(7574),s=n(6682),a=n(2441),u=n(1307);function c(){return new r.xQ}function l(e){for(let t in e)if(e[t]===l)return t;throw Error("Could not find renamed property on target object.")}function h(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function d(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(d).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function f(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const p=l({__forward_ref__:l});function g(e){return e.__forward_ref__=g,e.toString=function(){return d(this())},e}function m(e){return y(e)?e():e}function y(e){return"function"==typeof e&&e.hasOwnProperty(p)&&e.__forward_ref__===g}class v extends Error{constructor(e,t){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(e,t)),this.code=e}}function b(e){return"string"==typeof e?e:null==e?"":String(e)}function w(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():b(e)}function _(e,t){const n=t?` in ${t}`:"";throw new v("201",`No provider for ${w(e)} found${n}`)}function C(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}function E(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}const I=E;function S(e){return{providers:e.providers||[],imports:e.imports||[]}}function D(e){return T(e,x)||T(e,N)}function T(e,t){return e.hasOwnProperty(t)?e[t]:null}function A(e){return e&&(e.hasOwnProperty(k)||e.hasOwnProperty(O))?e[k]:null}const x=l({"\u0275prov":l}),k=l({"\u0275inj":l}),N=l({ngInjectableDef:l}),O=l({ngInjectorDef:l});var R=(()=>((R=R||{})[R.Default=0]="Default",R[R.Host=1]="Host",R[R.Self=2]="Self",R[R.SkipSelf=4]="SkipSelf",R[R.Optional=8]="Optional",R))();let F;function P(){return F}function M(e){const t=F;return F=e,t}function L(e,t,n){const r=D(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&R.Optional?null:void 0!==t?t:void _(d(e),"Injector")}function V(e){return{toString:e}.toString()}var j=(()=>((j=j||{})[j.OnPush=0]="OnPush",j[j.Default=1]="Default",j))(),U=(()=>((U=U||{})[U.CheckOnce=0]="CheckOnce",U[U.Checked=1]="Checked",U[U.CheckAlways=2]="CheckAlways",U[U.Detached=3]="Detached",U[U.Errored=4]="Errored",U[U.Destroyed=5]="Destroyed",U))();function B(e){return null==e||e===j.Default}var q=(()=>((q=q||{})[q.Emulated=0]="Emulated",q[q.None=2]="None",q[q.ShadowDom=3]="ShadowDom",q))();const H="undefined"!=typeof globalThis&&globalThis,G="undefined"!=typeof window&&window,z="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,$="undefined"!=typeof global&&global,K=H||$||G||z,Q={},W=[],Z=l({"\u0275cmp":l}),J=l({"\u0275dir":l}),Y=l({"\u0275pipe":l}),X=l({"\u0275mod":l}),ee=l({"\u0275loc":l}),te=l({"\u0275fac":l}),ne=l({__NG_ELEMENT_ID__:l});let re=0;function ie(e){return V(()=>{const t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===j.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||W,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||q.Emulated,id:"c",styles:e.styles||W,_:null,setInput:null,schemas:e.schemas||null,tView:null},r=e.directives,i=e.features,o=e.pipes;return n.id+=re++,n.inputs=he(e.inputs,t),n.outputs=he(e.outputs),i&&i.forEach(e=>e(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(se):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(ae):null,n})}function oe(e,t,n){const r=e.\u0275cmp;r.directiveDefs=()=>t.map(se),r.pipeDefs=()=>n.map(ae)}function se(e){return pe(e)||ge(e)}function ae(e){return me(e)}const ue={};function ce(e){return V(()=>{const t={type:e.type,bootstrap:e.bootstrap||W,declarations:e.declarations||W,imports:e.imports||W,exports:e.exports||W,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(ue[e.id]=e.type),t})}function le(e,t){return V(()=>{const n=ye(e,!0);n.declarations=t.declarations||W,n.imports=t.imports||W,n.exports=t.exports||W})}function he(e,t){if(null==e)return Q;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}const de=ie;function fe(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function pe(e){return e[Z]||null}function ge(e){return e[J]||null}function me(e){return e[Y]||null}function ye(e,t){const n=e[X]||null;if(!n&&!0===t)throw new Error(`Type ${d(e)} does not have '\u0275mod' property.`);return n}const ve=20,be=10;function we(e){return Array.isArray(e)&&"object"==typeof e[1]}function _e(e){return Array.isArray(e)&&!0===e[1]}function Ce(e){return 0!=(8&e.flags)}function Ee(e){return 2==(2&e.flags)}function Ie(e){return 1==(1&e.flags)}function Se(e){return null!==e.template}function De(e,t){return e.hasOwnProperty(te)?e[te]:null}class Te{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function Ae(){return xe}function xe(e){return e.type.prototype.ngOnChanges&&(e.setInput=Ne),ke}function ke(){const e=Oe(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===Q)e.previous=t;else for(let e in t)n[e]=t[e];e.current=null,this.ngOnChanges(t)}}function Ne(e,t,n,r){const i=Oe(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:Q,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new Te(u&&u.currentValue,t,s===Q),e[r]=t}function Oe(e){return e.__ngSimpleChanges__||null}Ae.ngInherit=!0;let Re=null;const Fe=e=>{Re=e},Pe=function(e,t,n){null!=Re&&Re(e,t,n)},Me="http://www.w3.org/2000/svg",Le="http://www.w3.org/1998/MathML/";let Ve;function je(e){Ve=e}function Ue(){return void 0!==Ve?Ve:"undefined"!=typeof document?document:void 0}function Be(e){return!!e.listen}const qe={createRenderer:(e,t)=>Ue()};function He(e){for(;Array.isArray(e);)e=e[0];return e}function Ge(e,t){return He(t[e])}function ze(e,t){return He(t[e.index])}function $e(e,t){return e.data[t]}function Ke(e,t){return e[t]}function Qe(e,t){const n=t[e];return we(n)?n:n[0]}function We(e){return 4==(4&e[2])}function Ze(e){return 128==(128&e[2])}function Je(e,t){return null==t?null:e[t]}function Ye(e){e[18]=0}function Xe(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const et={lFrame:kt(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function tt(){return et.bindingsEnabled}function nt(){et.bindingsEnabled=!0}function rt(){et.bindingsEnabled=!1}function it(){return et.lFrame.lView}function ot(){return et.lFrame.tView}function st(e){return et.lFrame.contextLView=e,e[8]}function at(){let e=ut();for(;null!==e&&64===e.type;)e=e.parent;return e}function ut(){return et.lFrame.currentTNode}function ct(){const e=et.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function lt(e,t){const n=et.lFrame;n.currentTNode=e,n.isParent=t}function ht(){return et.lFrame.isParent}function dt(){et.lFrame.isParent=!1}function ft(){return et.isInCheckNoChangesMode}function pt(e){et.isInCheckNoChangesMode=e}function gt(){const e=et.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function mt(){return et.lFrame.bindingIndex}function yt(e){return et.lFrame.bindingIndex=e}function vt(){return et.lFrame.bindingIndex++}function bt(e){const t=et.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function wt(e){et.lFrame.inI18n=e}function _t(e,t){const n=et.lFrame;n.bindingIndex=n.bindingRootIndex=e,Ct(t)}function Ct(e){et.lFrame.currentDirectiveIndex=e}function Et(e){const t=et.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function It(){return et.lFrame.currentQueryIndex}function St(e){et.lFrame.currentQueryIndex=e}function Dt(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function Tt(e,t,n){if(n&R.SkipSelf){let r=t,i=e;for(;r=r.parent,!(null!==r||n&R.Host||(r=Dt(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;t=r,e=i}const r=et.lFrame=xt();return r.currentTNode=t,r.lView=e,!0}function At(e){const t=xt(),n=e[1];et.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function xt(){const e=et.lFrame,t=null===e?null:e.child;return null===t?kt(e):t}function kt(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Nt(){const e=et.lFrame;return et.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Ot=Nt;function Rt(){const e=Nt();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Ft(e){return(et.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,et.lFrame.contextLView))[8]}function Pt(){return et.lFrame.selectedIndex}function Mt(e){et.lFrame.selectedIndex=e}function Lt(){const e=et.lFrame;return $e(e.tView,e.selectedIndex)}function Vt(){et.lFrame.currentNamespace=Me}function jt(){et.lFrame.currentNamespace=Le}function Ut(){et.lFrame.currentNamespace=null}function Bt(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const t=e.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=t;r&&(e.contentHooks||(e.contentHooks=[])).push(-n,r),i&&((e.contentHooks||(e.contentHooks=[])).push(n,i),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,i)),o&&(e.viewHooks||(e.viewHooks=[])).push(-n,o),s&&((e.viewHooks||(e.viewHooks=[])).push(n,s),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,s)),null!=a&&(e.destroyHooks||(e.destroyHooks=[])).push(n,a)}}function qt(e,t,n){zt(e,t,3,n)}function Ht(e,t,n,r){(3&e[2])===n&&zt(e,t,n,r)}function Gt(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function zt(e,t,n,r){const i=null!=r?r:-1,o=t.length-1;let s=0;for(let a=void 0!==r?65535&e[18]:0;a<o;a++)if("number"==typeof t[a+1]){if(s=t[a],null!=r&&s>=r)break}else t[a]<0&&(e[18]+=65536),(s<i||-1==i)&&($t(e,n,t,a),e[18]=(4294901760&e[18])+a+2),a++}function $t(e,t,n,r){const i=n[r]<0,o=n[r+1],s=e[i?-n[r]:n[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048,Pe(4,s,o);try{o.call(s)}finally{Pe(5,s,o)}}}else{Pe(4,s,o);try{o.call(s)}finally{Pe(5,s,o)}}}const Kt=-1;class Qt{constructor(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}function Wt(e,t,n){const r=Be(e);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?e.setAttribute(t,a,u,s):t.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];Jt(s)?r&&e.setProperty(t,s,a):r?e.setAttribute(t,s,a):t.setAttribute(s,a),i++}}return i}function Zt(e){return 3===e||4===e||6===e}function Jt(e){return 64===e.charCodeAt(0)}function Yt(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||Xt(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function Xt(e,t,n,r,i){let o=0,s=e.length;if(-1===t)s=-1;else for(;o<e.length;){const n=e[o++];if("number"==typeof n){if(n===t){s=-1;break}if(n>t){s=o-1;break}}}for(;o<e.length;){const t=e[o];if("number"==typeof t)break;if(t===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}function en(e){return e!==Kt}function tn(e){return 32767&e}function nn(e,t){let n=e>>16,r=t;for(;n>0;)r=r[15],n--;return r}let rn=!0;function on(e){const t=rn;return rn=e,t}let sn=0;function an(e,t){const n=cn(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,un(r.data,e),un(t,null),un(r.blueprint,null));const i=ln(e,t),o=e.injectorIndex;if(en(i)){const e=tn(i),n=nn(i,t),r=n[1].data;for(let i=0;i<8;i++)t[o+i]=n[e+i]|r[e+i]}return t[o+8]=i,o}function un(e,t){e.push(0,0,0,0,0,0,0,0,t)}function cn(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function ln(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){const e=i[1],t=e.type;if(r=2===t?e.declTNode:1===t?i[6]:null,null===r)return Kt;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Kt}function hn(e,t,n){!function(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ne)&&(r=n[ne]),null==r&&(r=n[ne]=sn++);const i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function dn(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const e=n.length;let r=0;for(;r<e;){const i=n[r];if(Zt(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<e&&"string"==typeof n[r];)r++;else{if(i===t)return n[r+1];r+=2}}}return null}function fn(e,t,n){if(n&R.Optional)return e;_(t,"NodeInjector")}function pn(e,t,n,r){if(n&R.Optional&&void 0===r&&(r=null),0==(n&(R.Self|R.Host))){const i=e[9],o=M(void 0);try{return i?i.get(t,r,n&R.Optional):L(t,r,n&R.Optional)}finally{M(o)}}return fn(r,t,n)}function gn(e,t,n,r=R.Default,i){if(null!==e){const o=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(ne)?e[ne]:void 0;return"number"==typeof t?t>=0?255&t:yn:t}(n);if("function"==typeof o){if(!Tt(t,e,r))return r&R.Host?fn(i,n,r):pn(t,n,r,i);try{const e=o(r);if(null!=e||r&R.Optional)return e;_(n)}finally{Ot()}}else if("number"==typeof o){let i=null,s=cn(e,t),a=Kt,u=r&R.Host?t[16][6]:null;for((-1===s||r&R.SkipSelf)&&(a=-1===s?ln(e,t):t[s+8],a!==Kt&&Cn(r,!1)?(i=t[1],s=tn(a),t=nn(a,t)):s=-1);-1!==s;){const e=t[1];if(_n(o,s,e.data)){const e=vn(s,t,n,i,r,u);if(e!==mn)return e}a=t[s+8],a!==Kt&&Cn(r,t[1].data[s+8]===u)&&_n(o,s,t)?(i=e,s=tn(a),t=nn(a,t)):s=-1}}}return pn(t,n,r,i)}const mn={};function yn(){return new En(at(),it())}function vn(e,t,n,r,i,o){const s=t[1],a=s.data[e+8],u=bn(a,s,n,null==r?Ee(a)&&rn:r!=s&&0!=(3&a.type),i&R.Host&&o===a);return null!==u?wn(t,s,u,a):mn}function bn(e,t,n,r,i){const o=e.providerIndexes,s=t.data,a=1048575&o,u=e.directiveStart,c=o>>20,l=i?a+c:e.directiveEnd;for(let h=r?a:a+c;h<l;h++){const e=s[h];if(h<u&&n===e||h>=u&&e.type===n)return h}if(i){const e=s[u];if(e&&Se(e)&&e.type===n)return u}return null}function wn(e,t,n,r){let i=e[n];const o=t.data;if(i instanceof Qt){const s=i;s.resolving&&function(e,t){throw new v("200",`Circular dependency in DI detected for ${e}`)}(w(o[n]));const a=on(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?M(s.injectImpl):null;Tt(e,r,R.Default);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){const r=xe(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o))}(n,o[n],t)}finally{null!==u&&M(u),on(a),s.resolving=!1,Ot()}}return i}function _n(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function Cn(e,t){return!(e&R.Self||e&R.Host&&t)}class En{constructor(e,t){this._tNode=e,this._lView=t}get(e,t){return gn(this._tNode,this._lView,e,void 0,t)}}function In(e){return V(()=>{const t=e.prototype.constructor,n=t[te]||Sn(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const e=i[te]||Sn(i);if(e&&e!==n)return e;i=Object.getPrototypeOf(i)}return e=>new e})}function Sn(e){return y(e)?()=>{const t=Sn(m(e));return t&&t()}:De(e)}function Dn(e){return dn(at(),e)}const Tn="__annotations__",An="__parameters__",xn="__prop__metadata__";function kn(e,t,n,r,i){return V(()=>{const o=Nn(t);function s(...e){if(this instanceof s)return o.call(this,...e),this;const t=new s(...e);return function(n){return i&&i(n,...e),(n.hasOwnProperty(Tn)?n[Tn]:Object.defineProperty(n,Tn,{value:[]})[Tn]).push(t),r&&r(n),n}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s})}function Nn(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}function On(e,t,n){return V(()=>{const r=Nn(t);function i(...e){if(this instanceof i)return r.apply(this,e),this;const t=new i(...e);return n.annotation=t,n;function n(e,n,r){const i=e.hasOwnProperty(An)?e[An]:Object.defineProperty(e,An,{value:[]})[An];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(t),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function Rn(e,t,n,r){return V(()=>{const i=Nn(t);function o(...e){if(this instanceof o)return i.apply(this,e),this;const t=new o(...e);return function(n,i){const o=n.constructor,s=o.hasOwnProperty(xn)?o[xn]:Object.defineProperty(o,xn,{value:{}})[xn];s[i]=s.hasOwnProperty(i)&&s[i]||[],s[i].unshift(t),r&&r(n,i,...e)}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}function Fn(){return On("Attribute",e=>({attributeName:e,__NG_ELEMENT_ID__:()=>Dn(e)}))}const Pn=Fn();class Mn{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=E({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ln=new Mn("AnalyzeForEntryComponents");class Vn{}const jn=Rn("ContentChildren",(e,t={})=>Object.assign({selector:e,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:!0},t),Vn),Un=Rn("ContentChild",(e,t={})=>Object.assign({selector:e,first:!0,isViewQuery:!1,descendants:!0},t),Vn),Bn=Rn("ViewChildren",(e,t={})=>Object.assign({selector:e,first:!1,isViewQuery:!0,descendants:!0,emitDistinctChangesOnly:!0},t),Vn),qn=Rn("ViewChild",(e,t)=>Object.assign({selector:e,first:!0,isViewQuery:!0,descendants:!0},t),Vn);var Hn=(()=>((Hn=Hn||{})[Hn.Directive=0]="Directive",Hn[Hn.Component=1]="Component",Hn[Hn.Injectable=2]="Injectable",Hn[Hn.Pipe=3]="Pipe",Hn[Hn.NgModule=4]="NgModule",Hn))();function Gn(e){const t=K.ng;if(t&&t.\u0275compilerFacade)return t.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const zn=Function;function $n(e){return"function"==typeof e}function Kn(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),Kn(r,t)):t!==e&&t.push(r)}return t}function Qn(e,t){e.forEach(e=>Array.isArray(e)?Qn(e,t):t(e))}function Wn(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Zn(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Jn(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}function Yn(e,t,n){let r=er(e,t);return r>=0?e[1|r]=n:(r=~r,function(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function Xn(e,t){const n=er(e,t);if(n>=0)return e[1|n]}function er(e,t){return function(e,t,n){let r=0,i=e.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=e[n<<1];if(t===o)return n<<1;o>t?i=n:r=n+1}return~(i<<1)}(e,t)}const tr=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\))\)/,nr=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,rr=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,ir=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s*super\(\.\.\.arguments\)/;class or{constructor(e){this._reflect=e||K.Reflect}isReflectionEnabled(){return!0}factory(e){return(...t)=>new e(...t)}_zipTypesAndAnnotations(e,t){let n;n=Jn(void 0===e?t.length:e.length);for(let r=0;r<n.length;r++)n[r]=void 0===e?[]:e[r]&&e[r]!=Object?[e[r]]:[],t&&null!=t[r]&&(n[r]=n[r].concat(t[r]));return n}_ownParameters(e,t){if(n=e.toString(),tr.test(n)||ir.test(n)||nr.test(n)&&!rr.test(n))return null;var n;if(e.parameters&&e.parameters!==t.parameters)return e.parameters;const r=e.ctorParameters;if(r&&r!==t.ctorParameters){const e="function"==typeof r?r():r,t=e.map(e=>e&&e.type),n=e.map(e=>e&&sr(e.decorators));return this._zipTypesAndAnnotations(t,n)}const i=e.hasOwnProperty(An)&&e[An],o=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",e);return o||i?this._zipTypesAndAnnotations(o,i):Jn(e.length)}parameters(e){if(!$n(e))return[];const t=ar(e);let n=this._ownParameters(e,t);return n||t===Object||(n=this.parameters(t)),n||[]}_ownAnnotations(e,t){if(e.annotations&&e.annotations!==t.annotations){let t=e.annotations;return"function"==typeof t&&t.annotations&&(t=t.annotations),t}return e.decorators&&e.decorators!==t.decorators?sr(e.decorators):e.hasOwnProperty(Tn)?e[Tn]:null}annotations(e){if(!$n(e))return[];const t=ar(e),n=this._ownAnnotations(e,t)||[];return(t!==Object?this.annotations(t):[]).concat(n)}_ownPropMetadata(e,t){if(e.propMetadata&&e.propMetadata!==t.propMetadata){let t=e.propMetadata;return"function"==typeof t&&t.propMetadata&&(t=t.propMetadata),t}if(e.propDecorators&&e.propDecorators!==t.propDecorators){const t=e.propDecorators,n={};return Object.keys(t).forEach(e=>{n[e]=sr(t[e])}),n}return e.hasOwnProperty(xn)?e[xn]:null}propMetadata(e){if(!$n(e))return{};const t=ar(e),n={};if(t!==Object){const e=this.propMetadata(t);Object.keys(e).forEach(t=>{n[t]=e[t]})}const r=this._ownPropMetadata(e,t);return r&&Object.keys(r).forEach(e=>{const t=[];n.hasOwnProperty(e)&&t.push(...n[e]),t.push(...r[e]),n[e]=t}),n}ownPropMetadata(e){return $n(e)&&this._ownPropMetadata(e,ar(e))||{}}hasLifecycleHook(e,t){return e instanceof zn&&t in e.prototype}guards(e){return{}}getter(e){return new Function("o","return o."+e+";")}setter(e){return new Function("o","v","return o."+e+" = v;")}method(e){return new Function("o","args",`if (!o.${e}) throw new Error('"${e}" is undefined');\n        return o.${e}.apply(o, args);`)}importUri(e){return"object"==typeof e&&e.filePath?e.filePath:`./${d(e)}`}resourceUri(e){return`./${d(e)}`}resolveIdentifier(e,t,n,r){return r}resolveEnum(e,t){return e[t]}}function sr(e){return e?e.map(e=>new(0,e.type.annotationCls)(...e.args?e.args:[])):[]}function ar(e){const t=e.prototype?Object.getPrototypeOf(e.prototype):null;return(t?t.constructor:null)||Object}const ur={},cr=/\n/gm,lr="__source",hr=l({provide:String,useValue:l});let dr;function fr(e){const t=dr;return dr=e,t}function pr(e,t=R.Default){if(void 0===dr)throw new Error("inject() must be called from an injection context");return null===dr?L(e,void 0,t):dr.get(e,t&R.Optional?null:void 0,t)}function gr(e,t=R.Default){return(P()||pr)(m(e),t)}function mr(e){throw new Error("invalid")}const yr=gr;function vr(e){const t=[];for(let n=0;n<e.length;n++){const r=m(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let e,n=R.Default;for(let t=0;t<r.length;t++){const i=r[t],o=i.__NG_DI_FLAG__;"number"==typeof o?-1===o?e=i.token:n|=o:e=i}t.push(gr(e,n))}else t.push(gr(r))}return t}function br(e,t){return e.__NG_DI_FLAG__=t,e.prototype.__NG_DI_FLAG__=t,e}const wr=e=>({token:e}),_r=br(On("Inject",wr),-1),Cr=br(On("Optional"),8),Er=br(On("Self"),2),Ir=br(On("SkipSelf"),4),Sr=br(On("Host"),1);let Dr=null;function Tr(){return Dr=Dr||new or}function Ar(e){return xr(Tr().parameters(e))}function xr(e){return e.map(e=>function(e){const t={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(e)&&e.length>0)for(let n=0;n<e.length;n++){const r=e[n];if(void 0===r)continue;const i=Object.getPrototypeOf(r);if(r instanceof Cr||"Optional"===i.ngMetadataName)t.optional=!0;else if(r instanceof Ir||"SkipSelf"===i.ngMetadataName)t.skipSelf=!0;else if(r instanceof Er||"Self"===i.ngMetadataName)t.self=!0;else if(r instanceof Sr||"Host"===i.ngMetadataName)t.host=!0;else if(r instanceof _r)t.token=r.token;else if(r instanceof Pn){if(void 0===r.attributeName)throw new Error("Attribute name must be defined.");t.attribute=r.attributeName}else t.token=r}else t.token=void 0===e||Array.isArray(e)&&0===e.length?null:e;return t}(e))}function kr(e){const t=[],n=new Map;function r(t){let r=n.get(t);if(!r){const i=e(t);n.set(t,r=i.then(Pr))}return r}return Nr.forEach((e,n)=>{const i=[];e.templateUrl&&i.push(r(e.templateUrl).then(t=>{e.template=t}));const o=e.styleUrls,s=e.styles||(e.styles=[]),a=e.styles.length;o&&o.forEach((t,n)=>{s.push(""),i.push(r(t).then(r=>{s[a+n]=r,o.splice(o.indexOf(t),1),0==o.length&&(e.styleUrls=void 0)}))});const u=Promise.all(i).then(()=>function(e){Or.delete(e)}(n));t.push(u)}),Fr(),Promise.all(t).then(()=>{})}let Nr=new Map;const Or=new Set;function Rr(e){return!!(e.templateUrl&&!e.hasOwnProperty("template")||e.styleUrls&&e.styleUrls.length)}function Fr(){const e=Nr;return Nr=new Map,e}function Pr(e){return"string"==typeof e?e:e.text()}let Mr,Lr;function Vr(){if(void 0===Mr&&(Mr=null,K.trustedTypes))try{Mr=K.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return Mr}function jr(e){var t;return(null===(t=Vr())||void 0===t?void 0:t.createHTML(e))||e}function Ur(){if(void 0===Lr&&(Lr=null,K.trustedTypes))try{Lr=K.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return Lr}function Br(e){var t;return(null===(t=Ur())||void 0===t?void 0:t.createHTML(e))||e}function qr(e){var t;return(null===(t=Ur())||void 0===t?void 0:t.createScript(e))||e}function Hr(e){var t;return(null===(t=Ur())||void 0===t?void 0:t.createScriptURL(e))||e}class Gr{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class zr extends Gr{getTypeName(){return"HTML"}}class $r extends Gr{getTypeName(){return"Style"}}class Kr extends Gr{getTypeName(){return"Script"}}class Qr extends Gr{getTypeName(){return"URL"}}class Wr extends Gr{getTypeName(){return"ResourceURL"}}function Zr(e){return e instanceof Gr?e.changingThisBreaksApplicationSecurity:e}function Jr(e,t){const n=Yr(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}function Yr(e){return e instanceof Gr&&e.getTypeName()||null}function Xr(e){return new zr(e)}function ei(e){return new $r(e)}function ti(e){return new Kr(e)}function ni(e){return new Qr(e)}function ri(e){return new Wr(e)}function ii(e){const t=new si(e);return function(){try{return!!(new window.DOMParser).parseFromString(jr(""),"text/html")}catch(e){return!1}}()?new oi(t):t}class oi{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(jr(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class si{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const t=this.inertDocument.createElement("body");e.appendChild(t)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=jr(e),t;const n=this.inertDocument.createElement("body");return n.innerHTML=jr(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(e){const t=e.attributes;for(let r=t.length-1;0<r;r--){const n=t.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||e.removeAttribute(n)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const ai=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ui=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ci(e){return(e=String(e)).match(ai)||e.match(ui)?e:"unsafe:"+e}function li(e){return(e=String(e)).split(",").map(e=>ci(e.trim())).join(", ")}function hi(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function di(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const fi=hi("area,br,col,hr,img,wbr"),pi=hi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),gi=hi("rp,rt"),mi=di(gi,pi),yi=di(fi,di(pi,hi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),di(gi,hi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),mi),vi=hi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),bi=hi("srcset"),wi=di(vi,bi,hi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),hi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),_i=hi("script,style,template");class Ci{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!yi.hasOwnProperty(t))return this.sanitizedSomething=!0,!_i.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let r=0;r<n.length;r++){const e=n.item(r),t=e.name,i=t.toLowerCase();if(!wi.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let o=e.value;vi[i]&&(o=ci(o)),bi[i]&&(o=li(o)),this.buf.push(" ",t,'="',Si(o),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();yi.hasOwnProperty(t)&&!fi.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Si(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const Ei=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ii=/([^\#-~ |!])/g;function Si(e){return e.replace(/&/g,"&amp;").replace(Ei,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Ii,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Di;function Ti(e,t){let n=null;try{Di=Di||ii(e);let r=t?String(t):"";n=Di.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Di.getInertBodyElement(r)}while(r!==o);return jr((new Ci).sanitizeChildren(Ai(n)||n))}finally{if(n){const e=Ai(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}function Ai(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var xi=(()=>((xi=xi||{})[xi.NONE=0]="NONE",xi[xi.HTML=1]="HTML",xi[xi.STYLE=2]="STYLE",xi[xi.SCRIPT=3]="SCRIPT",xi[xi.URL=4]="URL",xi[xi.RESOURCE_URL=5]="RESOURCE_URL",xi))();function ki(e){const t=ji();return t?Br(t.sanitize(xi.HTML,e)||""):Jr(e,"HTML")?Br(Zr(e)):Ti(Ue(),b(e))}function Ni(e){const t=ji();return t?t.sanitize(xi.STYLE,e)||"":Jr(e,"Style")?Zr(e):b(e)}function Oi(e){const t=ji();return t?t.sanitize(xi.URL,e)||"":Jr(e,"URL")?Zr(e):ci(b(e))}function Ri(e){const t=ji();if(t)return Hr(t.sanitize(xi.RESOURCE_URL,e)||"");if(Jr(e,"ResourceURL"))return Hr(Zr(e));throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)")}function Fi(e){const t=ji();if(t)return qr(t.sanitize(xi.SCRIPT,e)||"");if(Jr(e,"Script"))return qr(Zr(e));throw new Error("unsafe value used in a script context")}function Pi(e){return jr(e[0])}function Mi(e){return function(e){var t;return(null===(t=Vr())||void 0===t?void 0:t.createScriptURL(e))||e}(e[0])}function Li(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?Ri:Oi}function Vi(e,t,n){return Li(t,n)(e)}function ji(){const e=it();return e&&e[12]}function Ui(e){let t=Gi(e);if(t){if(Array.isArray(t)){const r=t;let i,o,s;if((n=e)&&n.constructor&&n.constructor.\u0275cmp){if(i=Qi(r,e),-1==i)throw new Error("The provided component was not found in the application");o=e}else if(function(e){return e&&e.constructor&&e.constructor.\u0275dir}(e)){if(i=function(e,t){let n=e[1].firstChild;for(;n;){const r=n.directiveEnd;for(let i=n.directiveStart;i<r;i++)if(e[i]===t)return n.index;n=Ki(n)}return-1}(r,e),-1==i)throw new Error("The provided directive was not found in the application");s=Wi(i,r,!1)}else if(i=$i(r,e),-1==i)return null;const a=He(r[i]),u=Gi(a),c=u&&!Array.isArray(u)?u:Bi(r,i,a);if(o&&void 0===c.component&&(c.component=o,Hi(c.component,c)),s&&void 0===c.directives){c.directives=s;for(let e=0;e<s.length;e++)Hi(s[e],c)}Hi(c.native,c),t=c}}else{const n=e;let r=n;for(;r=r.parentNode;){const e=Gi(r);if(e){let r;if(r=Array.isArray(e)?e:e.lView,!r)return null;const i=$i(r,n);if(i>=0){const e=He(r[i]),n=Bi(r,i,e);Hi(e,n),t=n;break}}}}var n;return t||null}function Bi(e,t,n){return{lView:e,nodeIndex:t,native:n,component:void 0,directives:void 0,localRefs:void 0}}function qi(e){let t,n=Gi(e);if(Array.isArray(n)){const r=Qi(n,e);t=Qe(r,n);const i=Bi(n,r,t[0]);i.component=e,Hi(e,i),Hi(i.native,i)}else t=Qe(n.nodeIndex,n.lView);return t}function Hi(e,t){e.__ngContext__=t}function Gi(e){return e.__ngContext__||null}function zi(e){const t=Gi(e);return t?Array.isArray(t)?t:t.lView:null}function $i(e,t){const n=e[1];for(let r=ve;r<n.bindingStartIndex;r++)if(He(e[r])===t)return r;return-1}function Ki(e){if(e.child)return e.child;if(e.next)return e.next;for(;e.parent&&!e.parent.next;)e=e.parent;return e.parent&&e.parent.next}function Qi(e,t){const n=e[1].components;if(n)for(let r=0;r<n.length;r++){const i=n[r];if(Qe(i,e)[8]===t)return i}else if(Qe(ve,e)[8]===t)return ve;return-1}function Wi(e,t,n){const r=t[1].data[e];let i=r.directiveStart;return 0==i?W:(!n&&2&r.flags&&i++,t.slice(i,r.directiveEnd))}function Zi(e){return e.ngDebugContext}function Ji(e){return e.ngOriginalError}function Yi(e,...t){e.error(...t)}class Xi{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e&&e.ngErrorLogger||Yi}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?Zi(e)||this._findContext(Ji(e)):null}_findOriginalError(e){let t=e&&Ji(e);for(;t&&Ji(t);)t=Ji(t);return t||null}}const eo={name:"custom-elements"},to={name:"no-errors-schema"},no=/^>|^->|<!--|-->|--!>|<!-$/g,ro=/(<|>)/;function io(e){return e.replace(no,e=>e.replace(ro,"\u200b$1\u200b"))}const oo=/([A-Z])/g;function so(e){try{return null!=e?e.toString().slice(0,30):e}catch(t){return"[ERROR] Exception while trying to serialize the value"}}const ao=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(K))();function uo(e){return e.ownerDocument.defaultView}function co(e){return e.ownerDocument}function lo(e){return e.ownerDocument.body}function ho(e){return e instanceof Function?e():e}var fo=(()=>((fo=fo||{})[fo.Important=1]="Important",fo[fo.DashCase=2]="DashCase",fo))();let po;function go(e,t){return po(e,t)}function mo(e){const t=e[3];return _e(t)?t[3]:t}function yo(e){return function(e){let t=we(e)?e:zi(e);for(;t&&!(512&t[2]);)t=mo(t);return t}(e)[8]}function vo(e){return wo(e[13])}function bo(e){return wo(e[4])}function wo(e){for(;null!==e&&!_e(e);)e=e[4];return e}function _o(e,t,n,r,i){if(null!=r){let o,s=!1;_e(r)?o=r:we(r)&&(s=!0,r=r[0]);const a=He(r);0===e&&null!==n?null==i?Ro(t,n,a):Oo(t,n,a,i||null,!0):1===e&&null!==n?Oo(t,n,a,i||null,!0):2===e?zo(t,a,s):3===e&&t.destroyNode(a),null!=o&&function(e,t,n,r,i){const o=n[7];o!==He(n)&&_o(t,e,r,o,i);for(let s=be;s<n.length;s++){const i=n[s];Ko(i[1],i,e,t,r,o)}}(t,e,o,n,i)}}function Co(e,t){return Be(e)?e.createText(t):e.createTextNode(t)}function Eo(e,t,n){Be(e)?e.setValue(t,n):t.textContent=n}function Io(e,t){return e.createComment(io(t))}function So(e,t,n){return Be(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Do(e,t){const n=e[9],r=n.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,Xe(i,-1)),n.splice(r,1)}function To(e,t){if(e.length<=be)return;const n=be+t,r=e[n];if(r){const o=r[17];null!==o&&o!==e&&Do(o,r),t>0&&(e[n-1][4]=r[4]);const s=Zn(e,be+t);Ko(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Ao(e,t){if(!(256&t[2])){const n=t[11];Be(n)&&n.destroyNode&&Ko(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return xo(e[1],e);for(;t;){let n=null;if(we(t))n=t[13];else{const e=t[10];e&&(n=e)}if(!n){for(;t&&!t[4]&&t!==e;)we(t)&&xo(t[1],t),t=t[3];null===t&&(t=e),we(t)&&xo(t[1],t),n=t&&t[4]}t=n}}(t)}}function xo(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const e=t[n[r]];if(!(e instanceof Qt)){const t=n[r+1];if(Array.isArray(t))for(let n=0;n<t.length;n+=2){const r=e[t[n]],i=t[n+1];Pe(4,r,i);try{i.call(r)}finally{Pe(5,r,i)}}else{Pe(4,e,t);try{t.call(e)}finally{Pe(5,e,t)}}}}}(e,t),function(e,t){const n=e.cleanup,r=t[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const e=n[o+1],s="function"==typeof e?e(t):He(t[e]),a=r[i=n[o+2]],u=n[o+3];"boolean"==typeof u?s.removeEventListener(n[o],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const e=r[i=n[o+1]];n[o].call(e)}if(null!==r){for(let e=i+1;e<r.length;e++)(0,r[e])();t[7]=null}}(e,t),1===t[1].type&&Be(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&_e(t[3])){n!==t[3]&&Do(n,t);const r=t[19];null!==r&&r.detachView(e)}}}function ko(e,t,n){return No(e,t.parent,n)}function No(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){const t=e.data[r.directiveStart].encapsulation;if(t===q.None||t===q.Emulated)return null}return ze(r,n)}function Oo(e,t,n,r,i){Be(e)?e.insertBefore(t,n,r,i):t.insertBefore(n,r,i)}function Ro(e,t,n){Be(e)?e.appendChild(t,n):t.appendChild(n)}function Fo(e,t,n,r,i){null!==r?Oo(e,t,n,r,i):Ro(e,t,n)}function Po(e,t){return Be(e)?e.parentNode(t):t.parentNode}function Mo(e,t,n){return jo(e,t,n)}function Lo(e,t,n){return 40&e.type?ze(e,n):null}let Vo,jo=Lo;function Uo(e,t){jo=e,Vo=t}function Bo(e,t,n,r){const i=ko(e,r,t),o=t[11],s=Mo(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Fo(o,i,n[a],s,!1);else Fo(o,i,n,s,!1);void 0!==Vo&&Vo(o,r,t,n,i)}function qo(e,t){if(null!==t){const n=t.type;if(3&n)return ze(t,e);if(4&n)return Go(-1,e[t.index]);if(8&n){const n=t.child;if(null!==n)return qo(e,n);{const n=e[t.index];return _e(n)?Go(-1,n):He(n)}}if(32&n)return go(t,e)()||He(e[t.index]);{const n=Ho(e,t);return null!==n?Array.isArray(n)?n[0]:qo(mo(e[16]),n):qo(e,t.next)}}return null}function Ho(e,t){return null!==t?e[16][6].projection[t.projection]:null}function Go(e,t){const n=be+e+1;if(n<t.length){const e=t[n],r=e[1].firstChild;if(null!==r)return qo(e,r)}return t[7]}function zo(e,t,n){const r=Po(e,t);r&&function(e,t,n,r){Be(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}function $o(e,t,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===t&&(a&&Hi(He(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)$o(e,t,n.child,r,i,o,!1),_o(t,e,i,a,o);else if(32&u){const s=go(n,r);let u;for(;u=s();)_o(t,e,i,u,o);_o(t,e,i,a,o)}else 16&u?Qo(e,t,r,n,i,o):_o(t,e,i,a,o);n=s?n.projectionNext:n.next}}function Ko(e,t,n,r,i,o){$o(n,r,e.firstChild,t,i,o,!1)}function Qo(e,t,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)_o(t,e,i,a[u],o);else $o(e,t,a,s[3],i,o,!0)}function Wo(e,t,n){Be(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Zo(e,t,n){Be(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function Jo(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const n=t.length;if(i+n===r||e.charCodeAt(i+n)<=32)return i}n=i+1}}const Yo="ng-template";function Xo(e,t,n){let r=0;for(;r<e.length;){let i=e[r++];if(n&&"class"===i){if(i=e[r],-1!==Jo(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function es(e){return 4===e.type&&e.value!==Yo}function ts(e,t,n){return t===(4!==e.type||n?e.value:Yo)}function ns(e,t,n){let r=4;const i=e.attrs||[],o=function(e){for(let t=0;t<e.length;t++)if(Zt(e[t]))return t;return e.length}(i);let s=!1;for(let a=0;a<t.length;a++){const u=t[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!ts(e,u,n)||""===u&&1===t.length){if(rs(r))return!1;s=!0}}else{const c=8&r?u:t[++a];if(8&r&&null!==e.attrs){if(!Xo(e.attrs,c,n)){if(rs(r))return!1;s=!0}continue}const l=is(8&r?"class":u,i,es(e),n);if(-1===l){if(rs(r))return!1;s=!0;continue}if(""!==c){let e;e=l>o?"":i[l+1].toLowerCase();const t=8&r?e:null;if(t&&-1!==Jo(t,c,0)||2&r&&c!==e){if(rs(r))return!1;s=!0}}}}else{if(!s&&!rs(r)&&!rs(u))return!1;if(s&&rs(u))continue;s=!1,r=u|1&r}}return rs(r)||s}function rs(e){return 0==(1&e)}function is(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let n=!1;for(;i<t.length;){const r=t[i];if(r===e)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let e=t[++i];for(;"string"==typeof e;)e=t[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function os(e,t,n=!1){for(let r=0;r<t.length;r++)if(ns(e,t[r],n))return!0;return!1}function ss(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let t=0;t<e.length;t++)if(e[t]!==r[t])continue e;return!0}}return!1}function as(e,t){return e?":not("+t.trim()+")":t}function us(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&r){const t=e[++n];i+="["+s+(t.length>0?'="'+t+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||rs(s)||(t+=as(o,i),i=""),r=s,o=o||!rs(r);n++}return""!==i&&(t+=as(o,i)),t}const cs={};function ls(e){hs(ot(),it(),Pt()+e,ft())}function hs(e,t,n,r){if(!r)if(3==(3&t[2])){const r=e.preOrderCheckHooks;null!==r&&qt(t,r,n)}else{const r=e.preOrderHooks;null!==r&&Ht(t,r,0,n)}Mt(n)}function ds(e,t){return e<<17|t<<2}function fs(e){return e>>17&32767}function ps(e){return 2|e}function gs(e){return(131068&e)>>2}function ms(e,t){return-131069&e|t<<2}function ys(e){return 1|e}const vs=(()=>Promise.resolve(null))();function bs(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=e.data[o];St(i),n.contentQueries(2,t[o],o)}}}function ws(e,t,n,r,i,o,s,a,u,c){const l=t.blueprint.slice();return l[0]=i,l[2]=140|r,Ye(l),l[3]=l[15]=e,l[8]=n,l[10]=s||e&&e[10],l[11]=a||e&&e[11],l[12]=u||e&&e[12]||null,l[9]=c||e&&e[9]||null,l[6]=o,l[16]=2==t.type?e[16]:l,l}function _s(e,t,n,r,i){let o=e.data[t];if(null===o)o=Cs(e,t,n,r,i),et.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const e=ct();o.injectorIndex=null===e?-1:e.injectorIndex}return lt(o,!0),o}function Cs(e,t,n,r,i){const o=ut(),s=ht(),a=e.data[t]=function(e,t,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}function Es(e,t,n,r){if(0===n)return-1;const i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Is(e,t,n){At(t);try{const r=e.viewQuery;null!==r&&ia(1,r,n);const i=e.template;null!==i&&Ts(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&bs(e,t),e.staticViewQueries&&ia(2,e.viewQuery,n);const o=e.components;null!==o&&function(e,t){for(let n=0;n<t.length;n++)Ys(e,t[n])}(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),r}finally{t[2]&=-5,Rt()}}function Ss(e,t,n,r){const i=t[2];if(256==(256&i))return;At(t);const o=ft();try{Ye(t),yt(e.bindingStartIndex),null!==n&&Ts(e,t,n,2,r);const s=3==(3&i);if(!o)if(s){const n=e.preOrderCheckHooks;null!==n&&qt(t,n,null)}else{const n=e.preOrderHooks;null!==n&&Ht(t,n,0,null),Gt(t,0)}if(function(e){for(let t=vo(e);null!==t;t=bo(t)){if(!t[2])continue;const e=t[9];for(let t=0;t<e.length;t++){const n=e[t],r=n[3];0==(1024&n[2])&&Xe(r,1),n[2]|=1024}}}(t),function(e){for(let t=vo(e);null!==t;t=bo(t))for(let e=be;e<t.length;e++){const n=t[e],r=n[1];Ze(n)&&Ss(r,n,r.template,n[8])}}(t),null!==e.contentQueries&&bs(e,t),!o)if(s){const n=e.contentCheckHooks;null!==n&&qt(t,n)}else{const n=e.contentHooks;null!==n&&Ht(t,n,1),Gt(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let e=0;e<n.length;e++){const r=n[e];if(r<0)Mt(~r);else{const i=r,o=n[++e],s=n[++e];_t(o,i),s(2,t[i])}}}finally{Mt(-1)}}(e,t);const a=e.components;null!==a&&function(e,t){for(let n=0;n<t.length;n++)Zs(e,t[n])}(t,a);const u=e.viewQuery;if(null!==u&&ia(2,u,r),!o)if(s){const n=e.viewCheckHooks;null!==n&&qt(t,n)}else{const n=e.viewHooks;null!==n&&Ht(t,n,2),Gt(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),o||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Xe(t[3],-1))}finally{Rt()}}function Ds(e,t,n,r){const i=t[10],o=!ft(),s=We(t);try{o&&!s&&i.begin&&i.begin(),s&&Is(e,t,r),Ss(e,t,n,r)}finally{o&&!s&&i.end&&i.end()}}function Ts(e,t,n,r,i){const o=Pt(),s=2&r;try{Mt(-1),s&&t.length>ve&&hs(e,t,ve,ft()),Pe(s?2:0,i),n(r,i)}finally{Mt(o),Pe(s?3:1,i)}}function As(e,t,n){if(Ce(t)){const r=t.directiveEnd;for(let i=t.directiveStart;i<r;i++){const t=e.data[i];t.contentQueries&&t.contentQueries(1,n[i],i)}}}function xs(e,t,n){tt()&&(function(e,t,n,r){const i=n.directiveStart,o=n.directiveEnd;e.firstCreatePass||an(n,t),Hi(r,t);const s=n.initialInputs;for(let a=i;a<o;a++){const r=e.data[a],o=Se(r);o&&Gs(t,n,r);const u=wn(t,e,a,n);Hi(u,t),null!==s&&Ks(0,a-i,u,r,0,s),o&&(Qe(n.index,t)[8]=u)}}(e,t,n,ze(n,t)),128==(128&n.flags)&&function(e,t,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=et.lFrame.currentDirectiveIndex;try{Mt(o);for(let n=r;n<i;n++){const r=e.data[n],i=t[n];Ct(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||js(r,i)}}finally{Mt(-1),Ct(s)}}(e,t,n))}function ks(e,t,n=ze){const r=t.localNames;if(null!==r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(t,e):e[s];e[i++]=a}}}function Ns(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Os(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Os(e,t,n,r,i,o,s,a,u,c){const l=ve+r,h=l+i,d=function(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:cs);return n}(l,h),f="function"==typeof c?c():c;return d[1]={type:e,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:t,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function Rs(e,t,n){if(Be(e))return e.selectRootElement(t,n===q.ShadowDom);let r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}function Fs(e,t,n,r){const i=sa(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&aa(e).push(r,i.length-1))}function Ps(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function Ms(e,t,n,r,i,o,s,a){const u=ze(t,n);let c,l=t.inputs;var h;!a&&null!=l&&(c=l[r])?(la(e,n,c,r,i),Ee(t)&&function(e,t){const n=Qe(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,t.value||"",r):i,Be(o)?o.setProperty(u,r,i):Jt(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Ls(e,t,n,r){let i=!1;if(tt()){const o=function(e,t,n){const r=e.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];os(n,s.selectors,!1)&&(i||(i=[]),hn(an(n,t),e,s.type),Se(s)?(Us(e,n),i.unshift(s)):i.push(s))}return i}(e,t,n),s=null===r?null:{"":-1};if(null!==o){i=!0,qs(n,e.data.length,o.length);for(let e=0;e<o.length;e++){const t=o[e];t.providersResolver&&t.providersResolver(t)}let r=!1,a=!1,u=Es(e,t,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=Yt(n.mergedAttrs,c.hostAttrs),Hs(e,n,t,u,c),Bs(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(e,t){const n=t.directiveEnd,r=e.data,i=t.attrs,o=[];let s=null,a=null;for(let u=t.directiveStart;u<n;u++){const e=r[u],n=e.inputs,c=null===i||es(t)?null:Qs(n,i);o.push(c),s=Ps(n,u,s),a=Ps(e.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(t.flags|=16),s.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=s,t.outputs=a}(e,n)}s&&function(e,t,n){if(t){const r=e.localNames=[];for(let e=0;e<t.length;e+=2){const i=n[t[e+1]];if(null==i)throw new v("301",`Export of name '${t[e+1]}' not found!`);r.push(t[e],i)}}}(n,r,s)}return n.mergedAttrs=Yt(n.mergedAttrs,n.attrs),i}function Vs(e,t,n,r,i,o){const s=o.hostBindings;if(s){let n=e.hostBindingOpCodes;null===n&&(n=e.hostBindingOpCodes=[]);const o=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function js(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Us(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Bs(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Se(t)&&(n[""]=e)}}function qs(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Hs(e,t,n,r,i){e.data[r]=i;const o=i.factory||(i.factory=De(i.type)),s=new Qt(o,Se(i),null);e.blueprint[r]=s,n[r]=s,Vs(e,t,0,r,Es(e,n,i.hostVars,cs),i)}function Gs(e,t,n){const r=ze(t,e),i=Ns(n),o=e[10],s=Xs(e,ws(e,i,null,n.onPush?64:16,r,t,o,o.createRenderer(r,n),null,null));e[t.index]=s}function zs(e,t,n,r,i,o){const s=ze(e,t);$s(t[11],s,o,e.value,n,r,i)}function $s(e,t,n,r,i,o,s){if(null==o)Be(e)?e.removeAttribute(t,i,n):t.removeAttribute(i);else{const a=null==s?b(o):s(o,r||"",i);Be(e)?e.setAttribute(t,i,a,n):n?t.setAttributeNS(n,i,a):t.setAttribute(i,a)}}function Ks(e,t,n,r,i,o){const s=o[t];if(null!==s){const e=r.setInput;for(let t=0;t<s.length;){const i=s[t++],o=s[t++],a=s[t++];null!==e?r.setInput(n,a,i,o):n[o]=a}}}function Qs(e,t){let n=null,r=0;for(;r<t.length;){const i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function Ws(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function Zs(e,t){const n=Qe(t,e);if(Ze(n)){const e=n[1];80&n[2]?Ss(e,n,e.template,n[8]):n[5]>0&&Js(n)}}function Js(e){for(let n=vo(e);null!==n;n=bo(n))for(let e=be;e<n.length;e++){const t=n[e];if(1024&t[2]){const e=t[1];Ss(e,t,e.template,t[8])}else t[5]>0&&Js(t)}const t=e[1].components;if(null!==t)for(let n=0;n<t.length;n++){const r=Qe(t[n],e);Ze(r)&&r[5]>0&&Js(r)}}function Ys(e,t){const n=Qe(t,e),r=n[1];!function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n),Is(r,n,n[8])}function Xs(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function ea(e){for(;e;){e[2]|=64;const t=mo(e);if(0!=(512&e[2])&&!t)return e;e=t}return null}function ta(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],r=zi(n),i=r[1];Ds(i,r,i.template,n)}}function na(e,t,n){const r=t[10];r.begin&&r.begin();try{Ss(e,t,e.template,n)}catch(i){throw ca(t,i),i}finally{r.end&&r.end()}}function ra(e){ta(e[8])}function ia(e,t,n){St(0),t(e,n)}const oa=vs;function sa(e){return e[7]||(e[7]=[])}function aa(e){return e.cleanup||(e.cleanup=[])}function ua(e,t,n){return(null===e||Se(e))&&(n=function(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(n[t.index])),n[11]}function ca(e,t){const n=e[9],r=n?n.get(Xi,null):null;r&&r.handleError(t)}function la(e,t,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=t[s],c=e.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function ha(e,t,n){const r=Ge(t,e);Eo(e[11],r,n)}function da(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const e=t[s];"number"==typeof e?o=e:1==o?i=f(i,e):2==o&&(r=f(r,e+": "+t[++s]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function fa(e){const t=qi(e);na(t[1],t,e)}function pa(e){!function(e,t){if(0===e.flags&&e.clean==vs){let t;e.flags|=1,e.clean=new Promise(e=>t=e),e.scheduler(()=>{if(1&e.flags&&(e.flags&=-2,ta(e)),2&e.flags){e.flags&=-3;const t=e.playerHandler;t&&t.flushPlayers()}e.clean=vs,t(null)})}}(ea(qi(e))[8])}const ga=new Mn("INJECTOR",-1);class ma{get(e,t=ur){if(t===ur){const t=new Error(`NullInjectorError: No provider for ${d(e)}!`);throw t.name="NullInjectorError",t}return t}}const ya=new Mn("Set Injector scope."),va={},ba={};let wa;function _a(){return void 0===wa&&(wa=new ma),wa}function Ca(e,t=null,n=null,r){const i=Ea(e,t,n,r);return i._resolveInjectorDefTypes(),i}function Ea(e,t=null,n=null,r){return new Ia(e,n,t||_a(),r)}class Ia{constructor(e,t,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];t&&Qn(t,n=>this.processProvider(n,e,t)),Qn([e],e=>this.processInjectorType(e,[],i)),this.records.set(ga,Ta(void 0,this));const o=this.records.get(ya);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof e?null:d(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=ur,n=R.Default){this.assertNotDestroyed();const r=fr(this),i=M(void 0);try{if(!(n&R.SkipSelf)){let t=this.records.get(e);if(void 0===t){const n=("function"==typeof(o=e)||"object"==typeof o&&o instanceof Mn)&&D(e);t=n&&this.injectableDefInScope(n)?Ta(Sa(e),va):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}return(n&R.Self?_a():this.parent).get(e,t=n&R.Optional&&t===ur?null:t)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(d(e)),r)throw s;return function(e,t,n,r){const i=e.ngTempTokenPath;throw t[lr]&&i.unshift(t[lr]),e.message=function(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let i=d(t);if(Array.isArray(t))i=t.map(d).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push(n+":"+("string"==typeof r?JSON.stringify(r):d(r)))}i=`{${e.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(cr,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e.ngTempTokenPath=null,e}(s,e,"R3InjectorError",this.source)}throw s}finally{M(i),fr(r)}var o}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((t,n)=>e.push(d(n))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,n){if(!(e=m(e)))return!1;let r=A(e);const i=null==r&&e.ngModule||void 0,o=void 0===i?e:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=A(i)),null==r)return!1;if(null!=r.imports&&!s){let e;n.push(o);try{Qn(r.imports,r=>{this.processInjectorType(r,t,n)&&(void 0===e&&(e=[]),e.push(r))})}finally{}if(void 0!==e)for(let t=0;t<e.length;t++){const{ngModule:n,providers:r}=e[t];Qn(r,e=>this.processProvider(e,n,r||W))}}this.injectorDefTypes.add(o);const a=De(o)||(()=>new o);this.records.set(o,Ta(a,va));const u=r.providers;if(null!=u&&!s){const t=e;Qn(u,e=>this.processProvider(e,t,u))}return void 0!==i&&void 0!==e.providers}processProvider(e,t,n){let r=xa(e=m(e))?e:m(e&&e.provide);const i=function(e,t,n){return Aa(e)?Ta(void 0,e.useValue):Ta(Da(e),va)}(e);if(xa(e)||!0!==e.multi)this.records.get(r);else{let t=this.records.get(r);t||(t=Ta(void 0,va,!0),t.factory=()=>vr(t.multi),this.records.set(r,t)),r=e,t.multi.push(e)}this.records.set(r,i)}hydrate(e,t){var n;return t.value===va&&(t.value=ba,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=m(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function Sa(e){const t=D(e),n=null!==t?t.factory:De(e);if(null!==n)return n;if(e instanceof Mn)throw new Error(`Token ${d(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const n=Jn(t,"?");throw new Error(`Can't resolve all parameters for ${d(e)}: (${n.join(", ")}).`)}const n=function(e){const t=e&&(e[x]||e[N]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function Da(e,t,n){let r;if(xa(e)){const t=m(e);return De(t)||Sa(t)}if(Aa(e))r=()=>m(e.useValue);else if((i=e)&&i.useFactory)r=()=>e.useFactory(...vr(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))r=()=>gr(m(e.useExisting));else{const t=m(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return De(t)||Sa(t);r=()=>new t(...vr(e.deps))}var i;return r}function Ta(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Aa(e){return null!==e&&"object"==typeof e&&hr in e}function xa(e){return"function"==typeof e}function ka(e,t,n){return Ca({name:n},t,e,n)}const Na=ka;class Oa{static create(e,t){return Array.isArray(e)?Na(e,t,""):Na(e.providers,e.parent,e.name||"")}}function Ra(e){Ha(e);const t=Ui(e);return null===t?null:(void 0===t.component&&(t.component=function(e,t){const n=t[1].data[e];return 2&n.flags?t[n.directiveStart]:null}(t.nodeIndex,t.lView)),t.component)}function Fa(e){Ha(e);const t=Ui(e);return null===t?null:t.lView[8]}function Pa(e){const t=Ui(e);if(null===t)return null;let n,r=t.lView;for(;2===r[1].type&&(n=mo(r));)r=n;return 512&r[2]?null:r[8]}function Ma(e){return[...yo(e).components]}function La(e){const t=Ui(e);return null===t?Oa.NULL:new En(t.lView[1].data[t.nodeIndex],t.lView)}function Va(e){if(e instanceof Text)return[];const t=Ui(e);if(null===t)return[];const n=t.lView,r=n[1],i=t.nodeIndex;return(null==r?void 0:r.data[i])?(void 0===t.directives&&(t.directives=Wi(i,n,!1)),null===t.directives?[]:[...t.directives]):[]}function ja(e){const{constructor:t}=e;if(!t)throw new Error("Unable to find the instance constructor");const n=pe(t);if(n)return{inputs:n.inputs,outputs:n.outputs,encapsulation:n.encapsulation,changeDetection:n.onPush?j.OnPush:j.Default};const r=ge(t);return r?{inputs:r.inputs,outputs:r.outputs}:null}function Ua(e){return Ui(e).native}function Ba(e){Ha(e);const t=Ui(e);if(null===t)return[];const n=t.lView,r=n[7],i=n[1].cleanup,o=[];if(i&&r)for(let s=0;s<i.length;){const t=i[s++],a=i[s++];if("string"==typeof t){const u=t,c=He(n[a]),l=r[i[s++]],h=i[s++],d="boolean"==typeof h||h>=0?"dom":"output",f="boolean"==typeof h&&h;e==c&&o.push({element:e,name:u,callback:l,useCapture:f,type:d})}}return o.sort(qa),o}function qa(e,t){return e.name==t.name?0:e.name<t.name?-1:1}function Ha(e){if("undefined"!=typeof Element&&!(e instanceof Element))throw new Error("Expecting instance of DOM Element")}function Ga(e){pa(e),Ma(e).forEach(e=>fa(e))}Oa.THROW_IF_NOT_FOUND=ur,Oa.NULL=new ma,Oa.\u0275prov=E({token:Oa,providedIn:"any",factory:()=>gr(ga)}),Oa.__NG_ELEMENT_ID__=-1;let za=!1;function $a(){za||(za=!0,Ka("\u0275setProfiler",Fe),Ka("getDirectiveMetadata",ja),Ka("getComponent",Ra),Ka("getContext",Fa),Ka("getListeners",Ba),Ka("getOwningComponent",Pa),Ka("getHostElement",Ua),Ka("getInjector",La),Ka("getRootComponents",Ma),Ka("getDirectives",Va),Ka("applyChanges",Ga))}function Ka(e,t){if("undefined"==typeof COMPILED||!COMPILED){const n=K;if(n){let r=n.ng;r||(r=n.ng={}),r[e]=t}}}function Qa(e,t={}){const n=t.rendererFactory||qe,r=t.sanitizer||null,i=pe(e);i.type!=e&&(i.type=e);const o=i.selectors[0][0],s=Rs(n.createRenderer(null,null),t.host||o,i.encapsulation),a=i.onPush?576:528,u=Ja(t.scheduler,t.playerHandler),c=n.createRenderer(s,i),l=Os(0,null,null,1,0,null,null,null,null,null),h=ws(null,l,u,a,null,null,n,c,null,t.injector||null);let d;At(h);try{n.begin&&n.begin(),d=Za(Wa(s,i,h,n,c,r),i,h,u,t.hostFeatures||null),Is(l,h,null),Ss(l,h,null,null)}finally{Rt(),n.end&&n.end()}return d}function Wa(e,t,n,r,i,o){const s=n[1];n[20]=e;const a=_s(s,20,2,"#host",null),u=a.mergedAttrs=t.hostAttrs;null!==u&&(da(a,u,!0),null!==e&&(Wt(i,e,u),null!==a.classes&&Zo(i,e,a.classes),null!==a.styles&&Wo(i,e,a.styles)));const c=r.createRenderer(e,t),l=ws(n,Ns(t),null,t.onPush?64:16,n[20],a,r,c,o||null,null);return s.firstCreatePass&&(hn(an(a,n),s,t.type),Us(s,a),qs(a,n.length,1)),Xs(n,l),n[20]=l}function Za(e,t,n,r,i){const o=n[1],s=function(e,t,n){const r=at();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Hs(e,r,t,Es(e,t,1,null),n));const i=wn(t,e,r.directiveStart,r);Hi(i,t);const o=ze(r,t);return o&&Hi(o,t),i}(o,n,t);if(r.components.push(s),e[8]=s,i&&i.forEach(e=>e(s,t)),t.contentQueries){const e=at();t.contentQueries(1,s,e.directiveStart)}const a=at();return!o.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Mt(a.index),Vs(n[1],a,0,a.directiveStart,a.directiveEnd,t),js(t,s)),s}function Ja(e,t){return{components:[],scheduler:e||ao,clean:oa,playerHandler:t||null,flags:0}}function Ya(e,t){Bt(zi(e)[1],at())}function Xa(e){return yo(e).clean}function eu(e){return Object.getPrototypeOf(e.prototype).constructor}function tu(e){let t=eu(e.type),n=!0;const r=[e];for(;t;){let i;if(Se(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(n){r.push(i);const t=e;t.inputs=nu(e.inputs),t.declaredInputs=nu(e.declaredInputs),t.outputs=nu(e.outputs);const n=i.hostBindings;n&&ou(e,n);const o=i.viewQuery,s=i.contentQueries;if(o&&ru(e,o),s&&iu(e,s),h(e.inputs,i.inputs),h(e.declaredInputs,i.declaredInputs),h(e.outputs,i.outputs),Se(i)&&i.data.animation){const t=e.data;t.animation=(t.animation||[]).concat(i.data.animation)}}const t=i.features;if(t)for(let r=0;r<t.length;r++){const i=t[r];i&&i.ngInherit&&i(e),i===tu&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Yt(i.hostAttrs,n=Yt(n,i.hostAttrs))}}(r)}function nu(e){return e===Q?{}:e===W?[]:e}function ru(e,t){const n=e.viewQuery;e.viewQuery=n?(e,r)=>{t(e,r),n(e,r)}:t}function iu(e,t){const n=e.contentQueries;e.contentQueries=n?(e,r,i)=>{t(e,r,i),n(e,r,i)}:t}function ou(e,t){const n=e.hostBindings;e.hostBindings=n?(e,r)=>{t(e,r),n(e,r)}:t}const su=["providersResolver"],au=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function uu(e){let t,n=eu(e.type);t=Se(e)?n.\u0275cmp:n.\u0275dir;const r=e;for(const i of su)r[i]=t[i];if(Se(t))for(const i of au)r[i]=t[i]}let cu=null;function lu(){if(!cu){const e=K.Symbol;if(e&&e.iterator)cu=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(cu=n)}}}return cu}function hu(e,t){const n=fu(e),r=fu(t);if(n&&r)return function(e,t,n){const r=e[lu()](),i=t[lu()]();for(;;){const e=r.next(),t=i.next();if(e.done&&t.done)return!0;if(e.done||t.done)return!1;if(!n(e.value,t.value))return!1}}(e,t,hu);{const i=e&&("object"==typeof e||"function"==typeof e),o=t&&("object"==typeof t||"function"==typeof t);return!(n||!i||r||!o)||Object.is(e,t)}}class du{constructor(e){this.wrapped=e}static wrap(e){return new du(e)}static unwrap(e){return du.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof du}}function fu(e){return!!pu(e)&&(Array.isArray(e)||!(e instanceof Map)&&lu()in e)}function pu(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function gu(e,t,n){return e[t]=n}function mu(e,t){return e[t]}function yu(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function vu(e,t,n,r){const i=yu(e,t,n);return yu(e,t+1,r)||i}function bu(e,t,n,r,i){const o=vu(e,t,n,r);return yu(e,t+2,i)||o}function wu(e,t,n,r,i,o){const s=vu(e,t,n,r);return vu(e,t+2,i,o)||s}function _u(e,t,n,r){const i=it();return yu(i,vt(),t)&&(ot(),zs(Lt(),i,e,t,n,r)),_u}function Cu(e,t){let n=!1,r=mt();for(let o=1;o<t.length;o+=2)n=yu(e,r++,t[o])||n;if(yt(r),!n)return cs;let i=t[0];for(let o=1;o<t.length;o+=2)i+=b(t[o])+t[o+1];return i}function Eu(e,t,n,r){return yu(e,vt(),n)?t+b(n)+r:cs}function Iu(e,t,n,r,i,o){const s=vu(e,mt(),n,i);return bt(2),s?t+b(n)+r+b(i)+o:cs}function Su(e,t,n,r,i,o,s,a){const u=bu(e,mt(),n,i,s);return bt(3),u?t+b(n)+r+b(i)+o+b(s)+a:cs}function Du(e,t,n,r,i,o,s,a,u,c){const l=wu(e,mt(),n,i,s,u);return bt(4),l?t+b(n)+r+b(i)+o+b(s)+a+b(u)+c:cs}function Tu(e,t,n,r,i,o,s,a,u,c,l,h){const d=mt();let f=wu(e,d,n,i,s,u);return f=yu(e,d+4,l)||f,bt(5),f?t+b(n)+r+b(i)+o+b(s)+a+b(u)+c+b(l)+h:cs}function Au(e,t,n,r,i,o,s,a,u,c,l,h,d,f){const p=mt();let g=wu(e,p,n,i,s,u);return g=vu(e,p+4,l,d)||g,bt(6),g?t+b(n)+r+b(i)+o+b(s)+a+b(u)+c+b(l)+h+b(d)+f:cs}function xu(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,g){const m=mt();let y=wu(e,m,n,i,s,u);return y=bu(e,m+4,l,d,p)||y,bt(7),y?t+b(n)+r+b(i)+o+b(s)+a+b(u)+c+b(l)+h+b(d)+f+b(p)+g:cs}function ku(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m,y){const v=mt();let w=wu(e,v,n,i,s,u);return w=wu(e,v+4,l,d,p,m)||w,bt(8),w?t+b(n)+r+b(i)+o+b(s)+a+b(u)+c+b(l)+h+b(d)+f+b(p)+g+b(m)+y:cs}function Nu(e,t,n,r,i,o){const s=it(),a=Eu(s,t,n,r);return a!==cs&&zs(Lt(),s,e,a,i,o),Nu}function Ou(e,t,n,r,i,o,s,a){const u=it(),c=Iu(u,t,n,r,i,o);return c!==cs&&zs(Lt(),u,e,c,s,a),Ou}function Ru(e,t,n,r,i,o,s,a,u,c){const l=it(),h=Su(l,t,n,r,i,o,s,a);return h!==cs&&zs(Lt(),l,e,h,u,c),Ru}function Fu(e,t,n,r,i,o,s,a,u,c,l,h){const d=it(),f=Du(d,t,n,r,i,o,s,a,u,c);return f!==cs&&zs(Lt(),d,e,f,l,h),Fu}function Pu(e,t,n,r,i,o,s,a,u,c,l,h,d,f){const p=it(),g=Tu(p,t,n,r,i,o,s,a,u,c,l,h);return g!==cs&&zs(Lt(),p,e,g,d,f),Pu}function Mu(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,g){const m=it(),y=Au(m,t,n,r,i,o,s,a,u,c,l,h,d,f);return y!==cs&&zs(Lt(),m,e,y,p,g),Mu}function Lu(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m,y){const v=it(),b=xu(v,t,n,r,i,o,s,a,u,c,l,h,d,f,p,g);return b!==cs&&zs(Lt(),v,e,b,m,y),Lu}function Vu(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m,y,v,b){const w=it(),_=ku(w,t,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m,y);return _!==cs&&zs(Lt(),w,e,_,v,b),Vu}function ju(e,t,n,r){const i=it(),o=Cu(i,t);return o!==cs&&zs(Lt(),i,e,o,n,r),ju}function Uu(e,t,n,r,i,o,s,a){const u=it(),c=ot(),l=e+ve,h=c.firstCreatePass?function(e,t,n,r,i,o,s,a,u){const c=t.consts,l=_s(t,e,4,s||null,Je(c,a));Ls(t,n,l,Je(c,u)),Bt(t,l);const h=l.tViews=Os(2,l,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,l),h.queries=t.queries.embeddedTView(l)),l}(l,c,u,t,n,r,i,o,s):c.data[l];lt(h,!1);const d=u[11].createComment("");Bo(c,u,d,h),Hi(d,u),Xs(u,u[l]=Ws(d,u,d,h)),Ie(h)&&xs(c,u,h),null!=s&&ks(u,h,a)}function Bu(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}function qu(e){return Ke(et.lFrame.contextLView,ve+e)}const Hu={"\u0275\u0275defineInjectable":E,"\u0275\u0275defineInjector":S,"\u0275\u0275inject":gr,"\u0275\u0275invalidFactoryDep":mr,resolveForwardRef:m},Gu=l({provide:String,useValue:l});function zu(e){return void 0!==e.useClass}function $u(e){return void 0!==e.useFactory}const Ku=kn("Injectable",void 0,void 0,void 0,(e,t)=>Wu(e,t)),Qu=function(e,t){let n=null,r=null;e.hasOwnProperty(x)||Object.defineProperty(e,x,{get:()=>{if(null===n){const r=Gn();n=r.compileInjectable(Hu,`ng:///${e.name}/\u0275prov.js`,function(e,t){const n=t||{providedIn:null},r={name:e.name,type:e,typeArgumentCount:0,providedIn:n.providedIn};return(zu(n)||$u(n))&&void 0!==n.deps&&(r.deps=xr(n.deps)),zu(n)?r.useClass=n.useClass:function(e){return Gu in e}(n)?r.useValue=n.useValue:$u(n)?r.useFactory=n.useFactory:function(e){return void 0!==e.useExisting}(n)&&(r.useExisting=n.useExisting),r}(e,t))}return n}}),e.hasOwnProperty(te)||Object.defineProperty(e,te,{get:()=>{if(null===r){const t=Gn();r=t.compileFactory(Hu,`ng:///${e.name}/\u0275fac.js`,{name:e.name,type:e,typeArgumentCount:0,deps:Ar(e),target:t.FactoryTarget.Injectable})}return r},configurable:!0})},Wu=Qu;function Zu(e){return e.length>1?" ("+function(e){const t=[];for(let n=0;n<e.length;++n){if(t.indexOf(e[n])>-1)return t.push(e[n]),t;t.push(e[n])}return t}(e.slice().reverse()).map(e=>d(e.token)).join(" -> ")+")":""}function Ju(e,t,n,r){const i=[t],o=n(i),s=r?function(e,t){const n=`${e} caused by: ${t instanceof Error?t.message:t}`,r=Error(n);return r.ngOriginalError=t,r}(o,r):Error(o);return s.addKey=Yu,s.keys=i,s.injectors=[e],s.constructResolvingMessage=n,s.ngOriginalError=r,s}function Yu(e,t){this.injectors.push(e),this.keys.push(t),this.message=this.constructResolvingMessage(this.keys)}function Xu(e,t){const n=[];for(let r=0,i=t.length;r<i;r++){const e=t[r];n.push(e&&0!=e.length?e.map(d).join(" "):"?")}return Error("Cannot resolve all parameters for '"+d(e)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+d(e)+"' is decorated with Injectable.")}class ec{constructor(e,t){if(this.token=e,this.id=t,!e)throw new Error("Token must be defined!");this.displayName=d(this.token)}static get(e){return nc.get(m(e))}static get numberOfKeys(){return nc.numberOfKeys}}class tc{constructor(){this._allKeys=new Map}get(e){if(e instanceof ec)return e;if(this._allKeys.has(e))return this._allKeys.get(e);const t=new ec(e,ec.numberOfKeys);return this._allKeys.set(e,t),t}get numberOfKeys(){return this._allKeys.size}}const nc=new tc;class rc{constructor(e){this.reflectionCapabilities=e}updateCapabilities(e){this.reflectionCapabilities=e}factory(e){return this.reflectionCapabilities.factory(e)}parameters(e){return this.reflectionCapabilities.parameters(e)}annotations(e){return this.reflectionCapabilities.annotations(e)}propMetadata(e){return this.reflectionCapabilities.propMetadata(e)}hasLifecycleHook(e,t){return this.reflectionCapabilities.hasLifecycleHook(e,t)}getter(e){return this.reflectionCapabilities.getter(e)}setter(e){return this.reflectionCapabilities.setter(e)}method(e){return this.reflectionCapabilities.method(e)}importUri(e){return this.reflectionCapabilities.importUri(e)}resourceUri(e){return this.reflectionCapabilities.resourceUri(e)}resolveIdentifier(e,t,n,r){return this.reflectionCapabilities.resolveIdentifier(e,t,n,r)}resolveEnum(e,t){return this.reflectionCapabilities.resolveEnum(e,t)}}const ic=new rc(new or);class oc{constructor(e,t,n){this.key=e,this.optional=t,this.visibility=n}static fromKey(e){return new oc(e,!1,null)}}const sc=[];class ac{constructor(e,t,n){this.key=e,this.resolvedFactories=t,this.multiProvider=n,this.resolvedFactory=this.resolvedFactories[0]}}class uc{constructor(e,t){this.factory=e,this.dependencies=t}}function cc(e){let t,n;if(e.useClass){const r=m(e.useClass);t=ic.factory(r),n=fc(r)}else e.useExisting?(t=e=>e,n=[oc.fromKey(ec.get(e.useExisting))]):e.useFactory?(t=e.useFactory,n=function(e,t){if(t){const n=t.map(e=>[e]);return t.map(t=>pc(e,t,n))}return fc(e)}(e.useFactory,e.deps)):(t=()=>e.useValue,n=sc);return new uc(t,n)}function lc(e){return new ac(ec.get(e.provide),[cc(e)],e.multi||!1)}function hc(e){const t=function(e,t){for(let n=0;n<e.length;n++){const r=e[n],i=t.get(r.key.id);if(i){if(r.multiProvider!==i.multiProvider)throw Error(`Cannot mix multi providers and regular providers, got: ${i} ${r}`);if(r.multiProvider)for(let e=0;e<r.resolvedFactories.length;e++)i.resolvedFactories.push(r.resolvedFactories[e]);else t.set(r.key.id,r)}else{let e;e=r.multiProvider?new ac(r.key,r.resolvedFactories.slice(),r.multiProvider):r,t.set(r.key.id,e)}}return t}(dc(e,[]).map(lc),new Map);return Array.from(t.values())}function dc(e,t){return e.forEach(e=>{if(e instanceof zn)t.push({provide:e,useClass:e});else if(e&&"object"==typeof e&&void 0!==e.provide)t.push(e);else{if(!Array.isArray(e))throw Error(`Invalid provider - only instances of Provider and Type are allowed, got: ${e}`);dc(e,t)}}),t}function fc(e){const t=ic.parameters(e);if(!t)return[];if(t.some(e=>null==e))throw Xu(e,t);return t.map(n=>pc(e,n,t))}function pc(e,t,n){let r=null,i=!1;if(!Array.isArray(t))return gc(t instanceof _r?t.token:t,i,null);let o=null;for(let s=0;s<t.length;++s){const e=t[s];e instanceof zn?r=e:e instanceof _r?r=e.token:e instanceof Cr?i=!0:e instanceof Er||e instanceof Ir?o=e:e instanceof Mn&&(r=e)}if(r=m(r),null!=r)return gc(r,i,o);throw Xu(e,n)}function gc(e,t,n){return new oc(ec.get(e),t,n)}const mc={};class yc{static resolve(e){return hc(e)}static resolveAndCreate(e,t){const n=yc.resolve(e);return yc.fromResolvedProviders(n,t)}static fromResolvedProviders(e,t){return new vc(e,t)}}let vc=(()=>{class e{constructor(e,t){this._constructionCounter=0,this._providers=e,this.parent=t||null;const n=e.length;this.keyIds=[],this.objs=[];for(let r=0;r<n;r++)this.keyIds[r]=e[r].key.id,this.objs[r]=mc}get(e,t=ur){return this._getByKey(ec.get(e),null,t)}resolveAndCreateChild(e){const t=yc.resolve(e);return this.createChildFromResolved(t)}createChildFromResolved(t){const n=new e(t);return n.parent=this,n}resolveAndInstantiate(e){return this.instantiateResolved(yc.resolve([e])[0])}instantiateResolved(e){return this._instantiateProvider(e)}getProviderAtIndex(e){if(e<0||e>=this._providers.length)throw function(e){return Error(`Index ${e} is out-of-bounds.`)}(e);return this._providers[e]}_new(e){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw Ju(this,e.key,function(e){return`Cannot instantiate cyclic dependency!${Zu(e)}`});return this._instantiateProvider(e)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(e){if(e.multiProvider){const t=[];for(let n=0;n<e.resolvedFactories.length;++n)t[n]=this._instantiate(e,e.resolvedFactories[n]);return t}return this._instantiate(e,e.resolvedFactories[0])}_instantiate(e,t){const n=t.factory;let r,i;try{r=t.dependencies.map(e=>this._getByReflectiveDependency(e))}catch(s){throw s.addKey&&s.addKey(this,e.key),s}try{i=n(...r)}catch(s){throw Ju(this,e.key,function(e){const t=d(e[0].token);return`${o.message}: Error during instantiation of ${t}!${Zu(e)}.`},o=s)}var o;return i}_getByReflectiveDependency(e){return this._getByKey(e.key,e.visibility,e.optional?null:ur)}_getByKey(t,n,r){return t===e.INJECTOR_KEY?this:n instanceof Er?this._getByKeySelf(t,r):this._getByKeyDefault(t,r,n)}_getObjByKeyId(e){for(let t=0;t<this.keyIds.length;t++)if(this.keyIds[t]===e)return this.objs[t]===mc&&(this.objs[t]=this._new(this._providers[t])),this.objs[t];return mc}_throwOrNull(e,t){if(t!==ur)return t;throw function(e,t){return Ju(e,t,function(e){return`No provider for ${d(e[0].token)}!${Zu(e)}`})}(this,e)}_getByKeySelf(e,t){const n=this._getObjByKeyId(e.id);return n!==mc?n:this._throwOrNull(e,t)}_getByKeyDefault(t,n,r){let i;for(i=r instanceof Ir?this.parent:this;i instanceof e;){const e=i,n=e._getObjByKeyId(t.id);if(n!==mc)return n;i=e.parent}return null!==i?i.get(t.token,n):this._throwOrNull(t,n)}get displayName(){return`ReflectiveInjector(providers: [${function(e,t){const n=[];for(let r=0;r<e._providers.length;++r)n[r]=' "'+e.getProviderAtIndex(r).key.displayName+'" ';return n}(this).join(", ")}])`}toString(){return this.displayName}}return e.INJECTOR_KEY=ec.get(Oa),e})();function bc(e,t=R.Default){const n=it();return null===n?gr(e,t):gn(at(),n,m(e),t)}function wc(){throw new Error("invalid")}function _c(e,t,n){const r=it();return yu(r,vt(),t)&&Ms(ot(),Lt(),r,e,t,r[11],n,!1),_c}function Cc(e,t,n,r,i){const o=i?"class":"style";la(e,n,t.inputs[o],o,r)}function Ec(e,t,n,r){const i=it(),o=ot(),s=ve+e,a=i[11],u=i[s]=So(a,t,et.lFrame.currentNamespace),c=o.firstCreatePass?function(e,t,n,r,i,o,s){const a=t.consts,u=_s(t,e,2,i,Je(a,o));return Ls(t,n,u,Je(a,s)),null!==u.attrs&&da(u,u.attrs,!1),null!==u.mergedAttrs&&da(u,u.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,u),u}(s,o,i,0,t,n,r):o.data[s];lt(c,!0);const l=c.mergedAttrs;null!==l&&Wt(a,u,l);const h=c.classes;null!==h&&Zo(a,u,h);const d=c.styles;null!==d&&Wo(a,u,d),64!=(64&c.flags)&&Bo(o,i,u,c),0===et.lFrame.elementDepthCount&&Hi(u,i),et.lFrame.elementDepthCount++,Ie(c)&&(xs(o,i,c),As(o,c,i)),null!==r&&ks(i,c)}function Ic(){let e=at();ht()?dt():(e=e.parent,lt(e,!1));const t=e;et.lFrame.elementDepthCount--;const n=ot();n.firstCreatePass&&(Bt(n,e),Ce(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Cc(n,t,it(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Cc(n,t,it(),t.stylesWithoutHost,!1)}function Sc(e,t,n,r){Ec(e,t,n,r),Ic()}function Dc(e,t,n){const r=it(),i=ot(),o=e+ve,s=i.firstCreatePass?function(e,t,n,r,i){const o=t.consts,s=Je(o,r),a=_s(t,e,8,"ng-container",s);return null!==s&&da(a,s,!0),Ls(t,n,a,Je(o,i)),null!==t.queries&&t.queries.elementStart(t,a),a}(o,i,r,t,n):i.data[o];lt(s,!0);const a=r[o]=r[11].createComment("");Bo(i,r,a,s),Hi(a,r),Ie(s)&&(xs(i,r,s),As(i,s,r)),null!=n&&ks(r,s)}function Tc(){let e=at();const t=ot();ht()?dt():(e=e.parent,lt(e,!1)),t.firstCreatePass&&(Bt(t,e),Ce(e)&&t.queries.elementEnd(e))}function Ac(e,t,n){Dc(e,t,n),Tc()}function xc(){return it()}function kc(e){return!!e&&"function"==typeof e.then}function Nc(e){return!!e&&"function"==typeof e.subscribe}const Oc=Nc;function Rc(e,t,n,r){const i=it(),o=ot(),s=at();return Pc(o,i,i[11],s,e,t,!!n,r),Rc}function Fc(e,t){const n=at(),r=it(),i=ot();return Pc(i,r,ua(Et(i.data),n,r),n,e,t,!1),Fc}function Pc(e,t,n,r,i,o,s,a){const u=Ie(r),c=e.firstCreatePass&&aa(e),l=t[8],h=sa(t);let d=!0;if(3&r.type||a){const f=ze(r,t),p=a?a(f):f,g=h.length,m=a?e=>a(He(e[r.index])):r.index;if(Be(n)){let s=null;if(!a&&u&&(s=function(e,t,n,r){const i=e.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const e=i[o];if(e===n&&i[o+1]===r){const e=t[7],n=i[o+2];return e.length>n?e[n]:null}"string"==typeof e&&(o+=2)}return null}(e,t,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,d=!1;else{o=Lc(r,t,l,o,!1);const e=n.listen(p,i,o);h.push(o,e),c&&c.push(i,m,g,g+1)}}else o=Lc(r,t,l,o,!0),p.addEventListener(i,o,s),h.push(o),c&&c.push(i,m,g,s)}else o=Lc(r,t,l,o,!1);const f=r.outputs;let p;if(d&&null!==f&&(p=f[i])){const e=p.length;if(e)for(let n=0;n<e;n+=2){const e=t[p[n]][p[n+1]].subscribe(o),s=h.length;h.push(o,e),c&&c.push(i,r.index,s,-(s+1))}}}function Mc(e,t,n,r){try{return Pe(6,t,n),!1!==n(r)}catch(i){return ca(e,i),!1}finally{Pe(7,t,n)}}function Lc(e,t,n,r,i){return function o(s){if(s===Function)return r;const a=2&e.flags?Qe(e.index,t):t;0==(32&t[2])&&ea(a);let u=Mc(t,n,r,s),c=o.__ngNextListenerFn__;for(;c;)u=Mc(t,n,c,s)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(s.preventDefault(),s.returnValue=!1),u}}function Vc(e=1){return Ft(e)}function jc(e,t){let n=null;const r=function(e){const t=e.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(e);for(let i=0;i<t.length;i++){const o=t[i];if("*"!==o){if(null===r?os(e,o,!0):ss(r,o))return i}else n=i}return n}function Uc(e){const t=it()[16][6];if(!t.projection){const n=t.projection=Jn(e?e.length:1,null),r=n.slice();let i=t.child;for(;null!==i;){const t=e?jc(i,e):0;null!==t&&(r[t]?r[t].projectionNext=i:n[t]=i,r[t]=i),i=i.next}}}function Bc(e,t=0,n){const r=it(),i=ot(),o=_s(i,ve+e,16,null,n||null);null===o.projection&&(o.projection=t),dt(),64!=(64&o.flags)&&function(e,t,n){Qo(t[11],0,t,n,ko(e,n,t),Mo(n.parent||t[6],n,t))}(i,r,o)}function qc(e,t,n){return Hc(e,"",t,"",n),qc}function Hc(e,t,n,r,i){const o=it(),s=Eu(o,t,n,r);return s!==cs&&Ms(ot(),Lt(),o,e,s,o[11],i,!1),Hc}function Gc(e,t,n,r,i,o,s){const a=it(),u=Iu(a,t,n,r,i,o);return u!==cs&&Ms(ot(),Lt(),a,e,u,a[11],s,!1),Gc}function zc(e,t,n,r,i,o,s,a,u){const c=it(),l=Su(c,t,n,r,i,o,s,a);return l!==cs&&Ms(ot(),Lt(),c,e,l,c[11],u,!1),zc}function $c(e,t,n,r,i,o,s,a,u,c,l){const h=it(),d=Du(h,t,n,r,i,o,s,a,u,c);return d!==cs&&Ms(ot(),Lt(),h,e,d,h[11],l,!1),$c}function Kc(e,t,n,r,i,o,s,a,u,c,l,h,d){const f=it(),p=Tu(f,t,n,r,i,o,s,a,u,c,l,h);return p!==cs&&Ms(ot(),Lt(),f,e,p,f[11],d,!1),Kc}function Qc(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p){const g=it(),m=Au(g,t,n,r,i,o,s,a,u,c,l,h,d,f);return m!==cs&&Ms(ot(),Lt(),g,e,m,g[11],p,!1),Qc}function Wc(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m){const y=it(),v=xu(y,t,n,r,i,o,s,a,u,c,l,h,d,f,p,g);return v!==cs&&Ms(ot(),Lt(),y,e,v,y[11],m,!1),Wc}function Zc(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m,y,v){const b=it(),w=ku(b,t,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m,y);return w!==cs&&Ms(ot(),Lt(),b,e,w,b[11],v,!1),Zc}function Jc(e,t,n){const r=it(),i=Cu(r,t);return i!==cs&&Ms(ot(),Lt(),r,e,i,r[11],n,!1),Jc}function Yc(e,t,n,r,i){const o=e[n+1],s=null===t;let a=r?fs(o):gs(o),u=!1;for(;0!==a&&(!1===u||s);){const n=e[a+1];Xc(e[a],t)&&(u=!0,e[a+1]=r?ys(n):ps(n)),a=r?fs(n):gs(n)}u&&(e[n+1]=r?ps(o):ys(o))}function Xc(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&er(e,t)>=0}const el={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function tl(e){return e.substring(el.key,el.keyEnd)}function nl(e){return e.substring(el.value,el.valueEnd)}function rl(e,t){const n=el.textEnd;return n===t?-1:(t=el.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,el.key=t,n),sl(e,t,n))}function il(e,t){const n=el.textEnd;let r=el.key=sl(e,t,n);return n===r?-1:(r=el.keyEnd=function(e,t,n){let r;for(;t<n&&(45===(r=e.charCodeAt(t))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)t++;return t}(e,r,n),r=al(e,r,n),r=el.value=sl(e,r,n),r=el.valueEnd=function(e,t,n){let r=-1,i=-1,o=-1,s=t,a=s;for(;s<n;){const u=e.charCodeAt(s++);if(59===u)return a;34===u||39===u?a=s=ul(e,u,s,n):t===s-4&&85===o&&82===i&&76===r&&40===u?a=s=ul(e,41,s,n):u>32&&(a=s),o=i,i=r,r=-33&u}return a}(e,r,n),al(e,r,n))}function ol(e){el.key=0,el.keyEnd=0,el.value=0,el.valueEnd=0,el.textEnd=e.length}function sl(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function al(e,t,n,r){return(t=sl(e,t,n))<n&&t++,t}function ul(e,t,n,r){let i=-1,o=n;for(;o<r;){const n=e.charCodeAt(o++);if(n==t&&92!==i)return o;i=92==n&&92===i?0:n}throw new Error}function cl(e,t,n){return gl(e,t,n,!1),cl}function ll(e,t){return gl(e,t,null,!0),ll}function hl(e){ml(_l,dl,e,!1)}function dl(e,t){for(let n=function(e){return ol(e),il(e,sl(e,0,el.textEnd))}(t);n>=0;n=il(t,n))_l(e,tl(t),nl(t))}function fl(e){ml(Yn,pl,e,!0)}function pl(e,t){for(let n=function(e){return ol(e),rl(e,sl(e,0,el.textEnd))}(t);n>=0;n=rl(t,n))Yn(e,tl(t),!0)}function gl(e,t,n,r){const i=it(),o=ot(),s=bt(2);o.firstUpdatePass&&vl(o,e,s,r),t!==cs&&yu(i,s,t)&&Cl(o,o.data[Pt()],i,i[11],e,i[s+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=d(Zr(e)))),e}(t,n),r,s)}function ml(e,t,n,r){const i=ot(),o=bt(2);i.firstUpdatePass&&vl(i,null,o,r);const s=it();if(n!==cs&&yu(s,o,n)){const a=i.data[Pt()];if(Sl(a,r)&&!yl(i,o)){let e=r?a.classesWithoutHost:a.stylesWithoutHost;null!==e&&(n=f(e,n||"")),Cc(i,a,s,n,r)}else!function(e,t,n,r,i,o,s,a){i===cs&&(i=W);let u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==l||null!==h;){const d=u<i.length?i[u+1]:void 0,f=c<o.length?o[c+1]:void 0;let p,g=null;l===h?(u+=2,c+=2,d!==f&&(g=h,p=f)):null===h||null!==l&&l<h?(u+=2,g=l):(c+=2,g=h,p=f),null!==g&&Cl(e,t,n,r,g,p,s,a),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function(e,t,n){if(null==n||""===n)return W;const r=[],i=Zr(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)e(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&e(r,o,i[o]);else"string"==typeof i&&t(r,i);return r}(e,t,n),r,o)}}function yl(e,t){return t>=e.expandoStartIndex}function vl(e,t,n,r){const i=e.data;if(null===i[n+1]){const o=i[Pt()],s=yl(e,n);Sl(o,r)&&null===t&&!s&&(t=!1),t=function(e,t,n,r){const i=Et(e);let o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=wl(n=bl(null,e,t,n,r),t.attrs,r),o=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==i)if(n=bl(i,e,t,n,r),null===o){let n=function(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==gs(r))return e[fs(r)]}(e,t,r);void 0!==n&&Array.isArray(n)&&(n=bl(null,e,t,n[1],r),n=wl(n,t.attrs,r),function(e,t,n,r){e[fs(n?t.classBindings:t.styleBindings)]=r}(e,t,r,n))}else o=function(e,t,n){let r;const i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++)r=wl(r,e[o].hostAttrs,n);return wl(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(i,o,t,r),function(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=fs(s),u=gs(s);e[r]=n;let c,l=!1;if(Array.isArray(n)){const e=n;c=e[1],(null===c||er(e,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const t=fs(e[a+1]);e[r+1]=ds(t,a),0!==t&&(e[t+1]=ms(e[t+1],r)),e[a+1]=131071&e[a+1]|r<<17}else e[r+1]=ds(a,0),0!==a&&(e[a+1]=ms(e[a+1],r)),a=r;else e[r+1]=ds(u,0),0===a?a=r:e[u+1]=ms(e[u+1],r),u=r;l&&(e[r+1]=ps(e[r+1])),Yc(e,c,r,!0),Yc(e,c,r,!1),function(e,t,n,r,i){const o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&er(o,t)>=0&&(n[r+1]=ys(n[r+1]))}(t,c,e,r,o),s=ds(a,u),o?t.classBindings=s:t.styleBindings=s}(i,o,t,n,s,r)}}function bl(e,t,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=t[a],r=wl(r,o.hostAttrs,i),o!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function wl(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?i=s:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Yn(e,s,!!n||t[++o]))}return void 0===e?null:e}function _l(e,t,n){Yn(e,t,Zr(n))}function Cl(e,t,n,r,i,o,s,a){if(!(3&t.type))return;const u=e.data,c=u[a+1];Il(1==(1&c)?El(u,t,n,i,gs(c),s):void 0)||(Il(o)||2==(2&c)&&(o=El(u,null,n,i,a,s)),function(e,t,n,r,i){const o=Be(e);if(t)i?o?e.addClass(n,r):n.classList.add(r):o?e.removeClass(n,r):n.classList.remove(r);else{let t=-1===r.indexOf("-")?void 0:fo.DashCase;if(null==i)o?e.removeStyle(n,r,t):n.style.removeProperty(r);else{const s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),t|=fo.Important),o?e.setStyle(n,r,i,t):n.style.setProperty(r,i,s?"important":"")}}}(r,s,Ge(Pt(),n),i,o))}function El(e,t,n,r,i,o){const s=null===t;let a;for(;i>0;){const t=e[i],o=Array.isArray(t),u=o?t[1]:t,c=null===u;let l=n[i+1];l===cs&&(l=c?W:void 0);let h=c?Xn(l,r):u===r?l:void 0;if(o&&!Il(h)&&(h=Xn(t,r)),Il(h)&&(a=h,s))return a;const d=e[i+1];i=s?fs(d):gs(d)}if(null!==t){let e=o?t.residualClasses:t.residualStyles;null!=e&&(a=Xn(e,r))}return a}function Il(e){return void 0!==e}function Sl(e,t){return 0!=(e.flags&(t?16:32))}function Dl(e,t=""){const n=it(),r=ot(),i=e+ve,o=r.firstCreatePass?_s(r,i,1,t,null):r.data[i],s=n[i]=Co(n[11],t);Bo(r,n,s,o),lt(o,!1)}function Tl(e){return Al("",e,""),Tl}function Al(e,t,n){const r=it(),i=Eu(r,e,t,n);return i!==cs&&ha(r,Pt(),i),Al}function xl(e,t,n,r,i){const o=it(),s=Iu(o,e,t,n,r,i);return s!==cs&&ha(o,Pt(),s),xl}function kl(e,t,n,r,i,o,s){const a=it(),u=Su(a,e,t,n,r,i,o,s);return u!==cs&&ha(a,Pt(),u),kl}function Nl(e,t,n,r,i,o,s,a,u){const c=it(),l=Du(c,e,t,n,r,i,o,s,a,u);return l!==cs&&ha(c,Pt(),l),Nl}function Ol(e,t,n,r,i,o,s,a,u,c,l){const h=it(),d=Tu(h,e,t,n,r,i,o,s,a,u,c,l);return d!==cs&&ha(h,Pt(),d),Ol}function Rl(e,t,n,r,i,o,s,a,u,c,l,h,d){const f=it(),p=Au(f,e,t,n,r,i,o,s,a,u,c,l,h,d);return p!==cs&&ha(f,Pt(),p),Rl}function Fl(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p){const g=it(),m=xu(g,e,t,n,r,i,o,s,a,u,c,l,h,d,f,p);return m!==cs&&ha(g,Pt(),m),Fl}function Pl(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m){const y=it(),v=ku(y,e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m);return v!==cs&&ha(y,Pt(),v),Pl}function Ml(e){const t=it(),n=Cu(t,e);return n!==cs&&ha(t,Pt(),n),Ml}function Ll(e,t,n){ml(Yn,pl,Eu(it(),e,t,n),!0)}function Vl(e,t,n,r,i){ml(Yn,pl,Iu(it(),e,t,n,r,i),!0)}function jl(e,t,n,r,i,o,s){ml(Yn,pl,Su(it(),e,t,n,r,i,o,s),!0)}function Ul(e,t,n,r,i,o,s,a,u){ml(Yn,pl,Du(it(),e,t,n,r,i,o,s,a,u),!0)}function Bl(e,t,n,r,i,o,s,a,u,c,l){ml(Yn,pl,Tu(it(),e,t,n,r,i,o,s,a,u,c,l),!0)}function ql(e,t,n,r,i,o,s,a,u,c,l,h,d){ml(Yn,pl,Au(it(),e,t,n,r,i,o,s,a,u,c,l,h,d),!0)}function Hl(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p){ml(Yn,pl,xu(it(),e,t,n,r,i,o,s,a,u,c,l,h,d,f,p),!0)}function Gl(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m){ml(Yn,pl,ku(it(),e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m),!0)}function zl(e){ml(Yn,pl,Cu(it(),e),!0)}function $l(e,t,n){hl(Eu(it(),e,t,n))}function Kl(e,t,n,r,i){hl(Iu(it(),e,t,n,r,i))}function Ql(e,t,n,r,i,o,s){hl(Su(it(),e,t,n,r,i,o,s))}function Wl(e,t,n,r,i,o,s,a,u){hl(Du(it(),e,t,n,r,i,o,s,a,u))}function Zl(e,t,n,r,i,o,s,a,u,c,l){hl(Tu(it(),e,t,n,r,i,o,s,a,u,c,l))}function Jl(e,t,n,r,i,o,s,a,u,c,l,h,d){hl(Au(it(),e,t,n,r,i,o,s,a,u,c,l,h,d))}function Yl(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p){hl(xu(it(),e,t,n,r,i,o,s,a,u,c,l,h,d,f,p))}function Xl(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m){hl(ku(it(),e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m))}function eh(e){hl(Cu(it(),e))}function th(e,t,n,r,i){return gl(e,Eu(it(),t,n,r),i,!1),th}function nh(e,t,n,r,i,o,s){return gl(e,Iu(it(),t,n,r,i,o),s,!1),nh}function rh(e,t,n,r,i,o,s,a,u){return gl(e,Su(it(),t,n,r,i,o,s,a),u,!1),rh}function ih(e,t,n,r,i,o,s,a,u,c,l){return gl(e,Du(it(),t,n,r,i,o,s,a,u,c),l,!1),ih}function oh(e,t,n,r,i,o,s,a,u,c,l,h,d){return gl(e,Tu(it(),t,n,r,i,o,s,a,u,c,l,h),d,!1),oh}function sh(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p){return gl(e,Au(it(),t,n,r,i,o,s,a,u,c,l,h,d,f),p,!1),sh}function ah(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m){return gl(e,xu(it(),t,n,r,i,o,s,a,u,c,l,h,d,f,p,g),m,!1),ah}function uh(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m,y,v){return gl(e,ku(it(),t,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m,y),v,!1),uh}function ch(e,t,n){return gl(e,Cu(it(),t),n,!1),ch}function lh(e,t,n){const r=it();return yu(r,vt(),t)&&Ms(ot(),Lt(),r,e,t,r[11],n,!0),lh}function hh(e,t,n){const r=it();if(yu(r,vt(),t)){const i=ot(),o=Lt();Ms(i,o,r,e,t,ua(Et(i.data),o,r),n,!0)}return hh}const dh=void 0;var fh=["en",[["a","p"],["AM","PM"],dh],[["AM","PM"],dh,dh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],dh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],dh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",dh,"{1} 'at' {0}",dh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let ph={};function gh(e,t,n){"string"!=typeof t&&(n=t,t=e[_h.LocaleId]),t=t.toLowerCase().replace(/_/g,"-"),ph[t]=e,n&&(ph[t][_h.ExtraData]=n)}function mh(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=bh(t);if(n)return n;const r=t.split("-")[0];if(n=bh(r),n)return n;if("en"===r)return fh;throw new Error(`Missing locale data for the locale "${e}".`)}function yh(e){return mh(e)[_h.CurrencyCode]||null}function vh(e){return mh(e)[_h.PluralCase]}function bh(e){return e in ph||(ph[e]=K.ng&&K.ng.common&&K.ng.common.locales&&K.ng.common.locales[e]),ph[e]}function wh(){ph={}}var _h=(()=>((_h=_h||{})[_h.LocaleId=0]="LocaleId",_h[_h.DayPeriodsFormat=1]="DayPeriodsFormat",_h[_h.DayPeriodsStandalone=2]="DayPeriodsStandalone",_h[_h.DaysFormat=3]="DaysFormat",_h[_h.DaysStandalone=4]="DaysStandalone",_h[_h.MonthsFormat=5]="MonthsFormat",_h[_h.MonthsStandalone=6]="MonthsStandalone",_h[_h.Eras=7]="Eras",_h[_h.FirstDayOfWeek=8]="FirstDayOfWeek",_h[_h.WeekendRange=9]="WeekendRange",_h[_h.DateFormat=10]="DateFormat",_h[_h.TimeFormat=11]="TimeFormat",_h[_h.DateTimeFormat=12]="DateTimeFormat",_h[_h.NumberSymbols=13]="NumberSymbols",_h[_h.NumberFormats=14]="NumberFormats",_h[_h.CurrencyCode=15]="CurrencyCode",_h[_h.CurrencySymbol=16]="CurrencySymbol",_h[_h.CurrencyName=17]="CurrencyName",_h[_h.Currencies=18]="Currencies",_h[_h.Directionality=19]="Directionality",_h[_h.PluralCase=20]="PluralCase",_h[_h.ExtraData=21]="ExtraData",_h))();const Ch=["zero","one","two","few","many"],Eh="en-US",Ih="USD",Sh={marker:"element"},Dh={marker:"ICU"};var Th=(()=>((Th=Th||{})[Th.SHIFT=2]="SHIFT",Th[Th.APPEND_EAGERLY=1]="APPEND_EAGERLY",Th[Th.COMMENT=2]="COMMENT",Th))();let Ah=Eh;function xh(e){var t;null==(t=e)&&C("Expected localeId to be defined",t,null,"!="),"string"==typeof e&&(Ah=e.toLowerCase().replace(/_/g,"-"))}function kh(e,t,n){const r=t.insertBeforeIndex,i=Array.isArray(r)?r[0]:r;return null===i?Lo(e,0,n):He(n[i])}function Nh(e,t,n,r,i){const o=t.insertBeforeIndex;if(Array.isArray(o)){let s=r,a=null;if(3&t.type||(a=s,s=i),null!==s&&0==(2&t.flags))for(let t=1;t<o.length;t++)Oo(e,s,n[o[t]],a,!1)}}function Oh(e,t){if(e.push(t),e.length>1)for(let n=e.length-2;n>=0;n--){const r=e[n];Rh(r)||Fh(r,t)&&null===Ph(r)&&Mh(r,t.index)}}function Rh(e){return!(64&e.type)}function Fh(e,t){return Rh(t)||e.index>t.index}function Ph(e){const t=e.insertBeforeIndex;return Array.isArray(t)?t[0]:t}function Mh(e,t){const n=e.insertBeforeIndex;Array.isArray(n)?n[0]=t:(Uo(kh,Nh),e.insertBeforeIndex=t)}function Lh(e,t){const n=e.data[t];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function Vh(e,t,n){const r=Cs(e,n,64,null,null);return Oh(t,r),r}function jh(e,t){const n=t[e.currentCaseLViewIndex];return null===n?n:n<0?~n:n}let Uh=0,Bh=0;function qh(e,t,n,r){const i=n[11];let o,s=null;for(let a=0;a<t.length;a++){const u=t[a];if("string"==typeof u){const e=t[++a];null===n[e]&&(n[e]=Co(i,u))}else if("number"==typeof u)switch(1&u){case 0:const c=u>>>17;let l,h;if(null===s&&(s=c,o=Po(i,r)),c===s?(l=r,h=o):(l=null,h=He(n[c])),null!==h){const t=(131070&u)>>>1;Oo(i,h,n[t],l,!1);const r=Lh(e,t);if(null!==r&&"object"==typeof r){const t=jh(r,n);null!==t&&qh(e,r.create[t],n,n[r.anchorIdx])}}break;case 1:const d=t[++a],f=t[++a];$s(i,Ge(u>>>1,n),null,null,d,f,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${u}"`)}else switch(u){case Dh:const e=t[++a],r=t[++a];null===n[r]&&Hi(n[r]=Io(i,e),n);break;case Sh:const o=t[++a],s=t[++a];null===n[s]&&Hi(n[s]=So(i,o,null),n)}}}function Hh(e,t,n,r,i){for(let o=0;o<n.length;o++){const s=n[o],a=n[++o];if(s&i){let i="";for(let s=o+1;s<=o+a;s++){const o=n[s];if("string"==typeof o)i+=o;else if("number"==typeof o)if(o<0)i+=b(t[r-o]);else{const a=o>>>2;switch(3&o){case 1:const o=n[++s],u=n[++s],c=e.data[a];"string"==typeof c?$s(t[11],t[a],null,c,o,i,u):Ms(e,c,t,o,i,t[11],u,!1);break;case 0:const l=t[a];null!==l&&Eo(t[11],l,i);break;case 2:zh(e,Lh(e,a),t,i);break;case 3:Gh(e,Lh(e,a),r,t)}}}}else{const i=n[o+1];if(i>0&&3==(3&i)){const n=Lh(e,i>>>2);t[n.currentCaseLViewIndex]<0&&Gh(e,n,r,t)}}o+=a}}function Gh(e,t,n,r){let i=r[t.currentCaseLViewIndex];if(null!==i){let o=Uh;i<0&&(i=r[t.currentCaseLViewIndex]=~i,o=-1),Hh(e,r,t.update[i],n,o)}}function zh(e,t,n,r){const i=function(e,t){let n=e.cases.indexOf(t);if(-1===n)switch(e.type){case 1:{const r=function(e,t){const n=vh(t)(parseInt(e,10)),r=Ch[n];return void 0!==r?r:"other"}(t,Ah);n=e.cases.indexOf(r),-1===n&&"other"!==r&&(n=e.cases.indexOf("other"));break}case 0:n=e.cases.indexOf("other")}return-1===n?null:n}(t,r);if(jh(t,n)!==i&&($h(e,t,n),n[t.currentCaseLViewIndex]=null===i?null:~i,null!==i)){const r=n[t.anchorIdx];r&&qh(e,t.create[i],n,r)}}function $h(e,t,n){let r=jh(t,n);if(null!==r){const i=t.remove[r];for(let t=0;t<i.length;t++){const r=i[t];if(r>0){const e=Ge(r,n);null!==e&&zo(n[11],e)}else $h(e,Lh(e,~r),n)}}}const Kh=/\ufffd(\d+):?\d*\ufffd/gi,Qh=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,Wh=/\ufffd(\d+)\ufffd/,Zh=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Jh=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Yh=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Xh=/\uE500/g;function ed(e,t,n,r,i,o,s){const a=Es(e,r,1,null);let u=a<<Th.SHIFT,c=ct();t===c&&(c=null),null===c&&(u|=Th.APPEND_EAGERLY),s&&(u|=Th.COMMENT,void 0===po&&(po=function(){const e=[];let t,n,r=-1;function i(e,t){r=0;const i=jh(e,t);n=null!==i?e.remove[i]:W}function o(){if(r<n.length){const s=n[r++];return s>0?t[s]:(e.push(r,n),i(t[1].data[~s],t),o())}return 0===e.length?null:(n=e.pop(),r=e.pop(),o())}return function(n,r){for(t=r;e.length;)e.pop();return i(n.value,r),o}}())),i.push(u,null===o?"":o);const l=Cs(e,a,s?32:1,null===o?"":o,null);Oh(n,l);const h=l.index;return lt(l,!1),null!==c&&t!==c&&function(e,t){let n=e.insertBeforeIndex;var r;null===n?(Uo(kh,Nh),n=e.insertBeforeIndex=[null,t]):("Expecting array here",(r=Array.isArray(n))!=!0&&C("Expecting array here",r,true,"=="),n.push(t))}(c,h),l}function td(e,t,n,r,i,o,s){const a=s.match(Kh),u=ed(e,t,n,o,r,a?null:s,!1);a&&nd(i,s,u.index,null,0,null)}function nd(e,t,n,r,i,o){const s=e.length,a=s+1;e.push(null,null);const u=s+2,c=t.split(Kh);let l=0;for(let h=0;h<c.length;h++){const t=c[h];if(1&h){const n=i+parseInt(t,10);e.push(-1-n),l|=id(n)}else""!==t&&e.push(t)}return e.push(n<<2|(r?1:0)),r&&e.push(r,o),e[s]=l,e[a]=e.length-u,l}function rd(e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];"number"==typeof r&&r<0&&t++}return t}function id(e){return 1<<Math.min(e,31)}function od(e){let t,n,r="",i=0,o=!1;for(;null!==(t=Jh.exec(e));)o?t[0]===`\ufffd/*${n}\ufffd`&&(i=t.index,o=!1):(r+=e.substring(i,t.index+t[0].length),n=t[1],o=!0);return r+=e.substr(i),r}function sd(e,t,n,r,i,o){let s=0;const a={type:i.type,currentCaseLViewIndex:Es(e,t,1,null),anchorIdx:o,cases:[],create:[],remove:[],update:[]};!function(e,t,n){e.push(id(t.mainBinding),2,-1-t.mainBinding,n<<2|2)}(n,i,o),function(e,t,n){const r=e.data[t];null===r?e.data[t]=n:r.value=n}(e,o,a);const u=i.values;for(let c=0;c<u.length;c++){const o=u[c],l=[];for(let e=0;e<o.length;e++){const t=o[e];if("string"!=typeof t){const n=l.push(t)-1;o[e]=`\x3c!--\ufffd${n}\ufffd--\x3e`}}s=cd(e,a,t,n,r,i.cases[c],o.join(""),l)|s}s&&function(e,t,n){e.push(t,1,n<<2|3)}(n,s,o)}function ad(e){const t=[],n=[];let r=1,i=0;const o=ud(e=e.replace(Zh,function(e,t,n){return r="select"===n?0:1,i=parseInt(t.substr(1),10),""}));for(let s=0;s<o.length;){let e=o[s++].trim();1===r&&(e=e.replace(/\s*(?:=)?(\w+)\s*/,"$1")),e.length&&t.push(e);const i=ud(o[s++]);t.length>n.length&&n.push(i)}return{type:r,mainBinding:i,cases:t,values:n}}function ud(e){if(!e)return[];let t=0;const n=[],r=[],i=/[{}]/g;let o;for(i.lastIndex=0;o=i.exec(e);){const i=o.index;if("}"==o[0]){if(n.pop(),0==n.length){const n=e.substring(t,i);Zh.test(n)?r.push(ad(n)):r.push(n),t=i+1}}else{if(0==n.length){const n=e.substring(t,i);r.push(n),t=i+1}n.push("{")}}const s=e.substring(t);return r.push(s),r}function cd(e,t,n,r,i,o,s,a){const u=[],c=[],l=[];t.cases.push(o),t.create.push(u),t.remove.push(c),t.update.push(l);const h=ii(Ue()).getInertBodyElement(s),d=Ai(h)||h;return d?ld(e,t,n,r,u,c,l,d,i,a,0):0}function ld(e,t,n,r,i,o,s,a,u,c,l){let h=0,d=a.firstChild;for(;d;){const a=Es(e,n,1,null);switch(d.nodeType){case Node.ELEMENT_NODE:const f=d,p=f.tagName.toLowerCase();if(yi.hasOwnProperty(p)){fd(i,Sh,p,u,a),e.data[a]=p;const g=f.attributes;for(let e=0;e<g.length;e++){const t=g.item(e),n=t.name.toLowerCase();t.value.match(Kh)?wi.hasOwnProperty(n)&&nd(s,t.value,a,t.name,0,vi[n]?ci:bi[n]?li:null):pd(i,a,t)}h=ld(e,t,n,r,i,o,s,d,a,c,l+1)|h,hd(o,a,l)}break;case Node.TEXT_NODE:const g=d.textContent||"",m=g.match(Kh);fd(i,null,m?"":g,u,a),hd(o,a,l),m&&(h=nd(s,g,a,null,0,null)|h);break;case Node.COMMENT_NODE:const y=Wh.exec(d.textContent||"");if(y){const t=c[parseInt(y[1],10)];fd(i,Dh,"",u,a),sd(e,n,r,u,t,a),dd(o,a,l)}}d=d.nextSibling}return h}function hd(e,t,n){0===n&&e.push(t)}function dd(e,t,n){0===n&&(e.push(~t),e.push(t))}function fd(e,t,n,r,i){null!==t&&e.push(t),e.push(n,i,0|r<<17|i<<1)}function pd(e,t,n){e.push(t<<1|1,n.name,n.value)}const gd=/\[(\ufffd.+?\ufffd?)\]/,md=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,yd=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,vd=/{([A-Z0-9_]+)}/g,bd=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,wd=/\/\*/,_d=/\d+\:(\d+)/;function Cd(e,t={}){let n=e;if(gd.test(e)){const e={},t=[0];n=n.replace(md,(n,r,i)=>{const o=r||i,s=e[o]||[];if(s.length||(o.split("|").forEach(e=>{const t=e.match(_d),n=t?parseInt(t[1],10):0,r=wd.test(e);s.push([n,r,e])}),e[o]=s),!s.length)throw new Error(`i18n postprocess: unmatched placeholder - ${o}`);const a=t[t.length-1];let u=0;for(let e=0;e<s.length;e++)if(s[e][0]===a){u=e;break}const[c,l,h]=s[u];return l?t.pop():a!==c&&t.push(c),s.splice(u,1),h})}return Object.keys(t).length?(n=n.replace(yd,(e,n,r,i,o,s)=>t.hasOwnProperty(r)?`${n}${t[r]}${s}`:e),n=n.replace(vd,(e,n)=>t.hasOwnProperty(n)?t[n]:e),n=n.replace(bd,(e,n)=>{if(t.hasOwnProperty(n)){const r=t[n];if(!r.length)throw new Error(`i18n postprocess: unmatched ICU - ${e} with key: ${n}`);return r.shift()}return e}),n):n}function Ed(e,t,n=-1){const r=ot(),i=it(),o=ve+e,s=Je(r.consts,t),a=ct();r.firstCreatePass&&function(e,t,n,r,i,o){const s=ct(),a=[],u=[],c=[[]],l=(h=i=function(e,t){if(function(e){return-1===e}(t))return od(e);{const n=e.indexOf(`:${t}\ufffd`)+2+t.toString().length,r=e.search(new RegExp(`\ufffd\\/\\*\\d+:${t}\ufffd`));return od(e.substring(n,r))}}(i,o),h.replace(Xh," ")).split(Yh);var h;for(let d=0;d<l.length;d++){let r=l[d];if(0==(1&d)){const o=ud(r);for(let r=0;r<o.length;r++){let l=o[r];if(0==(1&r)){const t=l;""!==t&&td(e,s,c[0],a,u,n,t)}else{const r=l;if("object"!=typeof r)throw new Error(`Unable to parse ICU expression in "${i}" message.`);sd(e,n,u,t,r,ed(e,s,c[0],n,a,"",!0).index)}}}else{const t=47===r.charCodeAt(0),n=(r.charCodeAt(t?1:0),ve+Number.parseInt(r.substring(t?2:1)));if(t)c.shift(),lt(ct(),!1);else{const t=Vh(e,c[0],n);c.unshift([]),lt(t,!0)}}}e.data[r]={create:a,update:u}}(r,null===a?0:a.index,i,o,s,n);const u=r.data[o],c=No(r,a===i[6]?null:a,i);!function(e,t,n,r){const i=e[11];for(let o=0;o<t.length;o++){const s=t[o++],a=t[o],u=(s&Th.COMMENT)===Th.COMMENT,c=(s&Th.APPEND_EAGERLY)===Th.APPEND_EAGERLY,l=s>>>Th.SHIFT;let h=e[l];null===h&&(h=e[l]=u?i.createComment(a):Co(i,a)),c&&null!==n&&Oo(i,n,h,r,!1)}}(i,u.create,c,a&&8&a.type?i[a.index]:null),wt(!0)}function Id(){wt(!1)}function Sd(e,t,n){Ed(e,t,n),Id()}function Dd(e,t){const n=ot(),r=Je(n.consts,t);!function(e,t,n){const r=at().index,i=[];if(e.firstCreatePass&&null===e.data[t]){for(let e=0;e<n.length;e+=2){const t=n[e],o=n[e+1];if(""!==o){if(Qh.test(o))throw new Error(`ICU expressions are not supported in attributes. Message: "${o}".`);nd(i,o,r,t,rd(i),null)}}e.data[t]=i}}(n,e+ve,r)}function Td(e){return yu(it(),vt(),e)&&(Uh|=1<<Math.min(Bh,31)),Bh++,Td}function Ad(e){!function(e,t,n){if(Bh>0){const r=e.data[n];Hh(e,t,Array.isArray(r)?r:r.update,mt()-Bh-1,Uh)}Uh=0,Bh=0}(ot(),it(),e+ve)}function xd(e,t={}){return Cd(e,t)}function kd(e,t,n,r,i){if(e=m(e),Array.isArray(e))for(let o=0;o<e.length;o++)kd(e[o],t,n,r,i);else{const o=ot(),s=it();let a=xa(e)?e:m(e.provide),u=Da(e);const c=at(),l=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(xa(e)||!e.multi){const r=new Qt(u,i,bc),f=Rd(a,t,i?l:l+d,h);-1===f?(hn(an(c,s),o,a),Nd(o,e,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[f]=r,s[f]=r)}else{const f=Rd(a,t,l+d,h),p=Rd(a,t,l,l+d),g=f>=0&&n[f],m=p>=0&&n[p];if(i&&!m||!i&&!g){hn(an(c,s),o,a);const l=function(e,t,n,r,i){const o=new Qt(e,n,bc);return o.multi=[],o.index=t,o.componentProviders=0,Od(o,i,r&&!n),o}(i?Pd:Fd,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),Nd(o,e,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else Nd(o,e,f>-1?f:p,Od(n[i?p:f],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function Nd(e,t,n,r){const i=xa(t);if(i||t.useClass){const o=(t.useClass||t).prototype.ngOnDestroy;if(o){const s=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const e=s.indexOf(n);-1===e?s.push(n,[r,o]):s[e+1].push(r,o)}else s.push(n,o)}}}function Od(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Rd(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function Fd(e,t,n,r){return Md(this.multi,[])}function Pd(e,t,n,r){const i=this.multi;let o;if(this.providerFactory){const e=this.providerFactory.componentProviders,t=wn(n,n[1],this.providerFactory.index,r);o=t.slice(0,e),Md(i,o);for(let n=e;n<t.length;n++)o.push(t[n])}else o=[],Md(i,o);return o}function Md(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Ld(e,t=[]){return n=>{n.providersResolver=(n,r)=>function(e,t,n){const r=ot();if(r.firstCreatePass){const i=Se(e);kd(n,r.data,r.blueprint,i,!0),kd(t,r.data,r.blueprint,i,!1)}}(n,r?r(e):e,t)}}class Vd{}class jd{}function Ud(e){const t=Error(`No component factory found for ${d(e)}. Did you add it to @NgModule.entryComponents?`);return t[Bd]=e,t}const Bd="ngComponent";class qd{resolveComponentFactory(e){throw Ud(e)}}class Hd{}Hd.NULL=new qd;class Gd{constructor(e,t,n){this._parent=t,this._ngModule=n,this._factories=new Map;for(let r=0;r<e.length;r++){const t=e[r];this._factories.set(t.componentType,t)}}resolveComponentFactory(e){let t=this._factories.get(e);if(!t&&this._parent&&(t=this._parent.resolveComponentFactory(e)),!t)throw Ud(e);return new zd(t,this._ngModule)}}class zd extends jd{constructor(e,t){super(),this.factory=e,this.ngModule=t,this.selector=e.selector,this.componentType=e.componentType,this.ngContentSelectors=e.ngContentSelectors,this.inputs=e.inputs,this.outputs=e.outputs}create(e,t,n,r){return this.factory.create(e,t,n,r||this.ngModule)}}function $d(...e){}function Kd(){return Qd(at(),it())}function Qd(e,t){return new Jd(ze(e,t))}const Wd=Kd,Zd=Wd;let Jd=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=Zd,e})();function Yd(e){return e instanceof Jd?e.nativeElement:e}class Xd{}let ef=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>nf(),e})();const tf=rf,nf=tf;function rf(){const e=it(),t=Qe(at().index,e);return function(e){return e[11]}(we(t)?t:e)}let of=(()=>{class e{}return e.\u0275prov=E({token:e,providedIn:"root",factory:()=>null}),e})();class sf{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const af=new sf("12.1.5");class uf{constructor(){}supports(e){return fu(e)}create(e){return new lf(e)}}const cf=(e,t)=>t;class lf{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||cf}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,r=0,i=null;for(;t||n;){const o=!n||t&&t.currentIndex<pf(n,r,i)?t:n,s=pf(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{i||(i=[]);const e=s-r,t=a-r;if(e!=t){for(let n=0;n<e;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;t<=o&&o<e&&(i[n]=r+1)}i[o.previousIndex]=t-e}}s!==a&&e(o,s,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!fu(e))throw new Error(`Error trying to diff '${d(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,r,i=this._itHead,o=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)n=e[t],r=this._trackByFn(t,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,t)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,t),o=!0),i=i._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[lu()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(e,e=>{r=this._trackByFn(t,e),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,e,r,t)),Object.is(i.item,e)||this._addIdentityChange(i,e)):(i=this._mismatch(i,e,r,t),o=!0),i=i._next,t++}),this.length=t;return this._truncate(i),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,r){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):e=this._addAfter(new hf(t,n),i,r),e}_verifyReinsertion(e,t,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new ff),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ff),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class hf{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class df{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class ff{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new df,this.map.set(t,n)),n.add(e)}get(e,t){const n=this.map.get(e);return n?n.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function pf(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class gf{constructor(){}supports(e){return e instanceof Map||pu(e)}create(){return new mf}}class mf{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||pu(e)))throw new Error(`Error trying to diff '${d(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const r=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,r)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new yf(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class yf{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function vf(){return new bf([new uf])}let bf=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(null!=n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||vf()),deps:[[e,new Ir,new Cr]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`);var n}}return e.\u0275prov=E({token:e,providedIn:"root",factory:vf}),e})();function wf(){return new _f([new gf])}let _f=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||wf()),deps:[[e,new Ir,new Cr]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.\u0275prov=E({token:e,providedIn:"root",factory:wf}),e})();function Cf(e,t,n,r,i=!1){for(;null!==n;){const o=t[n.index];if(null!==o&&r.push(He(o)),_e(o))for(let e=be;e<o.length;e++){const t=o[e],n=t[1].firstChild;null!==n&&Cf(t[1],t,n,r)}const s=n.type;if(8&s)Cf(e,t,n.child,r);else if(32&s){const e=go(n,t);let i;for(;i=e();)r.push(i)}else if(16&s){const e=Ho(t,n);if(Array.isArray(e))r.push(...e);else{const n=mo(t[16]);Cf(n[1],n,e,r,!0)}}n=i?n.projectionNext:n.next}return r}class Ef{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return Cf(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(_e(e)){const t=e[8],n=t?t.indexOf(this):-1;n>-1&&(To(e,n),Zn(t,n))}this._attachedToViewContainer=!1}Ao(this._lView[1],this._lView)}onDestroy(e){Fs(this._lView[1],this._lView,null,e)}markForCheck(){ea(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){na(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){pt(!0);try{na(e,t,n)}finally{pt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var e;this._appRef=null,Ko(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class If extends Ef{constructor(e){super(e),this._view=e}detectChanges(){ra(this._view)}checkNoChanges(){!function(e){pt(!0);try{ra(e)}finally{pt(!1)}}(this._view)}get context(){return null}}const Sf=Af,Df=Sf;let Tf=(()=>{class e{}return e.__NG_ELEMENT_ID__=Df,e})();function Af(e){return function(e,t,n){if(Ee(e)&&!n){const n=Qe(e.index,t);return new Ef(n,n)}return 47&e.type?new Ef(t[16],t):null}(at(),it(),16==(16&e))}const xf=[new gf],kf=new bf([new uf]),Nf=new _f(xf),Of=Lf,Rf=Of;let Ff=(()=>{class e{}return e.__NG_ELEMENT_ID__=Rf,e})();const Pf=Ff,Mf=class extends Pf{constructor(e,t,n){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=n}createEmbeddedView(e){const t=this._declarationTContainer.tViews,n=ws(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(t)),Is(t,n,e),new Ef(n)}};function Lf(){return Vf(at(),it())}function Vf(e,t){return 4&e.type?new Mf(t,e,Qd(e,t)):null}class jf{}class Uf{}const Bf=Gf,qf=Bf;let Hf=(()=>{class e{}return e.__NG_ELEMENT_ID__=qf,e})();function Gf(){return Wf(at(),it())}const zf=Hf,$f=class extends zf{constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=n}get element(){return Qd(this._hostTNode,this._hostLView)}get injector(){return new En(this._hostTNode,this._hostLView)}get parentInjector(){const e=ln(this._hostTNode,this._hostLView);if(en(e)){const t=nn(e,this._hostLView),n=tn(e);return new En(t[1].data[n+8],t)}return new En(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=Kf(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-be}createEmbeddedView(e,t,n){const r=e.createEmbeddedView(t||{});return this.insert(r,n),r}createComponent(e,t,n,r,i){const o=n||this.parentInjector;if(!i&&null==e.ngModule&&o){const e=o.get(jf,null);e&&(i=e)}const s=e.create(o,r,void 0,i);return this.insert(s.hostView,t),s}insert(e,t){const n=e._lView,r=n[1];if(_e(n[3])){const t=this.indexOf(e);if(-1!==t)this.detach(t);else{const t=n[3],r=new $f(t,t[6],t[3]);r.detach(r.indexOf(e))}}const i=this._adjustIndex(t),o=this._lContainer;!function(e,t,n,r){const i=be+r,o=n.length;r>0&&(n[i-1][4]=t),r<o-be?(t[4]=n[i],Wn(n,be+r,t)):(n.push(t),t[4]=null),t[3]=n;const s=t[17];null!==s&&n!==s&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(s,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}(r,n,o,i);const s=Go(i,o),a=n[11],u=Po(a,o[7]);return null!==u&&function(e,t,n,r,i,o){r[0]=i,r[6]=t,Ko(e,r,n,1,i,o)}(r,o[6],a,n,u,s),e.attachToViewContainerRef(),Wn(Qf(o),i,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=Kf(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),n=To(this._lContainer,t);n&&(Zn(Qf(this._lContainer),t),Ao(n[1],n))}detach(e){const t=this._adjustIndex(e,-1),n=To(this._lContainer,t);return n&&null!=Zn(Qf(this._lContainer),t)?new Ef(n):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function Kf(e){return e[8]}function Qf(e){return e[8]||(e[8]=[])}function Wf(e,t){let n;const r=t[e.index];if(_e(r))n=r;else{let i;if(8&e.type)i=He(r);else{const n=t[11];i=n.createComment("");const r=ze(e,t);Oo(n,Po(n,r),i,function(e,t){return Be(e)?e.nextSibling(t):t.nextSibling}(n,r),!1)}t[e.index]=n=Ws(r,t,i,e),Xs(t,n)}return new $f(n,e,t)}function Zf(e,t,n,r){let i=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${t}'. Current value: '${n}'.`;return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(e,t){const n=new Error(e);return Jf(n,t),n}(i,e)}function Jf(e,t){e.ngDebugContext=t,e.ngErrorLogger=t.logError.bind(t)}function Yf(e){return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${e}`)}function Xf(e,t,n){const r=e.state,i=1792&r;return i===t?(e.state=-1793&r|n,e.initIndex=-1,!0):i===n}function ep(e,t,n){return(1792&e.state)===t&&e.initIndex<=n&&(e.initIndex=n+1,!0)}function tp(e,t){return e.nodes[t]}function np(e,t){return e.nodes[t]}function rp(e,t){return e.nodes[t]}function ip(e,t){return e.nodes[t]}function op(e,t){return e.nodes[t]}class sp{}const ap={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},up=()=>{},cp=new Map;function lp(e){let t=cp.get(e);return t||(t=d(e)+"_"+cp.size,cp.set(e,t)),t}function hp(e,t,n,r){if(du.isWrapped(r)){r=du.unwrap(r);const i=e.def.nodes[t].bindingIndex+n,o=du.unwrap(e.oldValues[i]);e.oldValues[i]=new du(o)}return r}const dp="$$undefined",fp="$$empty";function pp(e){return{id:dp,styles:e.styles,encapsulation:e.encapsulation,data:e.data}}let gp=0;function mp(e,t,n,r){return!(!(2&e.state)&&Object.is(e.oldValues[t.bindingIndex+n],r))}function yp(e,t,n,r){return!!mp(e,t,n,r)&&(e.oldValues[t.bindingIndex+n]=r,!0)}function vp(e,t,n,r){const i=e.oldValues[t.bindingIndex+n];if(1&e.state||!hu(i,r)){const o=t.bindings[n].name;throw Zf(ap.createDebugContext(e,t.nodeIndex),`${o}: ${i}`,`${o}: ${r}`,0!=(1&e.state))}}function bp(e){let t=e;for(;t;)2&t.def.flags&&(t.state|=8),t=t.viewContainerParent||t.parent}function wp(e,t){let n=e;for(;n&&n!==t;)n.state|=64,n=n.viewContainerParent||n.parent}function _p(e,t,n,r){try{return bp(33554432&e.def.nodes[t].flags?np(e,t).componentView:e),ap.handleEvent(e,t,n,r)}catch(i){e.root.errorHandler.handleError(i)}}function Cp(e){return e.parent?np(e.parent,e.parentNodeDef.nodeIndex):null}function Ep(e){return e.parent?e.parentNodeDef.parent:null}function Ip(e,t){switch(201347067&t.flags){case 1:return np(e,t.nodeIndex).renderElement;case 2:return tp(e,t.nodeIndex).renderText}}function Sp(e){return!!e.parent&&!!(32768&e.parentNodeDef.flags)}function Dp(e){return!(!e.parent||32768&e.parentNodeDef.flags)}function Tp(e){return 1<<e%32}function Ap(e){const t={};let n=0;const r={};return e&&e.forEach(([e,i])=>{"number"==typeof e?(t[e]=i,n|=Tp(e)):r[e]=i}),{matchedQueries:t,references:r,matchedQueryIds:n}}function xp(e,t){return e.map(e=>{let n,r;return Array.isArray(e)?[r,n]=e:(r=0,n=e),n&&("function"==typeof n||"object"==typeof n)&&t&&Object.defineProperty(n,lr,{value:t,configurable:!0}),{flags:r,token:n,tokenKey:lp(n)}})}function kp(e,t,n){let r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&(r.element.componentRendererType.encapsulation===q.ShadowDom||1===r.element.componentRendererType.encapsulation)?np(e,n.renderParent.nodeIndex).renderElement:void 0:t}const Np=new WeakMap;function Op(e){let t=Np.get(e);return t||(t=e(()=>up),t.factory=e,Np.set(e,t)),t}function Rp(e,t,n,r,i){3===t&&(n=e.renderer.parentNode(Ip(e,e.def.lastRenderRootNode))),Fp(e,t,0,e.def.nodes.length-1,n,r,i)}function Fp(e,t,n,r,i,o,s){for(let a=n;a<=r;a++){const n=e.def.nodes[a];11&n.flags&&Mp(e,n,t,i,o,s),a+=n.childCount}}function Pp(e,t,n,r,i,o){let s=e;for(;s&&!Sp(s);)s=s.parent;const a=s.parent,u=Ep(s),c=u.nodeIndex+u.childCount;for(let l=u.nodeIndex+1;l<=c;l++){const e=a.def.nodes[l];e.ngContentIndex===t&&Mp(a,e,n,r,i,o),l+=e.childCount}if(!a.parent){const s=e.root.projectableNodes[t];if(s)for(let t=0;t<s.length;t++)Lp(e,s[t],n,r,i,o)}}function Mp(e,t,n,r,i,o){if(8&t.flags)Pp(e,t.ngContent.index,n,r,i,o);else{const s=Ip(e,t);if(3===n&&33554432&t.flags&&48&t.bindingFlags?(16&t.bindingFlags&&Lp(e,s,n,r,i,o),32&t.bindingFlags&&Lp(np(e,t.nodeIndex).componentView,s,n,r,i,o)):Lp(e,s,n,r,i,o),16777216&t.flags){const s=np(e,t.nodeIndex).viewContainer._embeddedViews;for(let e=0;e<s.length;e++)Rp(s[e],n,r,i,o)}1&t.flags&&!t.element.name&&Fp(e,n,t.nodeIndex+1,t.nodeIndex+t.childCount,r,i,o)}}function Lp(e,t,n,r,i,o){const s=e.renderer;switch(n){case 1:s.appendChild(r,t);break;case 2:s.insertBefore(r,t,i);break;case 3:s.removeChild(r,t);break;case 0:o.push(t)}}const Vp=/^:([^:]+):(.+)$/;function jp(e){if(":"===e[0]){const t=e.match(Vp);return[t[1],t[2]]}return["",e]}function Up(e){let t=0;for(let n=0;n<e.length;n++)t|=e[n].flags;return t}function Bp(e,t){let n="";for(let r=0;r<2*e;r+=2)n=n+t[r]+Hp(t[r+1]);return n+t[2*e]}function qp(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,g,m,y,v,b){switch(e){case 1:return t+Hp(n)+r;case 2:return t+Hp(n)+r+Hp(i)+o;case 3:return t+Hp(n)+r+Hp(i)+o+Hp(s)+a;case 4:return t+Hp(n)+r+Hp(i)+o+Hp(s)+a+Hp(u)+c;case 5:return t+Hp(n)+r+Hp(i)+o+Hp(s)+a+Hp(u)+c+Hp(l)+h;case 6:return t+Hp(n)+r+Hp(i)+o+Hp(s)+a+Hp(u)+c+Hp(l)+h+Hp(d)+f;case 7:return t+Hp(n)+r+Hp(i)+o+Hp(s)+a+Hp(u)+c+Hp(l)+h+Hp(d)+f+Hp(p)+g;case 8:return t+Hp(n)+r+Hp(i)+o+Hp(s)+a+Hp(u)+c+Hp(l)+h+Hp(d)+f+Hp(p)+g+Hp(m)+y;case 9:return t+Hp(n)+r+Hp(i)+o+Hp(s)+a+Hp(u)+c+Hp(l)+h+Hp(d)+f+Hp(p)+g+Hp(m)+y+Hp(v)+b;default:throw new Error("Does not support more than 9 expressions")}}function Hp(e){return null!=e?e.toString():""}const Gp={},zp={},$p=lp(Oa),Kp=lp(ga),Qp=lp(jf);function Wp(e,t,n,r){return n=m(n),{index:-1,deps:xp(r,d(t)),flags:e,token:t,value:n}}function Zp(e){const t={},n=[];let r=null;for(let i=0;i<e.length;i++){const o=e[i];o.token===ya&&(r=o.value),1073741824&o.flags&&n.push(o.token),o.index=i,t[lp(o.token)]=o}return{factory:null,providersByKey:t,providers:e,modules:n,scope:r}}function Jp(e,t,n=Oa.THROW_IF_NOT_FOUND){const r=fr(e);try{if(8&t.flags)return t.token;if(2&t.flags&&(n=null),1&t.flags)return e._parent.get(t.token,n);const i=t.tokenKey;switch(i){case $p:case Kp:case Qp:return e}const o=e._def.providersByKey[i];let s;if(o){let t=e._providers[o.index];return void 0===t&&(t=e._providers[o.index]=Yp(e,o)),t===zp?void 0:t}if((s=D(t.token))&&function(e,t){const n=m(t.providedIn);return null!=n&&("any"===n||n===e._def.scope||function(e,t){return e._def.modules.indexOf(t)>-1}(e,n))}(e,s)){const n=e._providers.length;return e._def.providers[n]=e._def.providersByKey[t.tokenKey]={flags:5120,value:s.factory,deps:[],index:n,token:t.token},e._providers[n]=zp,e._providers[n]=Yp(e,e._def.providersByKey[t.tokenKey])}return 4&t.flags?n:e._parent.get(t.token,n)}finally{fr(r)}}function Yp(e,t){let n;switch(201347067&t.flags){case 512:n=function(e,t,n){const r=n.length;switch(r){case 0:return new t;case 1:return new t(Jp(e,n[0]));case 2:return new t(Jp(e,n[0]),Jp(e,n[1]));case 3:return new t(Jp(e,n[0]),Jp(e,n[1]),Jp(e,n[2]));default:const i=[];for(let t=0;t<r;t++)i[t]=Jp(e,n[t]);return new t(...i)}}(e,t.value,t.deps);break;case 1024:n=function(e,t,n){const r=n.length;switch(r){case 0:return t();case 1:return t(Jp(e,n[0]));case 2:return t(Jp(e,n[0]),Jp(e,n[1]));case 3:return t(Jp(e,n[0]),Jp(e,n[1]),Jp(e,n[2]));default:const i=[];for(let t=0;t<r;t++)i[t]=Jp(e,n[t]);return t(...i)}}(e,t.value,t.deps);break;case 2048:n=Jp(e,t.deps[0]);break;case 256:n=t.value}return n===zp||null===n||"object"!=typeof n||131072&t.flags||"function"!=typeof n.ngOnDestroy||(t.flags|=131072),void 0===n?zp:n}function Xp(e,t){const n=e.viewContainer._embeddedViews;if((null==t||t>=n.length)&&(t=n.length-1),t<0)return null;const r=n[t];return r.viewContainerParent=null,Zn(n,t),ap.dirtyParentQueries(r),tg(r),r}function eg(e,t,n){const r=t?Ip(t,t.def.lastRenderRootNode):e.renderElement,i=n.renderer.parentNode(r),o=n.renderer.nextSibling(r);Rp(n,2,i,o,void 0)}function tg(e){Rp(e,3,null,null,void 0)}const ng={};function rg(e,t,n,r,i,o){return new og(e,t,n,r,i,o)}function ig(e){return e.viewDefFactory}class og extends jd{constructor(e,t,n,r,i,o){super(),this.selector=e,this.componentType=t,this._inputs=r,this._outputs=i,this.ngContentSelectors=o,this.viewDefFactory=n}get inputs(){const e=[],t=this._inputs;for(let n in t)e.push({propName:n,templateName:t[n]});return e}get outputs(){const e=[];for(let t in this._outputs)e.push({propName:t,templateName:this._outputs[t]});return e}create(e,t,n,r){if(!r)throw new Error("ngModule should be provided");const i=Op(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,s=ap.createRootView(e,t||[],n,i,r,ng),a=rp(s,o).instance;return n&&s.renderer.setAttribute(np(s,0).renderElement,"ng-version",af.full),new sg(s,new lg(s),a)}}class sg extends Vd{constructor(e,t,n){super(),this._view=e,this._viewRef=t,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=t,this.changeDetectorRef=t,this.instance=n}get location(){return new Jd(np(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new pg(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(e){this._viewRef.onDestroy(e)}}function ag(e,t,n){return new ug(e,t,n)}class ug{constructor(e,t,n){this._view=e,this._elDef=t,this._data=n,this._embeddedViews=[]}get element(){return new Jd(this._data.renderElement)}get injector(){return new pg(this._view,this._elDef)}get parentInjector(){let e=this._view,t=this._elDef.parent;for(;!t&&e;)t=Ep(e),e=e.parent;return e?new pg(e,t):new pg(this._view,null)}clear(){for(let e=this._embeddedViews.length-1;e>=0;e--){const t=Xp(this._data,e);ap.destroyView(t)}}get(e){const t=this._embeddedViews[e];if(t){const e=new lg(t);return e.attachToViewContainerRef(this),e}return null}get length(){return this._embeddedViews.length}createEmbeddedView(e,t,n){const r=e.createEmbeddedView(t||{});return this.insert(r,n),r}createComponent(e,t,n,r,i){const o=n||this.parentInjector;i||e instanceof zd||(i=o.get(jf));const s=e.create(o,r,void 0,i);return this.insert(s.hostView,t),s}insert(e,t){if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=e;return function(e,t,n,r){let i=t.viewContainer._embeddedViews;null==n&&(n=i.length),r.viewContainerParent=e,Wn(i,n,r),function(e,t){const n=Cp(t);if(!n||n===e||16&t.state)return;t.state|=16;let r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(t),function(e,t){if(4&t.flags)return;e.nodeFlags|=4,t.flags|=4;let n=t.parent;for(;n;)n.childFlags|=4,n=n.parent}(t.parent.def,t.parentNodeDef)}(t,r),ap.dirtyParentQueries(r),eg(t,n>0?i[n-1]:null,r)}(this._view,this._data,t,n._view),n.attachToViewContainerRef(this),e}move(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(e._view);return function(e,t,n){const r=e.viewContainer._embeddedViews,i=r[t];Zn(r,t),null==n&&(n=r.length),Wn(r,n,i),ap.dirtyParentQueries(i),tg(i),eg(e,n>0?r[n-1]:null,i)}(this._data,n,t),e}indexOf(e){return this._embeddedViews.indexOf(e._view)}remove(e){const t=Xp(this._data,e);t&&ap.destroyView(t)}detach(e){const t=Xp(this._data,e);return t?new lg(t):null}}function cg(e){return new lg(e)}class lg{constructor(e){this._view=e,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(e){const t=[];return Rp(e,0,void 0,void 0,t),t}(this._view)}get context(){return this._view.context}set context(e){this._view.context=e}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){bp(this._view)}detach(){this._view.state&=-5}detectChanges(){const e=this._view.root.rendererFactory;e.begin&&e.begin();try{ap.checkAndUpdateView(this._view)}finally{e.end&&e.end()}}checkNoChanges(){ap.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(e){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(e)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),ap.destroyView(this._view)}detachFromAppRef(){this._appRef=null,tg(this._view),ap.dirtyParentQueries(this._view)}attachToAppRef(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}attachToViewContainerRef(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}}function hg(e,t){return new dg(e,t)}class dg extends Ff{constructor(e,t){super(),this._parentView=e,this._def=t}createEmbeddedView(e){return new lg(ap.createEmbeddedView(this._parentView,this._def,this._def.element.template,e))}get elementRef(){return new Jd(np(this._parentView,this._def.nodeIndex).renderElement)}}function fg(e,t){return new pg(e,t)}class pg{constructor(e,t){this.view=e,this.elDef=t}get(e,t=Oa.THROW_IF_NOT_FOUND){return ap.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:e,tokenKey:lp(e)},t)}}function gg(e,t){const n=e.def.nodes[t];if(1&n.flags){const t=np(e,n.nodeIndex);return n.element.template?t.template:t.renderElement}if(2&n.flags)return tp(e,n.nodeIndex).renderText;if(20240&n.flags)return rp(e,n.nodeIndex).instance;throw new Error(`Illegal state: read nodeValue for node index ${t}`)}function mg(e,t,n,r){return new yg(e,t,n,r)}class yg{constructor(e,t,n,r){this._moduleType=e,this._parent=t,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(e){const t=e._def,n=e._providers=Jn(t.providers.length);for(let r=0;r<t.providers.length;r++){const i=t.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=Yp(e,i))}}(this)}get(e,t=Oa.THROW_IF_NOT_FOUND,n=R.Default){let r=0;return n&R.SkipSelf?r|=1:n&R.Self&&(r|=4),Jp(this,{token:e,tokenKey:lp(e),flags:r},t)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(Hd)}destroy(){if(this._destroyed)throw new Error(`The ng module ${d(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(e,t){const n=e._def,r=new Set;for(let i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){const t=e._providers[i];if(t&&t!==zp){const e=t.ngOnDestroy;"function"!=typeof e||r.has(t)||(e.apply(t),r.add(t))}}}(this),this._destroyListeners.forEach(e=>e())}onDestroy(e){this._destroyListeners.push(e)}}const vg=lp(ef),bg=lp(Jd),wg=lp(Hf),_g=lp(Ff),Cg=lp(Tf),Eg=lp(Oa),Ig=lp(ga);function Sg(e,t,n,r,i,o,s,a){const u=[];if(s)for(let l in s){const[e,t]=s[l];u[e]={flags:8,name:l,nonMinifiedName:t,ns:null,securityContext:null,suffix:null}}const c=[];if(a)for(let l in a)c.push({type:1,propName:l,target:null,eventName:a[l]});return Ag(e,t|=16384,n,r,i,i,o,u,c)}function Dg(e,t,n){return Ag(-1,e|=16,null,0,t,t,n)}function Tg(e,t,n,r,i){return Ag(-1,e,t,0,n,r,i)}function Ag(e,t,n,r,i,o,s,a,u){const{matchedQueries:c,references:l,matchedQueryIds:h}=Ap(n);u||(u=[]),a||(a=[]),o=m(o);const f=xp(s,d(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:h,references:l,ngContentIndex:-1,childCount:r,bindings:a,bindingFlags:Up(a),outputs:u,element:null,provider:{token:i,value:o,deps:f},text:null,query:null,ngContent:null}}function xg(e,t){return Rg(e,t)}function kg(e,t){let n=e;for(;n.parent&&!Sp(n);)n=n.parent;return Fg(n.parent,Ep(n),!0,t.provider.value,t.provider.deps)}function Ng(e,t){const n=Fg(e,t.parent,(32768&t.flags)>0,t.provider.value,t.provider.deps);if(t.outputs.length)for(let r=0;r<t.outputs.length;r++){const i=t.outputs[r],o=n[i.propName];if(!Oc(o))throw new Error(`@Output ${i.propName} not initialized in '${n.constructor.name}'.`);{const n=o.subscribe(Og(e,t.parent.nodeIndex,i.eventName));e.disposables[t.outputIndex+r]=n.unsubscribe.bind(n)}}return n}function Og(e,t,n){return r=>_p(e,t,n,r)}function Rg(e,t){const n=(8192&t.flags)>0,r=t.provider;switch(201347067&t.flags){case 512:return Fg(e,t.parent,n,r.value,r.deps);case 1024:return function(e,t,n,r,i){const o=i.length;switch(o){case 0:return r();case 1:return r(Mg(e,t,n,i[0]));case 2:return r(Mg(e,t,n,i[0]),Mg(e,t,n,i[1]));case 3:return r(Mg(e,t,n,i[0]),Mg(e,t,n,i[1]),Mg(e,t,n,i[2]));default:const s=[];for(let r=0;r<o;r++)s.push(Mg(e,t,n,i[r]));return r(...s)}}(e,t.parent,n,r.value,r.deps);case 2048:return Mg(e,t.parent,n,r.deps[0]);case 256:return r.value}}function Fg(e,t,n,r,i){const o=i.length;switch(o){case 0:return new r;case 1:return new r(Mg(e,t,n,i[0]));case 2:return new r(Mg(e,t,n,i[0]),Mg(e,t,n,i[1]));case 3:return new r(Mg(e,t,n,i[0]),Mg(e,t,n,i[1]),Mg(e,t,n,i[2]));default:const s=[];for(let r=0;r<o;r++)s.push(Mg(e,t,n,i[r]));return new r(...s)}}const Pg={};function Mg(e,t,n,r,i=Oa.THROW_IF_NOT_FOUND){if(8&r.flags)return r.token;const o=e;2&r.flags&&(i=null);const s=r.tokenKey;s===Cg&&(n=!(!t||!t.element.componentView)),t&&1&r.flags&&(n=!1,t=t.parent);let a=e;for(;a;){if(t)switch(s){case vg:return Lg(a,t,n).renderer;case bg:return new Jd(np(a,t.nodeIndex).renderElement);case wg:return np(a,t.nodeIndex).viewContainer;case _g:if(t.element.template)return np(a,t.nodeIndex).template;break;case Cg:return cg(Lg(a,t,n));case Eg:case Ig:return fg(a,t);default:const e=(n?t.element.allProviders:t.element.publicProviders)[s];if(e){let t=rp(a,e.nodeIndex);return t||(t={instance:Rg(a,e)},a.nodes[e.nodeIndex]=t),t.instance}}n=Sp(a),t=Ep(a),a=a.parent,4&r.flags&&(a=null)}const u=o.root.injector.get(r.token,Pg);return u!==Pg||i===Pg?u:o.root.ngModule.injector.get(r.token,i)}function Lg(e,t,n){let r;if(n)r=np(e,t.nodeIndex).componentView;else for(r=e;r.parent&&!Sp(r);)r=r.parent;return r}function Vg(e,t,n,r,i,o){if(32768&n.flags){const t=np(e,n.parent.nodeIndex).componentView;2&t.def.flags&&(t.state|=8)}if(t.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};const t=du.unwrap(e.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new Te(t,i,0!=(2&e.state))}return e.oldValues[n.bindingIndex+r]=i,o}function jg(e,t){if(!(e.def.nodeFlags&t))return;const n=e.def.nodes;let r=0;for(let i=0;i<n.length;i++){const o=n[i];let s=o.parent;for(!s&&o.flags&t&&Bg(e,i,o.flags&t,r++),0==(o.childFlags&t)&&(i+=o.childCount);s&&1&s.flags&&i===s.nodeIndex+s.childCount;)s.directChildFlags&t&&(r=Ug(e,s,t,r)),s=s.parent}}function Ug(e,t,n,r){for(let i=t.nodeIndex+1;i<=t.nodeIndex+t.childCount;i++){const t=e.def.nodes[i];t.flags&n&&Bg(e,i,t.flags&n,r++),i+=t.childCount}return r}function Bg(e,t,n,r){const i=rp(e,t);if(!i)return;const o=i.instance;o&&(ap.setCurrentNode(e,t),1048576&n&&ep(e,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&ep(e,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}class qg extends Hd{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=pe(e);return new zg(t,this.ngModule)}}function Hg(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const Gg=new Mn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>ao});class zg extends jd{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map(us).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return Hg(this.componentDef.inputs)}get outputs(){return Hg(this.componentDef.outputs)}create(e,t,n,r){const i=(r=r||this.ngModule)?function(e,t){return{get:(n,r,i)=>{const o=e.get(n,Pg,i);return o!==Pg||r===Pg?o:t.get(n,r,i)}}}(e,r.injector):e,o=i.get(Xd,qe),s=i.get(of,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?Rs(a,n,this.componentDef.encapsulation):So(o.createRenderer(null,this.componentDef),u,function(e){const t=e.toLowerCase();return"svg"===t?Me:"math"===t?Le:null}(u)),l=this.componentDef.onPush?576:528,h=Ja(),d=Os(0,null,null,1,0,null,null,null,null,null),f=ws(null,d,h,l,null,null,o,a,s,i);let p,g;At(f);try{const e=Wa(c,this.componentDef,f,o,a);if(c)if(n)Wt(a,c,["ng-version",af.full]);else{const{attrs:e,classes:t}=function(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!rs(i))break;i=o}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);e&&Wt(a,c,e),t&&t.length>0&&Zo(a,c,t.join(" "))}if(g=$e(d,ve),void 0!==t){const e=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=t[n];e.push(null!=r?Array.from(r):null)}}p=Za(e,this.componentDef,f,h,[Ya]),Is(d,f,null)}finally{Rt()}return new $g(this.componentType,p,Qd(g,f),f,g)}}class $g extends Vd{constructor(e,t,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=t,this.hostView=this.changeDetectorRef=new If(r),this.componentType=e}get injector(){return new En(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function Kg(e,t,n,r){return V(()=>{const i=e;null!==t&&(i.hasOwnProperty("decorators")&&void 0!==i.decorators?i.decorators.push(...t):i.decorators=t),null!==n&&(i.ctorParameters=n),null!==r&&(i.propDecorators=i.hasOwnProperty("propDecorators")&&void 0!==i.propDecorators?Object.assign(Object.assign({},i.propDecorators),r):r)})}const Qg=new Map;function Wg(e,t){const n=Qg.get(e);Zg(e,n&&n.moduleType,t.moduleType),Qg.set(e,t)}function Zg(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${d(t)} vs ${d(t.name)}`)}function Jg(e){const t=new Set;!function e(n){const r=ye(n,!0),i=r.id;null!==i&&(Zg(i,Qg.get(i),n),Qg.set(i,n));const o=ho(r.imports);for(const s of o)t.has(s)||(t.add(s),e(s))}(e)}function Yg(e){return Qg.get(e)||ue[e]}class Xg extends jf{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new qg(this);const n=ye(e),r=e[ee]||null;r&&xh(r),this._bootstrapComponents=ho(n.bootstrap),this._r3Injector=Ea(e,t,[{provide:jf,useValue:this},{provide:Hd,useValue:this.componentFactoryResolver}],d(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=Oa.THROW_IF_NOT_FOUND,n=R.Default){return e===Oa||e===jf||e===ga?this:this._r3Injector.get(e,t,n)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class em extends Uf{constructor(e){super(),this.moduleType=e,null!==ye(e)&&Jg(e)}create(e){return new Xg(this.moduleType,e)}}function tm(e,t,n){const r=gt()+e,i=it();return i[r]===cs?gu(i,r,n?t.call(n):t()):mu(i,r)}function nm(e,t,n,r){return dm(it(),gt(),e,t,n,r)}function rm(e,t,n,r,i){return fm(it(),gt(),e,t,n,r,i)}function im(e,t,n,r,i,o){return pm(it(),gt(),e,t,n,r,i,o)}function om(e,t,n,r,i,o,s){return gm(it(),gt(),e,t,n,r,i,o,s)}function sm(e,t,n,r,i,o,s,a){const u=gt()+e,c=it(),l=wu(c,u,n,r,i,o);return yu(c,u+4,s)||l?gu(c,u+5,a?t.call(a,n,r,i,o,s):t(n,r,i,o,s)):mu(c,u+5)}function am(e,t,n,r,i,o,s,a,u){const c=gt()+e,l=it(),h=wu(l,c,n,r,i,o);return vu(l,c+4,s,a)||h?gu(l,c+6,u?t.call(u,n,r,i,o,s,a):t(n,r,i,o,s,a)):mu(l,c+6)}function um(e,t,n,r,i,o,s,a,u,c){const l=gt()+e,h=it();let d=wu(h,l,n,r,i,o);return bu(h,l+4,s,a,u)||d?gu(h,l+7,c?t.call(c,n,r,i,o,s,a,u):t(n,r,i,o,s,a,u)):mu(h,l+7)}function cm(e,t,n,r,i,o,s,a,u,c,l){const h=gt()+e,d=it(),f=wu(d,h,n,r,i,o);return wu(d,h+4,s,a,u,c)||f?gu(d,h+8,l?t.call(l,n,r,i,o,s,a,u,c):t(n,r,i,o,s,a,u,c)):mu(d,h+8)}function lm(e,t,n,r){return mm(it(),gt(),e,t,n,r)}function hm(e,t){const n=e[t];return n===cs?void 0:n}function dm(e,t,n,r,i,o){const s=t+n;return yu(e,s,i)?gu(e,s+1,o?r.call(o,i):r(i)):hm(e,s+1)}function fm(e,t,n,r,i,o,s){const a=t+n;return vu(e,a,i,o)?gu(e,a+2,s?r.call(s,i,o):r(i,o)):hm(e,a+2)}function pm(e,t,n,r,i,o,s,a){const u=t+n;return bu(e,u,i,o,s)?gu(e,u+3,a?r.call(a,i,o,s):r(i,o,s)):hm(e,u+3)}function gm(e,t,n,r,i,o,s,a,u){const c=t+n;return wu(e,c,i,o,s,a)?gu(e,c+4,u?r.call(u,i,o,s,a):r(i,o,s,a)):hm(e,c+4)}function mm(e,t,n,r,i,o){let s=t+n,a=!1;for(let u=0;u<i.length;u++)yu(e,s++,i[u])&&(a=!0);return a?gu(e,s,r.apply(o,i)):hm(e,s)}function ym(e,t){const n=ot();let r;const i=e+ve;n.firstCreatePass?(r=function(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}throw new v("302",`The pipe '${e}' could not be found!`)}(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=De(r.type)),s=M(bc);try{const e=on(!1),t=o();return on(e),Bu(n,it(),i,t),t}finally{M(s)}}function vm(e,t,n){const r=e+ve,i=it(),o=Ke(i,r);return Im(i,Em(i,r)?dm(i,gt(),t,o.transform,n,o):o.transform(n))}function bm(e,t,n,r){const i=e+ve,o=it(),s=Ke(o,i);return Im(o,Em(o,i)?fm(o,gt(),t,s.transform,n,r,s):s.transform(n,r))}function wm(e,t,n,r,i){const o=e+ve,s=it(),a=Ke(s,o);return Im(s,Em(s,o)?pm(s,gt(),t,a.transform,n,r,i,a):a.transform(n,r,i))}function _m(e,t,n,r,i,o){const s=e+ve,a=it(),u=Ke(a,s);return Im(a,Em(a,s)?gm(a,gt(),t,u.transform,n,r,i,o,u):u.transform(n,r,i,o))}function Cm(e,t,n){const r=e+ve,i=it(),o=Ke(i,r);return Im(i,Em(i,r)?mm(i,gt(),t,o.transform,n,o):o.transform.apply(o,n))}function Em(e,t){return e[1].data[t].pure}function Im(e,t){return du.isWrapped(t)&&(t=du.unwrap(t),e[mt()]=cs),t}function Sm(e){return t=>{setTimeout(e,void 0,t)}}const Dm=class extends r.xQ{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){var r,o,s;let a=e,u=t||(()=>null),c=n;if(e&&"object"==typeof e){const t=e;a=null===(r=t.next)||void 0===r?void 0:r.bind(t),u=null===(o=t.error)||void 0===o?void 0:o.bind(t),c=null===(s=t.complete)||void 0===s?void 0:s.bind(t)}this.__isAsync&&(u=Sm(u),a&&(a=Sm(a)),c&&(c=Sm(c)));const l=super.subscribe({next:a,error:u,complete:c});return e instanceof i.w&&e.add(l),l}};function Tm(){return this._results[lu()]()}class Am{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=lu(),n=Am.prototype;n[t]||(n[t]=Tm)}get changes(){return this._changes||(this._changes=new Dm)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const n=this;n.dirty=!1;const r=Kn(e);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(n._results,r,t))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class xm{constructor(e){this.queryList=e,this.matches=null}clone(){return new xm(this.queryList)}setDirty(){this.queryList.setDirty()}}class km{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const n=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let e=0;e<n;e++){const n=t.getByIndex(e);r.push(this.queries[n.indexInDeclarationView].clone())}return new km(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==Gm(e,t).matches&&this.queries[t].setDirty()}}class Nm{constructor(e,t,n=null){this.predicate=e,this.flags=t,this.read=n}}class Om{constructor(e=[]){this.queries=e}elementStart(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let n=0;n<this.length;n++){const r=null!==t?t.length:0,i=this.getByIndex(n).embeddedTView(e,r);i&&(i.indexInDeclarationView=n,null!==t?t.push(i):t=[i])}return null!==t?new Om(t):null}template(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Rm{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Rm(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let n=e.parent;for(;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(e,t,Fm(t,i)),this.matchTNodeWithReadOption(e,t,bn(t,e,i,!1,!1))}else n===Ff?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,bn(t,e,n,!1,!1))}matchTNodeWithReadOption(e,t,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Jd||r===Hf||r===Ff&&4&t.type)this.addMatch(t.index,-2);else{const n=bn(t,e,r,!1,!1);null!==n&&this.addMatch(t.index,n)}else this.addMatch(t.index,n)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Fm(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function Pm(e,t,n,r){return-1===n?function(e,t){return 11&e.type?Qd(e,t):4&e.type?Vf(e,t):null}(t,e):-2===n?function(e,t,n){return n===Jd?Qd(t,e):n===Ff?Vf(t,e):n===Hf?Wf(t,e):void 0}(e,t,r):wn(e,e[1],n,t)}function Mm(e,t,n,r){const i=t[19].queries[r];if(null===i.matches){const r=e.data,o=n.matches,s=[];for(let e=0;e<o.length;e+=2){const i=o[e];s.push(i<0?null:Pm(t,r[i],o[e+1],n.metadata.read))}i.matches=s}return i.matches}function Lm(e,t,n,r){const i=e.queries.getByIndex(n),o=i.matches;if(null!==o){const s=Mm(e,t,i,n);for(let e=0;e<o.length;e+=2){const n=o[e];if(n>0)r.push(s[e/2]);else{const i=o[e+1],s=t[-n];for(let e=be;e<s.length;e++){const t=s[e];t[17]===t[3]&&Lm(t[1],t,i,r)}if(null!==s[9]){const e=s[9];for(let t=0;t<e.length;t++){const n=e[t];Lm(n[1],n,i,r)}}}}}return r}function Vm(e){const t=it(),n=ot(),r=It();St(r+1);const i=Gm(n,r);if(e.dirty&&We(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const o=i.crossesNgTemplate?Lm(n,t,r,[]):Mm(n,t,i,r);e.reset(o,Yd),e.notifyOnChanges()}return!0}return!1}function jm(e,t,n){const r=ot();r.firstCreatePass&&(Hm(r,new Nm(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),qm(r,it(),t)}function Um(e,t,n,r){const i=ot();if(i.firstCreatePass){const o=at();Hm(i,new Nm(t,n,r),o.index),function(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(i,e),2==(2&n)&&(i.staticContentQueries=!0)}qm(i,it(),n)}function Bm(){return e=it(),t=It(),e[19].queries[t].queryList;var e,t}function qm(e,t,n){const r=new Am(4==(4&n));Fs(e,t,r,r.destroy),null===t[19]&&(t[19]=new km),t[19].queries.push(new xm(r))}function Hm(e,t,n){null===e.queries&&(e.queries=new Om),e.queries.track(new Rm(t,n))}function Gm(e,t){return e.queries.getByIndex(t)}function zm(e,t){return Vf(e,t)}const $m=(()=>({"\u0275\u0275attribute":_u,"\u0275\u0275attributeInterpolate1":Nu,"\u0275\u0275attributeInterpolate2":Ou,"\u0275\u0275attributeInterpolate3":Ru,"\u0275\u0275attributeInterpolate4":Fu,"\u0275\u0275attributeInterpolate5":Pu,"\u0275\u0275attributeInterpolate6":Mu,"\u0275\u0275attributeInterpolate7":Lu,"\u0275\u0275attributeInterpolate8":Vu,"\u0275\u0275attributeInterpolateV":ju,"\u0275\u0275defineComponent":ie,"\u0275\u0275defineDirective":de,"\u0275\u0275defineInjectable":E,"\u0275\u0275defineInjector":S,"\u0275\u0275defineNgModule":ce,"\u0275\u0275definePipe":fe,"\u0275\u0275directiveInject":bc,"\u0275\u0275getInheritedFactory":In,"\u0275\u0275inject":gr,"\u0275\u0275injectAttribute":Dn,"\u0275\u0275invalidFactory":wc,"\u0275\u0275invalidFactoryDep":mr,"\u0275\u0275templateRefExtractor":zm,"\u0275\u0275NgOnChangesFeature":Ae,"\u0275\u0275ProvidersFeature":Ld,"\u0275\u0275CopyDefinitionFeature":uu,"\u0275\u0275InheritDefinitionFeature":tu,"\u0275\u0275nextContext":Vc,"\u0275\u0275namespaceHTML":Ut,"\u0275\u0275namespaceMathML":jt,"\u0275\u0275namespaceSVG":Vt,"\u0275\u0275enableBindings":nt,"\u0275\u0275disableBindings":rt,"\u0275\u0275elementStart":Ec,"\u0275\u0275elementEnd":Ic,"\u0275\u0275element":Sc,"\u0275\u0275elementContainerStart":Dc,"\u0275\u0275elementContainerEnd":Tc,"\u0275\u0275elementContainer":Ac,"\u0275\u0275pureFunction0":tm,"\u0275\u0275pureFunction1":nm,"\u0275\u0275pureFunction2":rm,"\u0275\u0275pureFunction3":im,"\u0275\u0275pureFunction4":om,"\u0275\u0275pureFunction5":sm,"\u0275\u0275pureFunction6":am,"\u0275\u0275pureFunction7":um,"\u0275\u0275pureFunction8":cm,"\u0275\u0275pureFunctionV":lm,"\u0275\u0275getCurrentView":xc,"\u0275\u0275restoreView":st,"\u0275\u0275listener":Rc,"\u0275\u0275projection":Bc,"\u0275\u0275syntheticHostProperty":hh,"\u0275\u0275syntheticHostListener":Fc,"\u0275\u0275pipeBind1":vm,"\u0275\u0275pipeBind2":bm,"\u0275\u0275pipeBind3":wm,"\u0275\u0275pipeBind4":_m,"\u0275\u0275pipeBindV":Cm,"\u0275\u0275projectionDef":Uc,"\u0275\u0275hostProperty":lh,"\u0275\u0275property":_c,"\u0275\u0275propertyInterpolate":qc,"\u0275\u0275propertyInterpolate1":Hc,"\u0275\u0275propertyInterpolate2":Gc,"\u0275\u0275propertyInterpolate3":zc,"\u0275\u0275propertyInterpolate4":$c,"\u0275\u0275propertyInterpolate5":Kc,"\u0275\u0275propertyInterpolate6":Qc,"\u0275\u0275propertyInterpolate7":Wc,"\u0275\u0275propertyInterpolate8":Zc,"\u0275\u0275propertyInterpolateV":Jc,"\u0275\u0275pipe":ym,"\u0275\u0275queryRefresh":Vm,"\u0275\u0275viewQuery":jm,"\u0275\u0275loadQuery":Bm,"\u0275\u0275contentQuery":Um,"\u0275\u0275reference":qu,"\u0275\u0275classMap":fl,"\u0275\u0275classMapInterpolate1":Ll,"\u0275\u0275classMapInterpolate2":Vl,"\u0275\u0275classMapInterpolate3":jl,"\u0275\u0275classMapInterpolate4":Ul,"\u0275\u0275classMapInterpolate5":Bl,"\u0275\u0275classMapInterpolate6":ql,"\u0275\u0275classMapInterpolate7":Hl,"\u0275\u0275classMapInterpolate8":Gl,"\u0275\u0275classMapInterpolateV":zl,"\u0275\u0275styleMap":hl,"\u0275\u0275styleMapInterpolate1":$l,"\u0275\u0275styleMapInterpolate2":Kl,"\u0275\u0275styleMapInterpolate3":Ql,"\u0275\u0275styleMapInterpolate4":Wl,"\u0275\u0275styleMapInterpolate5":Zl,"\u0275\u0275styleMapInterpolate6":Jl,"\u0275\u0275styleMapInterpolate7":Yl,"\u0275\u0275styleMapInterpolate8":Xl,"\u0275\u0275styleMapInterpolateV":eh,"\u0275\u0275styleProp":cl,"\u0275\u0275stylePropInterpolate1":th,"\u0275\u0275stylePropInterpolate2":nh,"\u0275\u0275stylePropInterpolate3":rh,"\u0275\u0275stylePropInterpolate4":ih,"\u0275\u0275stylePropInterpolate5":oh,"\u0275\u0275stylePropInterpolate6":sh,"\u0275\u0275stylePropInterpolate7":ah,"\u0275\u0275stylePropInterpolate8":uh,"\u0275\u0275stylePropInterpolateV":ch,"\u0275\u0275classProp":ll,"\u0275\u0275advance":ls,"\u0275\u0275template":Uu,"\u0275\u0275text":Dl,"\u0275\u0275textInterpolate":Tl,"\u0275\u0275textInterpolate1":Al,"\u0275\u0275textInterpolate2":xl,"\u0275\u0275textInterpolate3":kl,"\u0275\u0275textInterpolate4":Nl,"\u0275\u0275textInterpolate5":Ol,"\u0275\u0275textInterpolate6":Rl,"\u0275\u0275textInterpolate7":Fl,"\u0275\u0275textInterpolate8":Pl,"\u0275\u0275textInterpolateV":Ml,"\u0275\u0275i18n":Sd,"\u0275\u0275i18nAttributes":Dd,"\u0275\u0275i18nExp":Td,"\u0275\u0275i18nStart":Ed,"\u0275\u0275i18nEnd":Id,"\u0275\u0275i18nApply":Ad,"\u0275\u0275i18nPostprocess":xd,"\u0275\u0275resolveWindow":uo,"\u0275\u0275resolveDocument":co,"\u0275\u0275resolveBody":lo,"\u0275\u0275setComponentScope":oe,"\u0275\u0275setNgModuleScope":le,"\u0275\u0275sanitizeHtml":ki,"\u0275\u0275sanitizeStyle":Ni,"\u0275\u0275sanitizeResourceUrl":Ri,"\u0275\u0275sanitizeScript":Fi,"\u0275\u0275sanitizeUrl":Oi,"\u0275\u0275sanitizeUrlOrResourceUrl":Vi,"\u0275\u0275trustConstantHtml":Pi,"\u0275\u0275trustConstantResourceUrl":Mi,forwardRef:g,resolveForwardRef:m}))();let Km=null;function Qm(){Km=null}const Wm=[];let Zm=!1;function Jm(){if(!Zm){Zm=!0;try{for(let e=Wm.length-1;e>=0;e--){const{moduleType:t,ngModule:n}=Wm[e];n.declarations&&n.declarations.every(Ym)&&(Wm.splice(e,1),iy(t,n))}}finally{Zm=!1}}}function Ym(e){return Array.isArray(e)?e.every(Ym):!!m(e)}function Xm(e,t={}){ey(e,t),function(e,t){Wm.push({moduleType:e,ngModule:t})}(e,t)}function ey(e,t,n=!1){const r=Kn(t.declarations||W);let i=null;Object.defineProperty(e,X,{configurable:!0,get:()=>{if(null===i){const n=Gn();i=n.compileNgModule($m,`ng:///${e.name}/\u0275mod.js`,{type:e,bootstrap:Kn(t.bootstrap||W).map(m),declarations:r.map(m),imports:Kn(t.imports||W).map(m).map(ay),exports:Kn(t.exports||W).map(m).map(ay),schemas:t.schemas?Kn(t.schemas):null,id:t.id||null}),i.schemas||(i.schemas=[])}return i}});let o=null;Object.defineProperty(e,te,{get:()=>{if(null===o){const t=Gn();o=t.compileFactory($m,`ng:///${e.name}/\u0275fac.js`,{name:e.name,type:e,deps:Ar(e),target:t.FactoryTarget.NgModule,typeArgumentCount:0})}return o},configurable:!1});let s=null;Object.defineProperty(e,k,{get:()=>{if(null===s){const n={name:e.name,type:e,providers:t.providers||W,imports:[(t.imports||W).map(m),(t.exports||W).map(m)]},r=Gn();s=r.compileInjector($m,`ng:///${e.name}/\u0275inj.js`,n)}return s},configurable:!1})}let ty=new WeakMap,ny=new WeakMap;function ry(){ty=new WeakMap,ny=new WeakMap,Wm.length=0}function iy(e,t){const n=Kn(t.declarations||W),r=sy(e);n.forEach(t=>{t.hasOwnProperty(Z)?oy(pe(t),r):t.hasOwnProperty(J)||t.hasOwnProperty(Y)||(t.ngSelectorScope=e)})}function oy(e,t){e.directiveDefs=()=>Array.from(t.compilation.directives).map(e=>e.hasOwnProperty(Z)?pe(e):ge(e)).filter(e=>!!e),e.pipeDefs=()=>Array.from(t.compilation.pipes).map(e=>me(e)),e.schemas=t.schemas,e.tView=null}function sy(e){if(!uy(e))throw new Error(`${e.name} does not have a module def (\u0275mod property)`);const t=ye(e);if(null!==t.transitiveCompileScopes)return t.transitiveCompileScopes;const n={schemas:t.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return ho(t.imports).forEach(e=>{const t=e;if(!uy(t))throw new Error(`Importing ${t.name} which does not have a \u0275mod property`);const r=sy(t);r.exported.directives.forEach(e=>n.compilation.directives.add(e)),r.exported.pipes.forEach(e=>n.compilation.pipes.add(e))}),ho(t.declarations).forEach(e=>{me(e)?n.compilation.pipes.add(e):n.compilation.directives.add(e)}),ho(t.exports).forEach(e=>{const t=e;if(uy(t)){const e=sy(t);e.exported.directives.forEach(e=>{n.compilation.directives.add(e),n.exported.directives.add(e)}),e.exported.pipes.forEach(e=>{n.compilation.pipes.add(e),n.exported.pipes.add(e)})}else me(t)?n.exported.pipes.add(t):n.exported.directives.add(t)}),t.transitiveCompileScopes=n,n}function ay(e){return function(e){return void 0!==e.ngModule}(e)?e.ngModule:e}function uy(e){return!!ye(e)}let cy=0;function ly(e,t){let n=null;!function(e,t){Rr(t)&&(Nr.set(e,t),Or.add(e))}(e,t),fy(e,t),Object.defineProperty(e,Z,{get:()=>{if(null===n){const r=Gn();if(Rr(t)){const n=[`Component '${e.name}' is not resolved:`];throw t.templateUrl&&n.push(` - templateUrl: ${t.templateUrl}`),t.styleUrls&&t.styleUrls.length&&n.push(` - styleUrls: ${JSON.stringify(t.styleUrls)}`),n.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(n.join("\n"))}const i=Km;let o=t.preserveWhitespaces;void 0===o&&(o=null!==i&&void 0!==i.preserveWhitespaces&&i.preserveWhitespaces);let s=t.encapsulation;void 0===s&&(s=null!==i&&void 0!==i.defaultEncapsulation?i.defaultEncapsulation:q.Emulated);const a=t.templateUrl||`ng:///${e.name}/template.html`,u=Object.assign(Object.assign({},gy(e,t)),{typeSourceSpan:r.createParseSourceSpan("Component",e.name,a),template:t.template||"",preserveWhitespaces:o,styles:t.styles||W,animations:t.animations,directives:[],changeDetection:t.changeDetection,pipes:new Map,encapsulation:s,interpolation:t.interpolation,viewProviders:t.viewProviders||null});cy++;try{u.usesInheritance&&my(e),n=r.compileComponent($m,a,u)}finally{cy--}if(0===cy&&Jm(),void 0!==e.ngSelectorScope){const t=sy(e.ngSelectorScope);oy(n,t)}}return n},configurable:!1})}function hy(e,t){let n=null;fy(e,t||{}),Object.defineProperty(e,J,{get:()=>{if(null===n){const r=dy(e,t||{}),i=Gn();n=i.compileDirective($m,r.sourceMapUrl,r.metadata)}return n},configurable:!1})}function dy(e,t){const n=e&&e.name,r=`ng:///${n}/\u0275dir.js`,i=Gn(),o=gy(e,t);return o.typeSourceSpan=i.createParseSourceSpan("Directive",n,r),o.usesInheritance&&my(e),{metadata:o,sourceMapUrl:r}}function fy(e,t){let n=null;Object.defineProperty(e,te,{get:()=>{if(null===n){const r=dy(e,t),i=Gn();n=i.compileFactory($m,`ng:///${e.name}/\u0275fac.js`,{name:r.metadata.name,type:r.metadata.type,typeArgumentCount:0,deps:Ar(e),target:i.FactoryTarget.Directive})}return n},configurable:!1})}function py(e){return Object.getPrototypeOf(e.prototype)===Object.prototype}function gy(e,t){const n=Tr(),r=n.ownPropMetadata(e);return{name:e.name,type:e,selector:void 0!==t.selector?t.selector:null,host:t.host||Q,propMetadata:r,inputs:t.inputs||W,outputs:t.outputs||W,queries:vy(e,r,by),lifecycle:{usesOnChanges:n.hasLifecycleHook(e,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!py(e),exportAs:(i=t.exportAs,void 0===i?null:Cy(i)),providers:t.providers||null,viewQueries:vy(e,r,wy)};var i}function my(e){const t=Object.prototype;let n=Object.getPrototypeOf(e.prototype).constructor;for(;n&&n!==t;)ge(n)||pe(n)||!Iy(n)||hy(n,null),n=Object.getPrototypeOf(n)}function yy(e,t){return{propertyName:e,predicate:(n=t.selector,"string"==typeof n?Cy(n):m(n)),descendants:t.descendants,first:t.first,read:t.read?t.read:null,static:!!t.static,emitDistinctChangesOnly:!!t.emitDistinctChangesOnly};var n}function vy(e,t,n){const r=[];for(const i in t)if(t.hasOwnProperty(i)){const o=t[i];o.forEach(t=>{if(n(t)){if(!t.selector)throw new Error(`Can't construct a query for the property "${i}" of "${w(e)}" since the query selector wasn't defined.`);if(o.some(_y))throw new Error("Cannot combine @Input decorators with query decorators");r.push(yy(i,t))}})}return r}function by(e){const t=e.ngMetadataName;return"ContentChild"===t||"ContentChildren"===t}function wy(e){const t=e.ngMetadataName;return"ViewChild"===t||"ViewChildren"===t}function _y(e){return"Input"===e.ngMetadataName}function Cy(e){return e.split(",").map(e=>e.trim())}const Ey=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function Iy(e){const t=Tr();if(Ey.some(n=>t.hasLifecycleHook(e,n)))return!0;const n=t.propMetadata(e);for(const r in n){const e=n[r];for(let t=0;t<e.length;t++){const n=e[t],r=n.ngMetadataName;if(_y(n)||by(n)||wy(n)||"Output"===r||"HostBinding"===r||"HostListener"===r)return!0}}return!1}function Sy(e,t){let n=null,r=null;Object.defineProperty(e,te,{get:()=>{if(null===r){const n=Dy(e,t),i=Gn();r=i.compileFactory($m,`ng:///${n.name}/\u0275fac.js`,{name:n.name,type:n.type,typeArgumentCount:0,deps:Ar(e),target:i.FactoryTarget.Pipe})}return r},configurable:!1}),Object.defineProperty(e,Y,{get:()=>{if(null===n){const r=Dy(e,t),i=Gn();n=i.compilePipe($m,`ng:///${r.name}/\u0275pipe.js`,r)}return n},configurable:!1})}function Dy(e,t){return{type:e,name:e.name,pipeName:t.name,pure:void 0===t.pure||t.pure}}const Ty=kn("Directive",(e={})=>e,void 0,void 0,(e,t)=>Vy(e,t)),Ay=kn("Component",(e={})=>Object.assign({changeDetection:j.Default},e),Ty,void 0,(e,t)=>Ly(e,t)),xy=kn("Pipe",e=>Object.assign({pure:!0},e),void 0,void 0,(e,t)=>jy(e,t)),ky=Rn("Input",e=>({bindingPropertyName:e})),Ny=Rn("Output",e=>({bindingPropertyName:e})),Oy=Rn("HostBinding",e=>({hostPropertyName:e})),Ry=Rn("HostListener",(e,t)=>({eventName:e,args:t})),Fy=ly,Py=hy,My=Sy,Ly=Fy,Vy=Py,jy=My,Uy=kn("NgModule",e=>e,void 0,void 0,(e,t)=>qy(e,t)),By=Xm,qy=By,Hy=new Mn("Application Initializer");let Gy=(()=>{class e{constructor(e){this.appInits=e,this.resolve=$d,this.reject=$d,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();if(kc(t))e.push(t);else if(Oc(t)){const n=new Promise((e,n)=>{t.subscribe({complete:e,error:n})});e.push(n)}}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(gr(Hy,8))},e.\u0275prov=E({token:e,factory:e.\u0275fac}),e})();const zy=new Mn("AppId");function $y(){return`${Qy()}${Qy()}${Qy()}`}const Ky={provide:zy,useFactory:$y,deps:[]};function Qy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Wy=new Mn("Platform Initializer"),Zy=new Mn("Platform ID"),Jy=new Mn("appBootstrapListener"),Yy=new Mn("Application Packages Root URL");let Xy=(()=>{class e{log(e){console.log(e)}warn(e){console.warn(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac}),e})();const ev=new Mn("LocaleId"),tv=new Mn("DefaultCurrencyCode"),nv=new Mn("Translations"),rv=new Mn("TranslationsFormat");var iv=(()=>((iv=iv||{})[iv.Error=0]="Error",iv[iv.Warning=1]="Warning",iv[iv.Ignore=2]="Ignore",iv))();const ov=!0,sv=ov;class av{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const uv=function(e){return new em(e)},cv=uv,lv=function(e){return Promise.resolve(uv(e))},hv=lv,dv=function(e){const t=uv(e),n=ho(ye(e).declarations).reduce((e,t)=>{const n=pe(t);return n&&e.push(new zg(n)),e},[]);return new av(t,n)},fv=dv,pv=function(e){return Promise.resolve(dv(e))},gv=pv;let mv=(()=>{class e{constructor(){this.compileModuleSync=cv,this.compileModuleAsync=hv,this.compileModuleAndAllComponentsSync=fv,this.compileModuleAndAllComponentsAsync=gv}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac}),e})();const yv=new Mn("compilerOptions");class vv{}const bv=(()=>Promise.resolve(0))();function wv(e){"undefined"==typeof Zone?bv.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class _v{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Dm(!1),this.onMicrotaskEmpty=new Dm(!1),this.onStable=new Dm(!1),this.onError=new Dm(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&t,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let e=K.requestAnimationFrame,t=K.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(K,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Iv(e),e.isCheckStableRunning=!0,Ev(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Iv(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return Sv(e),n.invokeTask(i,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&t(),Dv(e)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return Sv(e),n.invoke(i,o,s,a,u)}finally{e.shouldCoalesceRunChangeDetection&&t(),Dv(e)}},onHasTask:(t,n,r,i)=>{t.hasTask(r,i),n===r&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,Iv(e),Ev(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,n,r,i)=>(t.handleError(r,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_v.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(_v.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,e,Cv,$d,$d);try{return i.runTask(o,t,n)}finally{i.cancelTask(o)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}const Cv={};function Ev(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Iv(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Sv(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Dv(e){e._nesting--,Ev(e)}class Tv{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Dm,this.onMicrotaskEmpty=new Dm,this.onStable=new Dm,this.onError=new Dm}run(e,t,n){return e.apply(t,n)}runGuarded(e,t,n){return e.apply(t,n)}runOutsideAngular(e){return e()}runTask(e,t,n,r){return e.apply(t,n)}}let Av=(()=>{class e{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_v.assertNotInAngularZone(),wv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())wv(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let r=-1;t&&t>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==r),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}return e.\u0275fac=function(t){return new(t||e)(gr(_v))},e.\u0275prov=E({token:e,factory:e.\u0275fac}),e})(),xv=(()=>{class e{constructor(){this._applications=new Map,Rv.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return Rv.findTestabilityInTree(this,e,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac}),e})();class kv{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}function Nv(e){Rv=e}let Ov,Rv=new kv,Fv=!0,Pv=!1;function Mv(){return Pv=!0,Fv}function Lv(){if(Pv)throw new Error("Cannot enable prod mode after platform setup.");Fv=!1}let Vv=jv;function jv(e,t,n){const r=new em(n);return Promise.resolve(r)}let Uv=Bv;function Bv(e){return e.isBoundToModule}const qv=new Mn("AllowMultipleToken");class Hv{constructor(e,t){this.name=e,this.token=t}}function Gv(e){if(Ov&&!Ov.destroyed&&!Ov.injector.get(qv,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ov=e.get(Wv);const t=e.get(Wy,null);return t&&t.forEach(e=>e()),Ov}function zv(e,t,n=[]){const r=`Platform: ${t}`,i=new Mn(r);return(t=[])=>{let o=Qv();if(!o||o.injector.get(qv,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{const e=n.concat(t).concat({provide:i,useValue:!0},{provide:ya,useValue:"platform"});Gv(Oa.create({providers:e,name:r}))}return $v(i)}}function $v(e){const t=Qv();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}function Kv(){Ov&&!Ov.destroyed&&Ov.destroy()}function Qv(){return Ov&&!Ov.destroyed?Ov:null}let Wv=(()=>{class e{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n=function(e,t){let n;return n="noop"===e?new Tv:("zone.js"===e?void 0:e)||new _v({enableLongStackTrace:Mv(),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(t?t.ngZone:void 0,{ngZoneEventCoalescing:t&&t.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:t&&t.ngZoneRunCoalescing||!1}),r=[{provide:_v,useValue:n}];return n.run(()=>{const t=Oa.create({providers:r,parent:this.injector,name:e.moduleType.name}),i=e.create(t),o=i.injector.get(Xi,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const e=n.onError.subscribe({next:e=>{o.handleError(e)}});i.onDestroy(()=>{Yv(this._modules,i),e.unsubscribe()})}),function(e,t,n){try{const r=n();return kc(r)?r.catch(n=>{throw t.runOutsideAngular(()=>e.handleError(n)),n}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(o,n,()=>{const e=i.injector.get(Gy);return e.runInitializers(),e.donePromise.then(()=>(sv&&xh(i.injector.get(ev,Eh)||Eh),this._moduleDoBootstrap(i),i))})})}bootstrapModule(e,t=[]){const n=Zv({},t);return Vv(this.injector,n,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(Jv);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${d(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(gr(Oa))},e.\u0275prov=E({token:e,factory:e.\u0275fac}),e})();function Zv(e,t){return Array.isArray(t)?t.reduce(Zv,e):Object.assign(Object.assign({},e),t)}let Jv=(()=>{class e{constructor(e,t,n,r,i){this._zone=e,this._injector=t,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new o.y(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),h=new o.y(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{_v.assertNotInAngularZone(),wv(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{_v.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=(0,s.T)(l,h.pipe(e=>{return(0,u.x)()((t=c,function(e){let n;n="function"==typeof t?t:function(){return t};const r=Object.create(e,a.N);return r.source=e,r.subjectFactory=n,r})(e));var t}))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof jd?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const r=Uv(n)?void 0:this._injector.get(jf),i=n.create(Oa.NULL,[],t||n.selector,r),o=i.location.nativeElement,s=i.injector.get(Av,null),a=s&&i.injector.get(xv);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),Yv(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;Yv(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Jy,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(t){return new(t||e)(gr(_v),gr(Oa),gr(Xi),gr(Hd),gr(Gy))},e.\u0275prov=E({token:e,factory:e.\u0275fac}),e})();function Yv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Xv{}function eb(e){const t=Yg(e);if(!t)throw rb(e);return t}function tb(e){const t=Yg(e);if(!t)throw rb(e);return new em(t)}const nb=tb;function rb(e){return new Error(`No module with ID ${e} loaded`)}class ib{}const ob={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let sb=(()=>{class e{constructor(e,t){this._compiler=e,this._config=t||ob}load(e){return!sv&&this._compiler instanceof mv?this.loadFactory(e):this.loadAndCompile(e)}loadAndCompile(e){let[t,r]=e.split("#");return void 0===r&&(r="default"),n(8255)(t).then(e=>e[r]).then(e=>ab(e,t,r)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,r]=e.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n(8255)(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[r+i]).then(e=>ab(e,t,r))}}return e.\u0275fac=function(t){return new(t||e)(gr(mv),gr(ib,8))},e.\u0275prov=E({token:e,factory:e.\u0275fac}),e})();function ab(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}class ub extends Tf{}class cb extends ub{}class lb{constructor(e,t){this.name=e,this.callback=t}}class hb{constructor(e,t,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=e,t&&t instanceof db&&t.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class db extends hb{constructor(e,t,n){super(e,t,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=e}addChild(e){e&&(this.childNodes.push(e),e.parent=this)}removeChild(e){const t=this.childNodes.indexOf(e);-1!==t&&(e.parent=null,this.childNodes.splice(t,1))}insertChildrenAfter(e,t){const n=this.childNodes.indexOf(e);-1!==n&&(this.childNodes.splice(n+1,0,...t),t.forEach(t=>{t.parent&&t.parent.removeChild(t),e.parent=this}))}insertBefore(e,t){const n=this.childNodes.indexOf(e);-1===n?this.addChild(t):(t.parent&&t.parent.removeChild(t),t.parent=this,this.childNodes.splice(n,0,t))}query(e){return this.queryAll(e)[0]||null}queryAll(e){const t=[];return pb(this,e,t),t}queryAllNodes(e){const t=[];return gb(this,e,t),t}get children(){return this.childNodes.filter(e=>e instanceof db)}triggerEventHandler(e,t){this.listeners.forEach(n=>{n.name==e&&n.callback(t)})}}function fb(e){return e.map(e=>e.nativeElement)}function pb(e,t,n){e.childNodes.forEach(e=>{e instanceof db&&(t(e)&&n.push(e),pb(e,t,n))})}function gb(e,t,n){e instanceof db&&e.childNodes.forEach(e=>{t(e)&&n.push(e),e instanceof db&&gb(e,t,n)})}class mb{constructor(e){this.nativeNode=e}get parent(){const e=this.nativeNode.parentNode;return e?new yb(e):null}get injector(){return La(this.nativeNode)}get componentInstance(){const e=this.nativeNode;return e&&(Ra(e)||Pa(e))}get context(){return Ra(this.nativeNode)||Fa(this.nativeNode)}get listeners(){return Ba(this.nativeNode).filter(e=>"dom"===e.type)}get references(){return function(e){const t=Ui(e);return null===t?{}:(void 0===t.localRefs&&(t.localRefs=function(e,t){const n=e[1].data[t];if(n&&n.localNames){const t={};let r=n.index+1;for(let i=0;i<n.localNames.length;i+=2)t[n.localNames[i]]=e[r],r++;return t}return null}(t.lView,t.nodeIndex)),t.localRefs||{})}(this.nativeNode)}get providerTokens(){return function(e){const t=Ui(e);if(null===t)return[];const n=t.lView[1],r=n.data[t.nodeIndex],i=[],o=r.directiveEnd;for(let a=1048575&r.providerIndexes;a<o;a++){let e=n.data[a];void 0!==(s=e).type&&void 0!==s.template&&void 0!==s.declaredInputs&&(e=e.type),i.push(e)}var s;return i}(this.nativeNode)}}class yb extends mb{constructor(e){super(e)}get nativeElement(){return this.nativeNode.nodeType==Node.ELEMENT_NODE?this.nativeNode:null}get name(){const e=Ui(this.nativeNode);return null!==e?e.lView[1].data[e.nodeIndex].value:this.nativeNode.nodeName}get properties(){const e=Ui(this.nativeNode);if(null===e)return{};const t=e.lView,n=t[1].data,r=n[e.nodeIndex],i={};return function(e,t){if(e){let n=Object.getPrototypeOf(e);const r=Node.prototype;for(;null!==n&&n!==r;){const r=Object.getOwnPropertyDescriptors(n);for(let n in r)if(!n.startsWith("__")&&!n.startsWith("on")){const r=e[n];vb(r)&&(t[n]=r)}n=Object.getPrototypeOf(n)}}}(this.nativeElement,i),function(e,t,n,r){let i=t.propertyBindings;if(null!==i)for(let o=0;o<i.length;o++){const t=i[o],s=r[t].split("\ufffd"),a=s[0];if(s.length>1){let r=s[1];for(let e=1;e<s.length-1;e++)r+=b(n[t+e-1])+s[e+1];e[a]=r}else e[a]=n[t]}}(i,r,t,n),i}get attributes(){const e={},t=this.nativeElement;if(!t)return e;const n=Ui(t);if(null===n)return{};const r=n.lView[1].data[n.nodeIndex].attrs,i=[];if(r){let t=0;for(;t<r.length;){const n=r[t];if("string"!=typeof n)break;e[n]=r[t+1],i.push(n.toLowerCase()),t+=2}}const o=t.attributes;for(let s=0;s<o.length;s++){const t=o[s],n=t.name.toLowerCase();-1===i.indexOf(n)&&(e[n]=t.value)}return e}get styles(){return this.nativeElement&&this.nativeElement.style?this.nativeElement.style:{}}get classes(){const e={},t=this.nativeElement.className;return(t&&"string"!=typeof t?t.baseVal.split(" "):t.split(" ")).forEach(t=>e[t]=!0),e}get childNodes(){const e=this.nativeNode.childNodes,t=[];for(let n=0;n<e.length;n++)t.push(Sb(e[n]));return t}get children(){const e=this.nativeElement;if(!e)return[];const t=e.children,n=[];for(let r=0;r<t.length;r++)n.push(Sb(t[r]));return n}query(e){return this.queryAll(e)[0]||null}queryAll(e){const t=[];return bb(this,e,t,!0),t}queryAllNodes(e){const t=[];return bb(this,e,t,!1),t}triggerEventHandler(e,t){const n=this.nativeNode,r=[];this.listeners.forEach(i=>{if(i.name===e){const e=i.callback;e.call(n,t),r.push(e)}}),"function"==typeof n.eventListeners&&n.eventListeners(e).forEach(e=>{if(-1!==e.toString().indexOf("__ngUnwrap__")){const i=e("__ngUnwrap__");return-1===r.indexOf(i)&&i.call(n,t)}})}}function vb(e){return"string"==typeof e||"boolean"==typeof e||"number"==typeof e||null===e}function bb(e,t,n,r){const i=Ui(e.nativeNode);null!==i?wb(i.lView[1].data[i.nodeIndex],i.lView,t,n,r,e.nativeNode):Eb(e.nativeNode,t,n,r)}function wb(e,t,n,r,i,o){const s=function(e,t){const n=null===e?-1:e.index;return-1!==n?He(t[n]):null}(e,t);if(11&e.type){if(Cb(s,n,r,i,o),Ee(e)){const s=Qe(e.index,t);s&&s[1].firstChild&&wb(s[1].firstChild,s,n,r,i,o)}else e.child&&wb(e.child,t,n,r,i,o),s&&Eb(s,n,r,i);const a=t[e.index];_e(a)&&_b(a,n,r,i,o)}else if(4&e.type){const s=t[e.index];Cb(s[7],n,r,i,o),_b(s,n,r,i,o)}else if(16&e.type){const s=t[16],a=s[6].projection[e.projection];if(Array.isArray(a))for(let e of a)Cb(e,n,r,i,o);else if(a){const e=s[3];wb(e[1].data[a.index],e,n,r,i,o)}}else e.child&&wb(e.child,t,n,r,i,o);if(o!==s){const s=4&e.flags?e.projectionNext:e.next;s&&wb(s,t,n,r,i,o)}}function _b(e,t,n,r,i){for(let o=be;o<e.length;o++){const s=e[o],a=s[1].firstChild;a&&wb(a,s,t,n,r,i)}}function Cb(e,t,n,r,i){if(i!==e){const i=Db(e);if(!i)return;(r&&i instanceof yb&&t(i)&&-1===n.indexOf(i)||!r&&t(i)&&-1===n.indexOf(i))&&n.push(i)}}function Eb(e,t,n,r){const i=e.childNodes,o=i.length;for(let s=0;s<o;s++){const e=i[s],o=Db(e);o&&((r&&o instanceof yb&&t(o)&&-1===n.indexOf(o)||!r&&t(o)&&-1===n.indexOf(o))&&n.push(o),Eb(e,t,n,r))}}const Ib=new Map;function Sb(e){return e instanceof Node?(e.hasOwnProperty("__ng_debug__")||(e.__ng_debug__=e.nodeType==Node.ELEMENT_NODE?new yb(e):new mb(e)),e.__ng_debug__):null}const Db=Sb;function Tb(e){return function(e){return Ib.get(e)||null}(e)}const Ab=function(e){return null};function xb(e){Ib.set(e.nativeNode,e)}const kb=mb,Nb=yb,Ob=zv(null,"core",[{provide:Zy,useValue:"unknown"},{provide:Wv,deps:[Oa]},{provide:xv,deps:[]},{provide:Xy,deps:[]}]);function Rb(){return kf}function Fb(){return Nf}function Pb(e){return e=e||sv&&"undefined"!=typeof $localize&&$localize.locale||Eh,sv&&xh(e),e}const Mb=Ih,Lb=[{provide:Jv,useClass:Jv,deps:[_v,Oa,Xi,Hd,Gy]},{provide:Gg,deps:[_v],useFactory:Vb},{provide:Gy,useClass:Gy,deps:[[new Cr,Hy]]},{provide:mv,useClass:mv,deps:[]},Ky,{provide:bf,useFactory:Rb,deps:[]},{provide:_f,useFactory:Fb,deps:[]},{provide:ev,useFactory:Pb,deps:[[new _r(ev),new Cr,new Ir]]},{provide:tv,useValue:Mb}];function Vb(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}let jb=(()=>{class e{constructor(e){}}return e.\u0275fac=function(t){return new(t||e)(gr(Jv))},e.\u0275mod=ce({type:e}),e.\u0275inj=S({providers:Lb}),e})();function Ub(e,t,n,r,i,o){e|=1;const{matchedQueries:s,references:a,matchedQueryIds:u}=Ap(t);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:e,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:s,matchedQueryIds:u,references:a,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?Op(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||up},provider:null,text:null,query:null,ngContent:null}}function Bb(e,t,n,r,i,o,s=[],a,u,c,l,h){c||(c=up);const{matchedQueries:d,references:f,matchedQueryIds:p}=Ap(n);let g=null,m=null;o&&([g,m]=jp(o)),a=a||[];const y=[];for(let w=0;w<a.length;w++){const[e,t,n]=a[w],[r,i]=jp(t);let o,s;switch(15&e){case 4:s=n;break;case 1:case 8:o=n}y[w]={flags:e,ns:r,name:i,nonMinifiedName:i,securityContext:o,suffix:s}}u=u||[];const v=[];for(let w=0;w<u.length;w++){const[e,t]=u[w];v[w]={type:0,target:e,eventName:t,propName:null}}const b=(s=s||[]).map(([e,t])=>{const[n,r]=jp(e);return[n,r,t]});return h=function(e){if(e&&e.id===dp){const t=null!=e.encapsulation&&e.encapsulation!==q.None||e.styles.length||Object.keys(e.data).length;e.id=t?"c"+gp++:fp}return e&&e.id===fp&&(e=null),e||null}(h),l&&(t|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:p,references:f,ngContentIndex:r,childCount:i,bindings:y,bindingFlags:Up(y),outputs:v,element:{ns:g,name:m,attrs:b,template:null,componentProvider:null,componentView:l||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:c||up},provider:null,text:null,query:null,ngContent:null}}function qb(e,t,n){const r=n.element,i=e.root.selectorOrNode,o=e.renderer;let s;if(e.parent||!i){s=r.name?o.createElement(r.name,r.ns):o.createComment("");const i=kp(e,t,n);i&&o.appendChild(i,s)}else s=o.selectRootElement(i,!!r.componentRendererType&&r.componentRendererType.encapsulation===q.ShadowDom);if(r.attrs)for(let a=0;a<r.attrs.length;a++){const[e,t,n]=r.attrs[a];o.setAttribute(s,t,n,e)}return s}function Hb(e,t,n,r){for(let s=0;s<n.outputs.length;s++){const a=n.outputs[s],u=Gb(e,n.nodeIndex,(o=a.eventName,(i=a.target)?`${i}:${o}`:o));let c=a.target,l=e;"component"===a.target&&(c=null,l=t);const h=l.renderer.listen(c||r,a.eventName,u);e.disposables[n.outputIndex+s]=h}var i,o}function Gb(e,t,n){return r=>_p(e,t,n,r)}function zb(e,t,n,r){if(!yp(e,t,n,r))return!1;const i=t.bindings[n],o=np(e,t.nodeIndex),s=o.renderElement,a=i.name;switch(15&i.flags){case 1:!function(e,t,n,r,i,o){const s=t.securityContext;let a=s?e.root.sanitizer.sanitize(s,o):o;a=null!=a?a.toString():null;const u=e.renderer;null!=o?u.setAttribute(n,i,a,r):u.removeAttribute(n,i,r)}(e,i,s,i.ns,a,r);break;case 2:!function(e,t,n,r){const i=e.renderer;r?i.addClass(t,n):i.removeClass(t,n)}(e,s,a,r);break;case 4:!function(e,t,n,r,i){let o=e.root.sanitizer.sanitize(xi.STYLE,i);if(null!=o){o=o.toString();const e=t.suffix;null!=e&&(o+=e)}else o=null;const s=e.renderer;null!=o?s.setStyle(n,r,o):s.removeStyle(n,r)}(e,i,s,a,r);break;case 8:!function(e,t,n,r,i){const o=t.securityContext;let s=o?e.root.sanitizer.sanitize(o,i):i;e.renderer.setProperty(n,r,s)}(33554432&t.flags&&32&i.flags?o.componentView:e,i,s,a,r)}return!0}function $b(e,t,n){let r=[];for(let i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:t,filterId:Tp(t),bindings:r},ngContent:null}}function Kb(e){const t=e.def.nodeMatchedQueries;for(;e.parent&&Dp(e);){let n=e.parentNodeDef;e=e.parent;const r=n.nodeIndex+n.childCount;for(let i=0;i<=r;i++){const r=e.def.nodes[i];67108864&r.flags&&536870912&r.flags&&(r.query.filterId&t)===r.query.filterId&&op(e,i).setDirty(),!(1&r.flags&&i+r.childCount<n.nodeIndex)&&67108864&r.childFlags&&536870912&r.childFlags||(i+=r.childCount)}}if(134217728&e.def.nodeFlags)for(let n=0;n<e.def.nodes.length;n++){const t=e.def.nodes[n];134217728&t.flags&&536870912&t.flags&&op(e,n).setDirty(),n+=t.childCount}}function Qb(e,t){const n=op(e,t.nodeIndex);if(!n.dirty)return;let r,i;if(67108864&t.flags){const n=t.parent.parent;i=Wb(e,n.nodeIndex,n.nodeIndex+n.childCount,t.query,[]),r=rp(e,t.parent.nodeIndex).instance}else 134217728&t.flags&&(i=Wb(e,0,e.def.nodes.length-1,t.query,[]),r=e.component);n.reset(i,Yd);const o=t.query.bindings;let s=!1;for(let a=0;a<o.length;a++){const e=o[a];let t;switch(e.bindingType){case 0:t=n.first;break;case 1:t=n,s=!0}r[e.propName]=t}s&&n.notifyOnChanges()}function Wb(e,t,n,r,i){for(let o=t;o<=n;o++){const t=e.def.nodes[o],n=t.matchedQueries[r.id];if(null!=n&&i.push(Zb(e,t,n)),1&t.flags&&t.element.template&&(t.element.template.nodeMatchedQueries&r.filterId)===r.filterId){const n=np(e,o);if((t.childMatchedQueries&r.filterId)===r.filterId&&(Wb(e,o+1,o+t.childCount,r,i),o+=t.childCount),16777216&t.flags){const e=n.viewContainer._embeddedViews;for(let t=0;t<e.length;t++){const o=e[t],s=Cp(o);s&&s===n&&Wb(o,0,o.def.nodes.length-1,r,i)}}const s=n.template._projectedViews;if(s)for(let e=0;e<s.length;e++){const t=s[e];Wb(t,0,t.def.nodes.length-1,r,i)}}(t.childMatchedQueries&r.filterId)!==r.filterId&&(o+=t.childCount)}return i}function Zb(e,t,n){if(null!=n)switch(n){case 1:return np(e,t.nodeIndex).renderElement;case 0:return new Jd(np(e,t.nodeIndex).renderElement);case 2:return np(e,t.nodeIndex).template;case 3:return np(e,t.nodeIndex).viewContainer;case 4:return rp(e,t.nodeIndex).instance}}function Jb(e,t){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:t}}}function Yb(e,t,n){const r=kp(e,t,n);r&&Pp(e,n.ngContent.index,1,r,null,void 0)}function Xb(e,t){return nw(128,e,Jn(t+1))}function ew(e,t){return nw(32,e,Jn(t))}function tw(e,t){const n=Object.keys(t),r=n.length,i=[];for(let o=0;o<r;o++)i.push(n[o]);return nw(64,e,i)}function nw(e,t,n){const r=[];for(let i=0;i<n.length;i++){const e=n[i];r.push({flags:8,name:e,ns:null,nonMinifiedName:e,securityContext:null,suffix:null})}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:Up(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function rw(e,t,n){const r=[];for(let i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function iw(e,t,n){let r;const i=e.renderer;r=i.createText(n.text.prefix);const o=kp(e,t,n);return o&&i.appendChild(o,r),{renderText:r}}function ow(e,t){return(null!=e?e.toString():"")+t.suffix}function sw(e,t,n,r){let i=0,o=0,s=0,a=0,u=0,c=null,l=null,h=!1,d=!1,f=null;for(let p=0;p<t.length;p++){const e=t[p];if(e.nodeIndex=p,e.parent=c,e.bindingIndex=i,e.outputIndex=o,e.renderParent=l,s|=e.flags,u|=e.matchedQueryIds,e.element){const t=e.element;t.publicProviders=c?c.element.publicProviders:Object.create(null),t.allProviders=t.publicProviders,h=!1,d=!1,e.element.template&&(u|=e.element.template.nodeMatchedQueries)}if(uw(c,e,t.length),i+=e.bindings.length,o+=e.outputs.length,!l&&3&e.flags&&(f=e),20224&e.flags){h||(h=!0,c.element.publicProviders=Object.create(c.element.publicProviders),c.element.allProviders=c.element.publicProviders);const t=0!=(32768&e.flags);0==(8192&e.flags)||t?c.element.publicProviders[lp(e.provider.token)]=e:(d||(d=!0,c.element.allProviders=Object.create(c.element.publicProviders)),c.element.allProviders[lp(e.provider.token)]=e),t&&(c.element.componentProvider=e)}if(c?(c.childFlags|=e.flags,c.directChildFlags|=e.flags,c.childMatchedQueries|=e.matchedQueryIds,e.element&&e.element.template&&(c.childMatchedQueries|=e.element.template.nodeMatchedQueries)):a|=e.flags,e.childCount>0)c=e,aw(e)||(l=e);else for(;c&&p===c.nodeIndex+c.childCount;){const e=c.parent;e&&(e.childFlags|=c.childFlags,e.childMatchedQueries|=c.childMatchedQueries),c=e,l=c&&aw(c)?c.renderParent:c}}return{factory:null,nodeFlags:s,rootNodeFlags:a,nodeMatchedQueries:u,flags:e,nodes:t,updateDirectives:n||up,updateRenderer:r||up,handleEvent:(e,n,r,i)=>t[n].element.handleEvent(e,r,i),bindingCount:i,outputCount:o,lastRenderRootNode:f}}function aw(e){return 0!=(1&e.flags)&&null===e.element.name}function uw(e,t,n){const r=t.element&&t.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${t.nodeIndex}!`)}if(20224&t.flags&&0==(1&(e?e.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${t.nodeIndex}!`);if(t.query){if(67108864&t.flags&&(!e||0==(16384&e.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${t.nodeIndex}!`);if(134217728&t.flags&&e)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${t.nodeIndex}!`)}if(t.childCount){const r=e?e.nodeIndex+e.childCount:n-1;if(t.nodeIndex<=r&&t.nodeIndex+t.childCount>r)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${t.nodeIndex}!`)}}function cw(e,t,n,r){const i=dw(e.root,e.renderer,e,t,n);return fw(i,e.component,r),pw(i),i}function lw(e,t,n){const r=dw(e,e.renderer,null,null,t);return fw(r,n,n),pw(r),r}function hw(e,t,n,r){const i=t.element.componentRendererType;let o;return o=i?e.root.rendererFactory.createRenderer(r,i):e.root.renderer,dw(e.root,o,e,t.element.componentProvider,n)}function dw(e,t,n,r,i){const o=new Array(i.nodes.length),s=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:e,renderer:t,oldValues:new Array(i.bindingCount),disposables:s,initIndex:-1}}function fw(e,t,n){e.component=t,e.context=n}function pw(e){let t;Sp(e)&&(t=np(e.parent,e.parentNodeDef.parent.nodeIndex).renderElement);const n=e.def,r=e.nodes;for(let i=0;i<n.nodes.length;i++){const o=n.nodes[i];let s;switch(ap.setCurrentNode(e,i),201347067&o.flags){case 1:const n=qb(e,t,o);let a;if(33554432&o.flags){const t=Op(o.element.componentView);a=ap.createComponentView(e,o,t,n)}Hb(e,a,o,n),s={renderElement:n,componentView:a,viewContainer:null,template:o.element.template?hg(e,o):void 0},16777216&o.flags&&(s.viewContainer=ag(e,o,s));break;case 2:s=iw(e,t,o);break;case 512:case 1024:case 2048:case 256:s=r[i],s||4096&o.flags||(s={instance:xg(e,o)});break;case 16:s={instance:kg(e,o)};break;case 16384:s=r[i],s||(s={instance:Ng(e,o)}),32768&o.flags&&fw(np(e,o.parent.nodeIndex).componentView,s.instance,s.instance);break;case 32:case 64:case 128:s={value:void 0};break;case 67108864:case 134217728:s=new Am(-2147483648==(-2147483648&o.flags));break;case 8:Yb(e,t,o),s=void 0}r[i]=s}Ew(e,Cw.CreateViewNodes),Tw(e,201326592,268435456,0)}function gw(e){vw(e),ap.updateDirectives(e,1),Iw(e,Cw.CheckNoChanges),ap.updateRenderer(e,1),Ew(e,Cw.CheckNoChanges),e.state&=-97}function mw(e){1&e.state?(e.state&=-2,e.state|=2):e.state&=-3,Xf(e,0,256),vw(e),ap.updateDirectives(e,0),Iw(e,Cw.CheckAndUpdate),Tw(e,67108864,536870912,0);let t=Xf(e,256,512);jg(e,2097152|(t?1048576:0)),ap.updateRenderer(e,0),Ew(e,Cw.CheckAndUpdate),Tw(e,134217728,536870912,0),t=Xf(e,512,768),jg(e,8388608|(t?4194304:0)),2&e.def.flags&&(e.state&=-9),e.state&=-97,Xf(e,768,1024)}function yw(e,t,n,r,i,o,s,a,u,c,l,h,d){return 0===n?function(e,t,n,r,i,o,s,a,u,c,l,h){switch(201347067&t.flags){case 1:return function(e,t,n,r,i,o,s,a,u,c,l,h){const d=t.bindings.length;let f=!1;return d>0&&zb(e,t,0,n)&&(f=!0),d>1&&zb(e,t,1,r)&&(f=!0),d>2&&zb(e,t,2,i)&&(f=!0),d>3&&zb(e,t,3,o)&&(f=!0),d>4&&zb(e,t,4,s)&&(f=!0),d>5&&zb(e,t,5,a)&&(f=!0),d>6&&zb(e,t,6,u)&&(f=!0),d>7&&zb(e,t,7,c)&&(f=!0),d>8&&zb(e,t,8,l)&&(f=!0),d>9&&zb(e,t,9,h)&&(f=!0),f}(e,t,n,r,i,o,s,a,u,c,l,h);case 2:return function(e,t,n,r,i,o,s,a,u,c,l,h){let d=!1;const f=t.bindings,p=f.length;if(p>0&&yp(e,t,0,n)&&(d=!0),p>1&&yp(e,t,1,r)&&(d=!0),p>2&&yp(e,t,2,i)&&(d=!0),p>3&&yp(e,t,3,o)&&(d=!0),p>4&&yp(e,t,4,s)&&(d=!0),p>5&&yp(e,t,5,a)&&(d=!0),p>6&&yp(e,t,6,u)&&(d=!0),p>7&&yp(e,t,7,c)&&(d=!0),p>8&&yp(e,t,8,l)&&(d=!0),p>9&&yp(e,t,9,h)&&(d=!0),d){let d=t.text.prefix;p>0&&(d+=ow(n,f[0])),p>1&&(d+=ow(r,f[1])),p>2&&(d+=ow(i,f[2])),p>3&&(d+=ow(o,f[3])),p>4&&(d+=ow(s,f[4])),p>5&&(d+=ow(a,f[5])),p>6&&(d+=ow(u,f[6])),p>7&&(d+=ow(c,f[7])),p>8&&(d+=ow(l,f[8])),p>9&&(d+=ow(h,f[9]));const g=tp(e,t.nodeIndex).renderText;e.renderer.setValue(g,d)}return d}(e,t,n,r,i,o,s,a,u,c,l,h);case 16384:return function(e,t,n,r,i,o,s,a,u,c,l,h){const d=rp(e,t.nodeIndex),f=d.instance;let p,g=!1;const m=t.bindings.length;return m>0&&mp(e,t,0,n)&&(g=!0,p=Vg(e,d,t,0,n,p)),m>1&&mp(e,t,1,r)&&(g=!0,p=Vg(e,d,t,1,r,p)),m>2&&mp(e,t,2,i)&&(g=!0,p=Vg(e,d,t,2,i,p)),m>3&&mp(e,t,3,o)&&(g=!0,p=Vg(e,d,t,3,o,p)),m>4&&mp(e,t,4,s)&&(g=!0,p=Vg(e,d,t,4,s,p)),m>5&&mp(e,t,5,a)&&(g=!0,p=Vg(e,d,t,5,a,p)),m>6&&mp(e,t,6,u)&&(g=!0,p=Vg(e,d,t,6,u,p)),m>7&&mp(e,t,7,c)&&(g=!0,p=Vg(e,d,t,7,c,p)),m>8&&mp(e,t,8,l)&&(g=!0,p=Vg(e,d,t,8,l,p)),m>9&&mp(e,t,9,h)&&(g=!0,p=Vg(e,d,t,9,h,p)),p&&f.ngOnChanges(p),65536&t.flags&&ep(e,256,t.nodeIndex)&&f.ngOnInit(),262144&t.flags&&f.ngDoCheck(),g}(e,t,n,r,i,o,s,a,u,c,l,h);case 32:case 64:case 128:return function(e,t,n,r,i,o,s,a,u,c,l,h){const d=t.bindings;let f=!1;const p=d.length;if(p>0&&yp(e,t,0,n)&&(f=!0),p>1&&yp(e,t,1,r)&&(f=!0),p>2&&yp(e,t,2,i)&&(f=!0),p>3&&yp(e,t,3,o)&&(f=!0),p>4&&yp(e,t,4,s)&&(f=!0),p>5&&yp(e,t,5,a)&&(f=!0),p>6&&yp(e,t,6,u)&&(f=!0),p>7&&yp(e,t,7,c)&&(f=!0),p>8&&yp(e,t,8,l)&&(f=!0),p>9&&yp(e,t,9,h)&&(f=!0),f){const f=ip(e,t.nodeIndex);let g;switch(201347067&t.flags){case 32:g=[],p>0&&g.push(n),p>1&&g.push(r),p>2&&g.push(i),p>3&&g.push(o),p>4&&g.push(s),p>5&&g.push(a),p>6&&g.push(u),p>7&&g.push(c),p>8&&g.push(l),p>9&&g.push(h);break;case 64:g={},p>0&&(g[d[0].name]=n),p>1&&(g[d[1].name]=r),p>2&&(g[d[2].name]=i),p>3&&(g[d[3].name]=o),p>4&&(g[d[4].name]=s),p>5&&(g[d[5].name]=a),p>6&&(g[d[6].name]=u),p>7&&(g[d[7].name]=c),p>8&&(g[d[8].name]=l),p>9&&(g[d[9].name]=h);break;case 128:const e=n;switch(p){case 1:g=e.transform(n);break;case 2:g=e.transform(r);break;case 3:g=e.transform(r,i);break;case 4:g=e.transform(r,i,o);break;case 5:g=e.transform(r,i,o,s);break;case 6:g=e.transform(r,i,o,s,a);break;case 7:g=e.transform(r,i,o,s,a,u);break;case 8:g=e.transform(r,i,o,s,a,u,c);break;case 9:g=e.transform(r,i,o,s,a,u,c,l);break;case 10:g=e.transform(r,i,o,s,a,u,c,l,h)}}f.value=g}return f}(e,t,n,r,i,o,s,a,u,c,l,h);default:throw"unreachable"}}(e,t,r,i,o,s,a,u,c,l,h,d):function(e,t,n){switch(201347067&t.flags){case 1:return function(e,t,n){let r=!1;for(let i=0;i<n.length;i++)zb(e,t,i,n[i])&&(r=!0);return r}(e,t,n);case 2:return function(e,t,n){const r=t.bindings;let i=!1;for(let o=0;o<n.length;o++)yp(e,t,o,n[o])&&(i=!0);if(i){let i="";for(let e=0;e<n.length;e++)i+=ow(n[e],r[e]);i=t.text.prefix+i;const o=tp(e,t.nodeIndex).renderText;e.renderer.setValue(o,i)}return i}(e,t,n);case 16384:return function(e,t,n){const r=rp(e,t.nodeIndex),i=r.instance;let o,s=!1;for(let a=0;a<n.length;a++)mp(e,t,a,n[a])&&(s=!0,o=Vg(e,r,t,a,n[a],o));return o&&i.ngOnChanges(o),65536&t.flags&&ep(e,256,t.nodeIndex)&&i.ngOnInit(),262144&t.flags&&i.ngDoCheck(),s}(e,t,n);case 32:case 64:case 128:return function(e,t,n){const r=t.bindings;let i=!1;for(let o=0;o<n.length;o++)yp(e,t,o,n[o])&&(i=!0);if(i){const i=ip(e,t.nodeIndex);let o;switch(201347067&t.flags){case 32:o=n;break;case 64:o={};for(let i=0;i<n.length;i++)o[r[i].name]=n[i];break;case 128:const e=n[0],t=n.slice(1);o=e.transform(...t)}i.value=o}return i}(e,t,n);default:throw"unreachable"}}(e,t,r)}function vw(e){const t=e.def;if(4&t.nodeFlags)for(let n=0;n<t.nodes.length;n++){const r=t.nodes[n];if(4&r.flags){const t=np(e,n).template._projectedViews;if(t)for(let n=0;n<t.length;n++){const r=t[n];r.state|=32,wp(r,e)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function bw(e,t,n,r,i,o,s,a,u,c,l,h,d){return 0===n?function(e,t,n,r,i,o,s,a,u,c,l,h){const d=t.bindings.length;d>0&&vp(e,t,0,n),d>1&&vp(e,t,1,r),d>2&&vp(e,t,2,i),d>3&&vp(e,t,3,o),d>4&&vp(e,t,4,s),d>5&&vp(e,t,5,a),d>6&&vp(e,t,6,u),d>7&&vp(e,t,7,c),d>8&&vp(e,t,8,l),d>9&&vp(e,t,9,h)}(e,t,r,i,o,s,a,u,c,l,h,d):function(e,t,n){for(let r=0;r<n.length;r++)vp(e,t,r,n[r])}(e,t,r),!1}function ww(e,t){if(op(e,t.nodeIndex).dirty)throw Zf(ap.createDebugContext(e,t.nodeIndex),`Query ${t.query.id} not dirty`,`Query ${t.query.id} dirty`,0!=(1&e.state))}function _w(e){if(!(128&e.state)){if(Iw(e,Cw.Destroy),Ew(e,Cw.Destroy),jg(e,131072),e.disposables)for(let t=0;t<e.disposables.length;t++)e.disposables[t]();!function(e){if(!(16&e.state))return;const t=Cp(e);if(t){const n=t.template._projectedViews;n&&(Zn(n,n.indexOf(e)),ap.dirtyParentQueries(e))}}(e),e.renderer.destroyNode&&function(e){const t=e.def.nodes.length;for(let n=0;n<t;n++){const t=e.def.nodes[n];1&t.flags?e.renderer.destroyNode(np(e,n).renderElement):2&t.flags?e.renderer.destroyNode(tp(e,n).renderText):(67108864&t.flags||134217728&t.flags)&&op(e,n).destroy()}}(e),Sp(e)&&e.renderer.destroy(),e.state|=128}}var Cw=(()=>((Cw=Cw||{})[Cw.CreateViewNodes=0]="CreateViewNodes",Cw[Cw.CheckNoChanges=1]="CheckNoChanges",Cw[Cw.CheckNoChangesProjectedViews=2]="CheckNoChangesProjectedViews",Cw[Cw.CheckAndUpdate=3]="CheckAndUpdate",Cw[Cw.CheckAndUpdateProjectedViews=4]="CheckAndUpdateProjectedViews",Cw[Cw.Destroy=5]="Destroy",Cw))();function Ew(e,t){const n=e.def;if(33554432&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];33554432&i.flags?Sw(np(e,r).componentView,t):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function Iw(e,t){const n=e.def;if(16777216&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];if(16777216&i.flags){const n=np(e,r).viewContainer._embeddedViews;for(let e=0;e<n.length;e++)Sw(n[e],t)}else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function Sw(e,t){const n=e.state;switch(t){case Cw.CheckNoChanges:0==(128&n)&&(12==(12&n)?gw(e):64&n&&Dw(e,Cw.CheckNoChangesProjectedViews));break;case Cw.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?gw(e):64&n&&Dw(e,t));break;case Cw.CheckAndUpdate:0==(128&n)&&(12==(12&n)?mw(e):64&n&&Dw(e,Cw.CheckAndUpdateProjectedViews));break;case Cw.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?mw(e):64&n&&Dw(e,t));break;case Cw.Destroy:_w(e);break;case Cw.CreateViewNodes:pw(e)}}function Dw(e,t){Iw(e,t),Ew(e,t)}function Tw(e,t,n,r){if(!(e.def.nodeFlags&t&&e.def.nodeFlags&n))return;const i=e.def.nodes.length;for(let o=0;o<i;o++){const i=e.def.nodes[o];if(i.flags&t&&i.flags&n)switch(ap.setCurrentNode(e,i.nodeIndex),r){case 0:Qb(e,i);break;case 1:ww(e,i)}i.childFlags&t&&i.childFlags&n||(o+=i.childCount)}}let Aw=!1;function xw(){if(Aw)return;Aw=!0;const e=Mv()?{setCurrentNode:Yw,createRootView:Nw,createEmbeddedView:Rw,createComponentView:Fw,createNgModuleRef:Pw,overrideProvider:jw,overrideComponentView:Uw,clearOverrides:Bw,checkAndUpdateView:zw,checkNoChangesView:$w,destroyView:Kw,createDebugContext:(e,t)=>new s_(e,t),handleEvent:Xw,updateDirectives:e_,updateRenderer:t_}:{setCurrentNode:()=>{},createRootView:kw,createEmbeddedView:cw,createComponentView:hw,createNgModuleRef:mg,overrideProvider:up,overrideComponentView:up,clearOverrides:up,checkAndUpdateView:mw,checkNoChangesView:gw,destroyView:_w,createDebugContext:(e,t)=>new s_(e,t),handleEvent:(e,t,n,r)=>e.def.handleEvent(e,t,n,r),updateDirectives:(e,t)=>e.def.updateDirectives(0===t?Hw:Gw,e),updateRenderer:(e,t)=>e.def.updateRenderer(0===t?Hw:Gw,e)};ap.setCurrentNode=e.setCurrentNode,ap.createRootView=e.createRootView,ap.createEmbeddedView=e.createEmbeddedView,ap.createComponentView=e.createComponentView,ap.createNgModuleRef=e.createNgModuleRef,ap.overrideProvider=e.overrideProvider,ap.overrideComponentView=e.overrideComponentView,ap.clearOverrides=e.clearOverrides,ap.checkAndUpdateView=e.checkAndUpdateView,ap.checkNoChangesView=e.checkNoChangesView,ap.destroyView=e.destroyView,ap.resolveDep=Mg,ap.createDebugContext=e.createDebugContext,ap.handleEvent=e.handleEvent,ap.updateDirectives=e.updateDirectives,ap.updateRenderer=e.updateRenderer,ap.dirtyParentQueries=Kb}function kw(e,t,n,r,i,o){const s=i.injector.get(Xd);return lw(Ow(e,i,s,t,n),r,o)}function Nw(e,t,n,r,i,o){const s=i.injector.get(Xd),a=Ow(e,i,new l_(s),t,n),u=qw(r);return u_(Qw.create,lw,null,[a,u,o])}function Ow(e,t,n,r,i){const o=t.injector.get(of),s=t.injector.get(Xi),a=n.createRenderer(null,null);return{ngModule:t,injector:e,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:a,errorHandler:s}}function Rw(e,t,n,r){const i=qw(n);return u_(Qw.create,cw,null,[e,t,i,r])}function Fw(e,t,n,r){return n=Vw.get(t.element.componentProvider.provider.token)||qw(n),u_(Qw.create,hw,null,[e,t,n,r])}function Pw(e,t,n,r){return mg(e,t,n,function(e){const{hasOverrides:t,hasDeprecatedOverrides:n}=function(e){let t=!1,n=!1;return 0===Mw.size||(e.providers.forEach(e=>{const r=Mw.get(e.token);3840&e.flags&&r&&(t=!0,n=n||r.deprecatedBehavior)}),e.modules.forEach(e=>{Lw.forEach((r,i)=>{m(D(i).providedIn)===e&&(t=!0,n=n||r.deprecatedBehavior)})})),{hasOverrides:t,hasDeprecatedOverrides:n}}(e);return t?(function(e){for(let t=0;t<e.providers.length;t++){const r=e.providers[t];n&&(r.flags|=4096);const i=Mw.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=xp(i.deps),r.value=i.value)}if(Lw.size>0){let t=new Set(e.modules);Lw.forEach((r,i)=>{if(t.has(m(D(i).providedIn))){let t={token:i,flags:r.flags|(n?4096:0),deps:xp(r.deps),value:r.value,index:e.providers.length};e.providers.push(t),e.providersByKey[lp(i)]=t}})}}(e=e.factory(()=>up)),e):e}(r))}const Mw=new Map,Lw=new Map,Vw=new Map;function jw(e){let t;Mw.set(e.token,e),"function"==typeof e.token&&(t=D(e.token))&&"function"==typeof t.providedIn&&Lw.set(e.token,e)}function Uw(e,t){const n=Op(ig(t)),r=Op(n.nodes[0].element.componentView);Vw.set(e,r)}function Bw(){Mw.clear(),Lw.clear(),Vw.clear()}function qw(e){if(0===Mw.size)return e;const t=function(e){const t=[];let n=null;for(let r=0;r<e.nodes.length;r++){const i=e.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&Mw.has(i.provider.token)&&(t.push(n.nodeIndex),n=null)}return t}(e);if(0===t.length)return e;e=e.factory(()=>up);for(let r=0;r<t.length;r++)n(e,t[r]);return e;function n(e,t){for(let n=t+1;n<e.nodes.length;n++){const t=e.nodes[n];if(1&t.flags)return;if(3840&t.flags){const e=t.provider,n=Mw.get(e.token);n&&(t.flags=-3841&t.flags|n.flags,e.deps=xp(n.deps),e.value=n.value)}}}}function Hw(e,t,n,r,i,o,s,a,u,c,l,h,d){const f=e.def.nodes[t];return yw(e,f,n,r,i,o,s,a,u,c,l,h,d),224&f.flags?ip(e,t).value:void 0}function Gw(e,t,n,r,i,o,s,a,u,c,l,h,d){const f=e.def.nodes[t];return bw(e,f,n,r,i,o,s,a,u,c,l,h,d),224&f.flags?ip(e,t).value:void 0}function zw(e){return u_(Qw.detectChanges,mw,null,[e])}function $w(e){return u_(Qw.checkNoChanges,gw,null,[e])}function Kw(e){return u_(Qw.destroy,_w,null,[e])}var Qw=(()=>((Qw=Qw||{})[Qw.create=0]="create",Qw[Qw.detectChanges=1]="detectChanges",Qw[Qw.checkNoChanges=2]="checkNoChanges",Qw[Qw.destroy=3]="destroy",Qw[Qw.handleEvent=4]="handleEvent",Qw))();let Ww,Zw,Jw;function Yw(e,t){Zw=e,Jw=t}function Xw(e,t,n,r){return Yw(e,t),u_(Qw.handleEvent,e.def.handleEvent,null,[e,t,n,r])}function e_(e,t){if(128&e.state)throw Yf(Qw[Ww]);return Yw(e,i_(e,0)),e.def.updateDirectives(function(e,n,r,...i){const o=e.def.nodes[n];return 0===t?n_(e,o,r,i):r_(e,o,r,i),16384&o.flags&&Yw(e,i_(e,n)),224&o.flags?ip(e,o.nodeIndex).value:void 0},e)}function t_(e,t){if(128&e.state)throw Yf(Qw[Ww]);return Yw(e,o_(e,0)),e.def.updateRenderer(function(e,n,r,...i){const o=e.def.nodes[n];return 0===t?n_(e,o,r,i):r_(e,o,r,i),3&o.flags&&Yw(e,o_(e,n)),224&o.flags?ip(e,o.nodeIndex).value:void 0},e)}function n_(e,t,n,r){if(yw(e,t,n,...r)){const s=1===n?r[0]:r;if(16384&t.flags){const n={};for(let e=0;e<t.bindings.length;e++){const r=t.bindings[e],a=s[e];8&r.flags&&(n[(i=r.nonMinifiedName,o=void 0,o=i.replace(/[$@]/g,"_"),`ng-reflect-${i=o.replace(oo,(...e)=>"-"+e[1].toLowerCase())}`)]=so(a))}const r=t.parent,a=np(e,r.nodeIndex).renderElement;if(r.element.name)for(let t in n){const r=n[t];null!=r?e.renderer.setAttribute(a,t,r):e.renderer.removeAttribute(a,t)}else e.renderer.setValue(a,io(`bindings=${JSON.stringify(n,null,2)}`))}}var i,o}function r_(e,t,n,r){bw(e,t,n,...r)}function i_(e,t){for(let n=t;n<e.def.nodes.length;n++){const t=e.def.nodes[n];if(16384&t.flags&&t.bindings&&t.bindings.length)return n}return null}function o_(e,t){for(let n=t;n<e.def.nodes.length;n++){const t=e.def.nodes[n];if(3&t.flags&&t.bindings&&t.bindings.length)return n}return null}class s_{constructor(e,t){this.view=e,this.nodeIndex=t,null==t&&(this.nodeIndex=t=0),this.nodeDef=e.def.nodes[t];let n=this.nodeDef,r=e;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=Ep(r),r=r.parent;this.elDef=n,this.elView=r}get elOrCompView(){return np(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return fg(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const e=[];if(this.elDef)for(let t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){const n=this.elView.def.nodes[t];20224&n.flags&&e.push(n.provider.token),t+=n.childCount}return e}get references(){const e={};if(this.elDef){a_(this.elView,this.elDef,e);for(let t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){const n=this.elView.def.nodes[t];20224&n.flags&&a_(this.elView,n,e),t+=n.childCount}}return e}get componentRenderElement(){const e=function(e){for(;e&&!Sp(e);)e=e.parent;return e.parent?np(e.parent,Ep(e).nodeIndex):null}(this.elOrCompView);return e?e.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?Ip(this.view,this.nodeDef):Ip(this.elView,this.elDef)}logError(e,...t){let n,r;2&this.nodeDef.flags?(n=this.view.def,r=this.nodeDef.nodeIndex):(n=this.elView.def,r=this.elDef.nodeIndex);const i=function(e,t){let n=-1;for(let r=0;r<=t;r++)3&e.nodes[r].flags&&n++;return n}(n,r);let o=-1;n.factory(()=>(o++,o===i?e.error.bind(e,...t):up)),o<i&&(e.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),e.error(...t))}}function a_(e,t,n){for(let r in t.references)n[r]=Zb(e,t,t.references[r])}function u_(e,t,n,r){const i=Ww,o=Zw,s=Jw;try{Ww=e;const a=t.apply(n,r);return Zw=o,Jw=s,Ww=i,a}catch(c){if(Zi(c)||!Zw)throw c;throw a=c,u=c_(),a instanceof Error||(a=new Error(a.toString())),Jf(a,u),a}var a,u}function c_(){return Zw?new s_(Zw,Jw):null}class l_{constructor(e){this.delegate=e}createRenderer(e,t){return new h_(this.delegate.createRenderer(e,t))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class h_{constructor(e){this.delegate=e,this.debugContextFactory=c_,this.data=this.delegate.data}createDebugContext(e){return this.debugContextFactory(e)}destroyNode(e){const t=Db(e);t&&(function(e){Ib.delete(e.nativeNode)}(t),t instanceof hb&&(t.listeners.length=0)),this.delegate.destroyNode&&this.delegate.destroyNode(e)}destroy(){this.delegate.destroy()}createElement(e,t){const n=this.delegate.createElement(e,t),r=this.createDebugContext(n);if(r){const t=new db(n,null,r);t.name=e,xb(t)}return n}createComment(e){const t=this.delegate.createComment(io(e)),n=this.createDebugContext(t);return n&&xb(new hb(t,null,n)),t}createText(e){const t=this.delegate.createText(e),n=this.createDebugContext(t);return n&&xb(new hb(t,null,n)),t}appendChild(e,t){const n=Db(e),r=Db(t);n&&r&&n instanceof db&&n.addChild(r),this.delegate.appendChild(e,t)}insertBefore(e,t,n,r){const i=Db(e),o=Db(t),s=Db(n);i&&o&&i instanceof db&&i.insertBefore(s,o),this.delegate.insertBefore(e,t,n,r)}removeChild(e,t){const n=Db(e),r=Db(t);n&&r&&n instanceof db&&n.removeChild(r),this.delegate.removeChild(e,t)}selectRootElement(e,t){const n=this.delegate.selectRootElement(e,t),r=c_();return r&&xb(new db(n,null,r)),n}setAttribute(e,t,n,r){const i=Db(e);i&&i instanceof db&&(i.attributes[r?r+":"+t:t]=n),this.delegate.setAttribute(e,t,n,r)}removeAttribute(e,t,n){const r=Db(e);r&&r instanceof db&&(r.attributes[n?n+":"+t:t]=null),this.delegate.removeAttribute(e,t,n)}addClass(e,t){const n=Db(e);n&&n instanceof db&&(n.classes[t]=!0),this.delegate.addClass(e,t)}removeClass(e,t){const n=Db(e);n&&n instanceof db&&(n.classes[t]=!1),this.delegate.removeClass(e,t)}setStyle(e,t,n,r){const i=Db(e);i&&i instanceof db&&(i.styles[t]=n),this.delegate.setStyle(e,t,n,r)}removeStyle(e,t,n){const r=Db(e);r&&r instanceof db&&(r.styles[t]=null),this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){const r=Db(e);r&&r instanceof db&&(r.properties[t]=n),this.delegate.setProperty(e,t,n)}listen(e,t,n){if("string"!=typeof e){const r=Db(e);r&&r.listeners.push(new lb(t,n))}return this.delegate.listen(e,t,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setValue(e,t){return this.delegate.setValue(e,t)}}function d_(e){return xw(),ap.overrideProvider(e)}function f_(e,t){return xw(),ap.overrideComponentView(e,t)}function p_(){return xw(),ap.clearOverrides()}function g_(e,t,n){return new m_(e,t,n)}class m_ extends Uf{constructor(e,t,n){super(),this.moduleType=e,this._bootstrapComponents=t,this._ngModuleDefFactory=n}create(e){xw();const t=function(e){const t=Array.from(e.providers),n=Array.from(e.modules),r={};for(const i in e.providersByKey)r[i]=e.providersByKey[i];return{factory:e.factory,scope:e.scope,providers:t,modules:n,providersByKey:r}}(Op(this._ngModuleDefFactory));return ap.createNgModuleRef(this.moduleType,e||Oa.NULL,this._bootstrapComponents,t)}}function y_(e){return Gn().compileDirectiveDeclaration($m,`ng:///${e.type.name}/\u0275fac.js`,e)}function v_(e){var t,n;Kg(e.type,e.decorators,null!==(t=e.ctorParameters)&&void 0!==t?t:null,null!==(n=e.propDecorators)&&void 0!==n?n:null)}function b_(e){return Gn().compileComponentDeclaration($m,`ng:///${e.type.name}/\u0275cmp.js`,e)}function w_(e){return Gn(function(e){switch(e){case Hn.Directive:return"directive";case Hn.Component:return"component";case Hn.Injectable:return"injectable";case Hn.Pipe:;}}(e.target)).compileFactoryDeclaration($m,`ng:///${e.type.name}/\u0275fac.js`,e)}function __(e){return Gn().compileInjectableDeclaration($m,`ng:///${e.type.name}/\u0275prov.js`,e)}function C_(e){return Gn().compileInjectorDeclaration($m,`ng:///${e.type.name}/\u0275inj.js`,e)}function E_(e){return Gn().compileNgModuleDeclaration($m,`ng:///${e.type.name}/\u0275mod.js`,e)}function I_(e){return Gn().compilePipeDeclaration($m,`ng:///${e.type.name}/\u0275pipe.js`,e)}},57:(e,t,n)=>{"use strict";n.d(t,{hO:()=>D,xv:()=>b,Dh:()=>v,HU:()=>f,GT:()=>y,sI:()=>I,on:()=>_,ss:()=>p,pX:()=>m,yq:()=>C});var r=n(7771),i=n(3637),o=n(3342),s=n(3101),a=n(309),u=n(3018),c=n(2329);function l(){}e=n.hmd(e);class h{constructor(e,t=r.N){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,n){const r=this.zone;return this.delegate.schedule(function(t){r.runGuarded(()=>{e.apply(this,[t])})},t,n)}}class d{constructor(e){this.zone=e,this.task=null}call(e,t){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),t.pipe((0,o.b)({next:n,complete:n,error:n})).subscribe(e).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=e.run(()=>new h(Zone.current,i.z))}}function p(e){return function(t){return(t=t.lift(new d(e.ngZone))).pipe((0,s.R)(e.outsideAngular),(0,a.QV)(e.insideAngular))}}const g=["ngOnDestroy"],m=(e,t,n,r={})=>new Proxy(e,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(e[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,e[o]),e[o];if(g.indexOf(o)>-1)return()=>{};const s=t.toPromise().then(e=>{const t=e&&e[o];return"function"==typeof t?t.bind(e):t&&t.then?t.then(e=>n.run(()=>e)):n.run(()=>t)});return new Proxy(()=>{},{get:(e,t)=>s[t],apply:(e,t,n)=>s.then(e=>{var t;const i=e&&e(...n);return(null===(t=null==r?void 0:r.spy)||void 0===t?void 0:t.apply)&&r.spy.apply(o,n,i),i})})})}),y=(e,t)=>{t.forEach(t=>{Object.getOwnPropertyNames(t.prototype||t).forEach(n=>{Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t.prototype||t,n))})})},v=new u.InjectionToken("angularfire2.app.options"),b=new u.InjectionToken("angularfire2.app.nameOrConfig"),w=new u.Version("6.1.5");function _(t,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.Z.apps.filter(e=>e&&e.name===i.name)[0]||n.runOutsideAngular(()=>c.Z.initializeApp(t,i));try{JSON.stringify(t)!==JSON.stringify(o.options)&&E("error",`${o.name} Firebase App already initialized with different options${e.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const C=()=>{E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=(e,...t)=>{(0,u.isDevMode)()&&"undefined"!=typeof console&&console[e](...t)};function I(t,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(t)||[];if(s){try{o.some((e,t)=>{const n=a[t];return e&&"object"==typeof e?JSON.stringify(e)!==JSON.stringify(n):e!==n})&&E("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${e.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const e=i();return globalThis.\u0275AngularfireInstanceCache.set(t,[e,...o]),e}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const S={provide:class{},useFactory:_,deps:[v,u.NgZone,[new u.Optional,b]]};let D=(()=>{class e{constructor(e){c.Z.registerVersion("angularfire",w.full,e.toString()),c.Z.registerVersion("angular",u.VERSION.full)}static initializeApp(t,n){return{ngModule:e,providers:[{provide:v,useValue:t},{provide:b,useValue:n}]}}}return e.\u0275fac=function(t){return new(t||e)(u["\u0275\u0275inject"](u.PLATFORM_ID))},e.\u0275mod=u["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=u["\u0275\u0275defineInjector"]({providers:[S]}),e})()},9759:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var r,i,o=n(4762),s=n(4685),a=n(6034),u=n(300),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.LL("app","Firebase",c),h="@firebase/app",d="[DEFAULT]",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.Yd("@firebase/app"),g=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=(0,s.p$)(e),this.container=new a.H0(t.name),this._addComponent(new a.wA("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(e){return r._addComponent(e)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise(function(t){e.checkDestroyed_(),t()}).then(function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map(function(e){return e.delete()}))}).then(function(){e.isDeleted_=!0})},e.prototype._getService=function(e,t){var n;void 0===t&&(t=d),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=d),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){p.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},e}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=d);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if((0,s.r3)(t,a))throw l.create("duplicate-app",{appName:a});var u=new e(n,o,r);return t[a]=u,u},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=f[e])&&void 0!==r?r:e;n&&(i+="-"+n);var s=i.match(/\s|\//),u=t.match(/\s|\//);if(s||u){var c=['Unable to register library "'+i+'" with version "'+t+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&u&&c.push("and"),u&&c.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new a.wA(i+"-version",function(){return{library:i,version:t}},"VERSION"))},setLogLevel:u.Ub,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw l.create("invalid-log-argument");(0,u.Am)(e,t)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(!(0,s.r3)(t,e=e||d))throw l.create("no-app",{appName:e});return t[e]}function o(o){var a=o.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(e){if(void 0===e&&(e=i()),"function"!=typeof e[a])throw l.create("invalid-app-argument",{appName:a});return e[a]()};void 0!==o.serviceProps&&(0,s.ZB)(u,o.serviceProps),r[a]=u,e.prototype[a]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,a).apply(this,o.multipleInstances?e:[])}}for(var c=0,h=Object.keys(t);c<h.length;c++)t[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map(function(e){return t[e]})}}),i.App=e,r}(g);return t.INTERNAL=(0,o.pi)((0,o.pi)({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,s.ZB)(t,e)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),t}(),y=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null}).filter(function(e){return e}).join(" ")},e}();if((0,s.jU)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=m.initializeApp;m.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,s.UG)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,e)};var w=m;!function(e,t){e.INTERNAL.registerComponent(new a.wA("platform-logger",function(e){return new y(e)},"PRIVATE")),e.registerVersion(h,"0.6.30",void 0),e.registerVersion("fire-js","")}(w);const _=w},6034:(e,t,n)=>{"use strict";n.d(t,{wA:()=>o,H0:()=>u});var r=n(4762),i=n(4685),o=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),s="[DEFAULT]",a=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.BH;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:s})}catch(h){}try{for(var i=(0,r.XA)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=(0,r.CR)(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(d){t={error:d}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=s),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return(0,r.mG)(this,void 0,void 0,function(){var e;return(0,r.Jh)(this,function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all((0,r.ev)((0,r.ev)([],(0,r.CR)(e.filter(function(e){return"INTERNAL"in e}).map(function(e){return e.INTERNAL.delete()}))),(0,r.CR)(e.filter(function(e){return"_delete"in e}).map(function(e){return e._delete()}))))];case 1:return t.sent(),[2]}})})},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=s),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=s),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var i=e.options,o=void 0===i?{}:i,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:s,options:o});try{for(var u=(0,r.XA)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=(0,r.CR)(c.value,2),h=l[1];s===this.normalizeInstanceIdentifier(l[0])&&h.resolve(a)}}catch(d){t={error:d}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return a},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,i,o=this.onInitCallbacks.get(t);if(o)try{for(var s=(0,r.XA)(o),a=s.next();!a.done;a=s.next()){var u=a.value;try{u(e,t)}catch(c){}}}catch(l){n={error:l}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===s?void 0:t),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=s),this.component?this.component.multipleInstances?e:s:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}(),u=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new a(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},300:(e,t,n)=>{"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(t,{in:()=>s,Yd:()=>h,Ub:()=>d,Am:()=>f});var o=[],s=(()=>(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(s||(s={})),s))(),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),s=c[t];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[s].apply(console,r(["["+o+"]  "+e.name+":"],n))}},h=function(){function e(e){this.name=e,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in s))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?a[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],e)),this._logHandler.apply(this,r([this,s.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],e)),this._logHandler.apply(this,r([this,s.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],e)),this._logHandler.apply(this,r([this,s.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],e)),this._logHandler.apply(this,r([this,s.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],e)),this._logHandler.apply(this,r([this,s.ERROR],e))},e}();function d(e){o.forEach(function(t){t.setLogLevel(e)})}function f(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=a[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}}).filter(function(e){return e}).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:s[n].toLowerCase(),message:a,args:i,type:t.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},4685:(e,t,n)=>{"use strict";n.d(t,{BH:()=>c,LL:()=>C,r3:()=>S,Sg:()=>l,ne:()=>D,p$:()=>a,ZB:()=>u,m9:()=>x,z$:()=>h,jU:()=>p,ru:()=>g,d:()=>y,w1:()=>v,uI:()=>d,UG:()=>f,b$:()=>m,G6:()=>w,Mn:()=>b});var r=n(4762),i=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},o={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],s=i+1<e.length,a=s?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(i(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(a=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{o=e[n++];var a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0,a=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},s=function(e){return function(e){var t=i(e);return o.encodeByteArray(t,!0)}(e).replace(/\./g,"")};function a(e){return u(void 0,e)}function u(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=u(e[n],t[n]));return e}var c=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch(function(){}),1===e.length?e(n):e(n,r))}},e}();function l(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=(0,r.pi)({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[s(JSON.stringify({alg:"none",type:"JWT"})),s(JSON.stringify(a)),""].join(".")}function h(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function d(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(h())}function f(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}function p(){return"object"==typeof self&&self.self===self}function g(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function m(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function y(){return h().indexOf("Electron/")>=0}function v(){var e=h();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function b(){return h().indexOf("MSAppHost/")>=0}function w(){return!f()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var _=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,C.prototype.create),o}return(0,r.ZT)(t,e),t}(Error),C=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],s=o?E(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new _(i,a,r);return u},e}();function E(e,t){return e.replace(I,function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"})}var I=/\{\$([^}]+)}/g;function S(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function D(e,t){var n=new T(e,t);return n.subscribe.bind(n)}!function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,s=this.chain_[0],a=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^a&(u^c),o=1518500249):(i=a^u^c,o=1859775393):r<60?(i=a&u|c&(a|u),o=2400959708):(i=a^u^c,o=3395469782);var h=(s<<5|s>>>27)+i+l+o+n[r]&4294967295;l=c,c=u,u=4294967295&(a<<30|a>>>2),a=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e}}();var T=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(function(){e(n)}).catch(function(e){n.error(e)})}return e.prototype.next=function(e){this.forEachObserver(function(t){t.next(e)})},e.prototype.error=function(e){this.forEachObserver(function(t){t.error(e)}),this.close(e)},e.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=A),void 0===r.error&&(r.error=A),void 0===r.complete&&(r.complete=A);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}}),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))},e}();function A(){}function x(e){return e&&e._delegate?e._delegate:e}},4064:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(t,n,r,i){this.id=e.nextId++,this.text="default text",this.cssClass="",this.closeOnClick=!1,this.showCloseBtn=!1,t&&(this.text=t),n&&(this.cssClass=n),r&&(this.closeOnClick=r),i&&(this.showCloseBtn=i)}return e.nextId=0,e}();t.FlashMessage=n},7254:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3018),i=n(4064),o=n(2455),s=n(3018),a=n(2455),u=n(8583);function c(e,t){1&e&&s.\u0275\u0275element(0,"div",3)}function l(e,t){if(1&e){var n=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"button",7),s.\u0275\u0275listener("click",function(){s.\u0275\u0275restoreView(n);var e=s.\u0275\u0275nextContext().$implicit;return s.\u0275\u0275nextContext().close(e)}),s.\u0275\u0275elementStart(1,"span",8),s.\u0275\u0275text(2,"\xd7"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementEnd()}}var h=function(e){return{"alert-dismissible":e}};function d(e,t){if(1&e){var n=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"div",4),s.\u0275\u0275listener("click",function(){var e=s.\u0275\u0275restoreView(n).$implicit;return s.\u0275\u0275nextContext().alertClicked(e)}),s.\u0275\u0275template(1,l,3,0,"button",5),s.\u0275\u0275element(2,"div",6),s.\u0275\u0275elementEnd()}if(2&e){var r=t.$implicit;s.\u0275\u0275classMapInterpolate1("alert flash-message ",r.cssClass,""),s.\u0275\u0275styleProp("cursor",r.closeOnClick?"pointer":"inherit"),s.\u0275\u0275property("ngClass",s.\u0275\u0275pureFunction1(8,h,r.showCloseBtn)),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",r.showCloseBtn),s.\u0275\u0275advance(1),s.\u0275\u0275property("innerHTML",r.text,s.\u0275\u0275sanitizeHtml)}}var f=function(){function e(e,t){this._flashMessagesService=e,this._cdRef=t,this._defaults={text:"default message",closeOnClick:!1,showCloseBtn:!1,cssClass:""},this.messages=[],this.classes="",this._grayOut=!1,this._flashMessagesService.show=this.show.bind(this),this._flashMessagesService.grayOut=this.grayOut.bind(this)}return e.prototype.ngOnInit=function(){},e.prototype.show=function(e,t){var n=this;void 0===t&&(t={});var r={timeout:2500,closeOnClick:!1,showCloseBtn:!1,cssClass:"",text:"default message"};for(var o in t)r[o]=t[o];var s=new i.FlashMessage(e,r.cssClass,r.closeOnClick,r.showCloseBtn);s.timer=window.setTimeout(function(){n._remove(s),n._cdRef.detectChanges()},r.timeout),this.messages.push(s),this._cdRef.detectChanges()},e.prototype.close=function(e){clearTimeout(e.timer),this._remove(e),this._cdRef.detectChanges()},e.prototype.alertClicked=function(e){e.closeOnClick&&this.close(e)},e.prototype.grayOut=function(e){void 0===e&&(e=!1),this._grayOut=e},e.prototype._remove=function(e){this.messages=this.messages.filter(function(t){return t.id!==e.id})},e.ctorParameters=function(){return[{type:o.FlashMessagesService},{type:r.ChangeDetectorRef}]},e.\u0275fac=function(t){return new(t||e)(s.\u0275\u0275directiveInject(a.FlashMessagesService),s.\u0275\u0275directiveInject(s.ChangeDetectorRef))},e.\u0275cmp=s.\u0275\u0275defineComponent({type:e,selectors:[["flash-messages"]],decls:3,vars:2,consts:[["id","flashMessages",1,"flash-messages"],["id","grayOutDiv",4,"ngIf"],[3,"class","ngClass","cursor","click",4,"ngFor","ngForOf"],["id","grayOutDiv"],[3,"ngClass","click"],["type","button","class","close","data-dismiss","alert","aria-label","Close",3,"click",4,"ngIf"],[3,"innerHTML"],["type","button","data-dismiss","alert","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"]],template:function(e,t){1&e&&(s.\u0275\u0275elementStart(0,"div",0),s.\u0275\u0275template(1,c,1,0,"div",1),s.\u0275\u0275template(2,d,3,10,"div",2),s.\u0275\u0275elementEnd()),2&e&&(s.\u0275\u0275advance(1),s.\u0275\u0275property("ngIf",t._grayOut&&t.messages.length),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngForOf",t.messages))},directives:[u.NgIf,u.NgForOf,u.NgClass],encapsulation:2}),e}();t.FlashMessagesComponent=f},2455:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(3018);var r=n(3018),i=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.\u0275\u0275defineInjectable({token:e,factory:function(t){return e.\u0275fac(t)}}),e}();t.FlashMessagesService=i},4372:(e,t,n)=>{var r=n(7254),i=n(3390);t.qz=i.FlashMessagesModule;var o=n(2455);t.GQ=o.FlashMessagesService,t.cS=r.FlashMessagesComponent},3390:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(3018);var r=n(8583),i=(n(7254),n(2455)),o=n(3018),s=(n(7254),n(8583),function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[i.FlashMessagesService]}},e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=o.\u0275\u0275defineInjector({providers:[],imports:[[r.CommonModule]]}),e}());t.FlashMessagesModule=s},2329:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r.Z});var r=n(9759),i="8.10.0";r.Z.registerVersion("firebase",i,"app"),r.Z.SDK_VERSION=i},7574:(e,t,n)=>{"use strict";n.d(t,{y:()=>c});var r=n(7393),i=n(9181),o=n(6490),s=n(6554),a=n(4487),u=n(2494);let c=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(e,t,n){const{operator:s}=this,a=function(e,t,n){if(e){if(e instanceof r.L)return e;if(e[i.b])return e[i.b]()}return e||t||n?new r.L(e,t,n):new r.L(o.c)}(e,t,n);if(a.add(s?s.call(a,this.source):this.source||u.v.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.v.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(e){try{return this._subscribe(e)}catch(t){u.v.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:n,isStopped:i}=e;if(t||i)return!1;e=n&&n instanceof r.L?n:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=l(t))((t,n)=>{let r;r=this.subscribe(t=>{try{e(t)}catch(i){n(i),r&&r.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[s.L](){return this}pipe(...e){return 0===e.length?this:(0===(t=e).length?a.y:1===t.length?t[0]:function(e){return t.reduce((e,t)=>t(e),e)})(this);var t}toPromise(e){return new(e=l(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}return e.create=t=>new e(t),e})();function l(e){if(e||(e=u.v.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},6490:(e,t,n)=>{"use strict";n.d(t,{c:()=>o});var r=n(2494),i=n(4449);const o={closed:!0,next(e){},error(e){if(r.v.useDeprecatedSynchronousErrorHandling)throw e;(0,i.z)(e)},complete(){}}},9765:(e,t,n)=>{"use strict";n.d(t,{Yc:()=>c,xQ:()=>l});var r=n(7574),i=n(7393),o=n(5319),s=n(7971),a=n(8858),u=n(9181);class c extends i.L{constructor(e){super(e),this.destination=e}}let l=(()=>{class e extends r.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.b](){return new c(this)}lift(e){const t=new h(this,this);return t.operator=e,t}next(e){if(this.closed)throw new s.N;if(!this.isStopped){const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].next(e)}}error(e){if(this.closed)throw new s.N;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].error(e);this.observers.length=0}complete(){if(this.closed)throw new s.N;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let r=0;r<t;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new s.N;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new s.N;return this.hasError?(e.error(this.thrownError),o.w.EMPTY):this.isStopped?(e.complete(),o.w.EMPTY):(this.observers.push(e),new a.W(this,e))}asObservable(){const e=new r.y;return e.source=this,e}}return e.create=(e,t)=>new h(e,t),e})();class h extends l{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):o.w.EMPTY}}},8858:(e,t,n)=>{"use strict";n.d(t,{W:()=>i});var r=n(5319);class i extends r.w{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},7393:(e,t,n)=>{"use strict";n.d(t,{L:()=>c});var r=n(9105),i=n(6490),o=n(5319),s=n(9181),a=n(2494),u=n(4449);class c extends o.w{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.c;break;case 1:if(!e){this.destination=i.c;break}if("object"==typeof e){e instanceof c?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,e,t,n)}}[s.b](){return this}static create(e,t,n){const r=new c(e,t,n);return r.syncErrorThrowable=!1,r}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class l extends c{constructor(e,t,n,o){let s;super(),this._parentSubscriber=e;let a=this;(0,r.m)(t)?s=t:t&&(s=t.next,n=t.error,o=t.complete,t!==i.c&&(a=Object.create(t),(0,r.m)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;a.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=a.v;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):(0,u.z)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;(0,u.z)(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);a.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),a.v.useDeprecatedSynchronousErrorHandling)throw n;(0,u.z)(n)}}__tryOrSetError(e,t,n){if(!a.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return a.v.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):((0,u.z)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}},5319:(e,t,n)=>{"use strict";n.d(t,{w:()=>a});var r=n(9796),i=n(1555),o=n(9105);const s=(()=>{function e(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e})();class a{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:t,_ctorUnsubscribe:n,_unsubscribe:u,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof a)t.remove(this);else if(null!==t)for(let r=0;r<t.length;++r)t[r].remove(this);if((0,o.m)(u)){n&&(this._unsubscribe=void 0);try{u.call(this)}catch(h){e=h instanceof s?c(h.errors):[h]}}if((0,r.k)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if((0,i.K)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(c(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let t=e;if(!e)return a.EMPTY;switch(typeof e){case"function":t=new a(e);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof a)){const e=t;t=new a,t._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:n}=t;if(null===n)t._parentOrParents=this;else if(n instanceof a){if(n===this)return t;t._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return t;n.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[t]:r.push(t),t}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}var u;function c(e){return e.reduce((e,t)=>e.concat(t instanceof s?t.errors:t),[])}a.EMPTY=((u=new a).closed=!0,u)},2494:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},5345:(e,t,n)=>{"use strict";n.d(t,{IY:()=>s,Ds:()=>a,ft:()=>u});var r=n(7393),i=n(7574),o=n(7444);class s extends r.L{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.L{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function u(e,t){if(t.closed)return;if(e instanceof i.y)return e.subscribe(t);let n;try{n=(0,o.s)(e)(t)}catch(r){t.error(r)}return n}},2441:(e,t,n)=>{"use strict";n.d(t,{c:()=>a,N:()=>u});var r=n(9765),i=n(7574),o=n(5319),s=n(1307);class a extends i.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new o.w,e.add(this.source.subscribe(new c(this.getSubject(),this))),e.closed&&(this._connection=null,e=o.w.EMPTY)),e}refCount(){return(0,s.x)()(this)}}const u=(()=>{const e=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class c extends r.Yc{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}},9193:(e,t,n)=>{"use strict";n.d(t,{E:()=>i,c:()=>o});var r=n(7574);const i=new r.y(e=>e.complete());function o(e){return e?function(e){return new r.y(t=>e.schedule(()=>t.complete()))}(e):i}},4402:(e,t,n)=>{"use strict";n.d(t,{D:()=>h});var r=n(7574),i=n(7444),o=n(5319),s=n(6554),a=n(4087),u=n(377),c=n(4072),l=n(9489);function h(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[s.L]}(e))return function(e,t){return new r.y(n=>{const r=new o.w;return r.add(t.schedule(()=>{const i=e[s.L]();r.add(i.subscribe({next(e){r.add(t.schedule(()=>n.next(e)))},error(e){r.add(t.schedule(()=>n.error(e)))},complete(){r.add(t.schedule(()=>n.complete()))}}))})),r})}(e,t);if((0,c.t)(e))return function(e,t){return new r.y(n=>{const r=new o.w;return r.add(t.schedule(()=>e.then(e=>{r.add(t.schedule(()=>{n.next(e),r.add(t.schedule(()=>n.complete()))}))},e=>{r.add(t.schedule(()=>n.error(e)))}))),r})}(e,t);if((0,l.z)(e))return(0,a.r)(e,t);if(function(e){return e&&"function"==typeof e[u.hZ]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.y(n=>{const r=new o.w;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(t.schedule(()=>{i=e[u.hZ](),r.add(t.schedule(function(){if(n.closed)return;let e,t;try{const n=i.next();e=n.value,t=n.done}catch(r){return void n.error(r)}t?n.complete():(n.next(e),this.schedule())}))})),r})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof r.y?e:new r.y((0,i.s)(e))}},6693:(e,t,n)=>{"use strict";n.d(t,{n:()=>s});var r=n(7574),i=n(5015),o=n(4087);function s(e,t){return t?(0,o.r)(e,t):new r.y((0,i.V)(e))}},6682:(e,t,n)=>{"use strict";n.d(t,{T:()=>a});var r=n(7574),i=n(4869),o=n(3282),s=n(6693);function a(...e){let t=Number.POSITIVE_INFINITY,n=null,a=e[e.length-1];return(0,i.K)(a)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof a&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof r.y?e[0]:(0,o.J)(t)((0,s.n)(e,n))}},5917:(e,t,n)=>{"use strict";n.d(t,{of:()=>s});var r=n(4869),i=n(6693),o=n(4087);function s(...e){let t=e[e.length-1];return(0,r.K)(t)?(e.pop(),(0,o.r)(e,t)):(0,i.n)(e)}},8002:(e,t,n)=>{"use strict";n.d(t,{U:()=>i});var r=n(7393);function i(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(e,t))}}class o{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new s(e,this.project,this.thisArg))}}class s extends r.L{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}},3282:(e,t,n)=>{"use strict";n.d(t,{J:()=>o});var r=n(9773),i=n(4487);function o(e=Number.POSITIVE_INFINITY){return(0,r.zg)(i.y,e)}},9773:(e,t,n)=>{"use strict";n.d(t,{zg:()=>s});var r=n(8002),i=n(4402),o=n(5345);function s(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?o=>o.pipe(s((n,o)=>(0,i.D)(e(n,o)).pipe((0,r.U)((e,r)=>t(n,e,o,r))),n)):("number"==typeof t&&(n=t),t=>t.lift(new a(e,n)))}class a{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new u(e,this.project,this.concurrent))}}class u extends o.Ds{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t)}_innerSub(e){const t=new o.IY(this),n=this.destination;n.add(t);const r=(0,o.ft)(e,t);r!==t&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(e,t,n)=>{"use strict";n.d(t,{ht:()=>l,QV:()=>u});var r=n(7393),i=n(9193),o=n(5917),s=n(7574);class a{constructor(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}accept(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}toObservable(){switch(this.kind){case"N":return(0,o.of)(this.value);case"E":return e=this.error,new s.y(t=>t.error(e));case"C":return(0,i.c)()}var e;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new a("N",e):a.undefinedValueNotification}static createError(e){return new a("E",void 0,e)}static createComplete(){return a.completeNotification}}function u(e,t=0){return function(n){return n.lift(new c(e,t))}}a.completeNotification=new a("C"),a.undefinedValueNotification=new a("N",void 0);class c{constructor(e,t=0){this.scheduler=e,this.delay=t}call(e,t){return t.subscribe(new l(e,this.scheduler,this.delay))}}class l extends r.L{constructor(e,t,n=0){super(e),this.scheduler=t,this.delay=n}static dispatch(e){const{notification:t,destination:n}=e;t.observe(n),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(e,this.destination)))}_next(e){this.scheduleMessage(a.createNext(e))}_error(e){this.scheduleMessage(a.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(e,t){this.notification=e,this.destination=t}}},1307:(e,t,n)=>{"use strict";n.d(t,{x:()=>i});var r=n(7393);function i(){return function(e){return e.lift(new o(e))}}class o{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const r=new s(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class s extends r.L{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},3101:(e,t,n)=>{"use strict";n.d(t,{R:()=>p});var r=n(7574);let i=1;const o=Promise.resolve(),s={};function a(e){return e in s&&(delete s[e],!0)}const u={setImmediate(e){const t=i++;return s[t]=!0,o.then(()=>a(t)&&e()),t},clearImmediate(e){a(e)}};var c=n(6465),l=n(6102);const h=new class extends l.v{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let n,r=-1,i=t.length;e=e||t.shift();do{if(n=e.execute(e.state,e.delay))break}while(++r<i&&(e=t.shift()));if(this.active=!1,n){for(;++r<i&&(e=t.shift());)e.unsubscribe();throw n}}}(class extends c.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=u.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,t,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(e,t,n);0===e.actions.length&&(u.clearImmediate(t),e.scheduled=void 0)}});var d=n(9796);class f extends r.y{constructor(e,t=0,n=h){var r;super(),this.source=e,this.delayTime=t,this.scheduler=n,((0,d.k)(r=t)||!(r-parseFloat(r)+1>=0)||t<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=h)}static create(e,t=0,n=h){return new f(e,t,n)}static dispatch(e){const{source:t,subscriber:n}=e;return this.add(t.subscribe(n))}_subscribe(e){return this.scheduler.schedule(f.dispatch,this.delayTime,{source:this.source,subscriber:e})}}function p(e,t=0){return function(n){return n.lift(new g(e,t))}}class g{constructor(e,t){this.scheduler=e,this.delay=t}call(e,t){return new f(t,this.delay,this.scheduler).subscribe(e)}}},3342:(e,t,n)=>{"use strict";n.d(t,{b:()=>s});var r=n(7393);function i(){}var o=n(9105);function s(e,t,n){return function(r){return r.lift(new a(e,t,n))}}class a{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new u(e,this.nextOrObserver,this.error,this.complete))}}class u extends r.L{constructor(e,t,n,r){super(e),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,(0,o.m)(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||i,this._tapError=t.error||i,this._tapComplete=t.complete||i)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}},4087:(e,t,n)=>{"use strict";n.d(t,{r:()=>o});var r=n(7574),i=n(5319);function o(e,t){return new r.y(n=>{const r=new i.w;let o=0;return r.add(t.schedule(function(){o!==e.length?(n.next(e[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},6465:(e,t,n)=>{"use strict";n.d(t,{o:()=>o});var r=n(5319);class i extends r.w{constructor(e,t){super()}schedule(e,t=0){return this}}class o extends i{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n,r=!1;try{this.work(e)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}},6102:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});let r=(()=>{class e{constructor(t,n=e.now){this.SchedulerAction=t,this.now=n}schedule(e,t=0,n){return new this.SchedulerAction(this,e).schedule(n,t)}}return e.now=()=>Date.now(),e})();class i extends r{constructor(e,t=r.now){super(e,()=>i.delegate&&i.delegate!==this?i.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}},3637:(e,t,n)=>{"use strict";n.d(t,{z:()=>i});var r=n(6465);const i=new(n(6102).v)(r.o)},7771:(e,t,n)=>{"use strict";n.d(t,{c:()=>s,N:()=>o});var r=n(6465),i=n(6102);const o=new class extends i.v{}(class extends r.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(e,t,n):e.flush(this)}}),s=o},377:(e,t,n)=>{"use strict";n.d(t,{hZ:()=>r});const r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});const r="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(e,t,n)=>{"use strict";n.d(t,{b:()=>r});const r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(e,t,n)=>{"use strict";n.d(t,{N:()=>r});const r=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})()},4449:(e,t,n)=>{"use strict";function r(e){setTimeout(()=>{throw e},0)}n.d(t,{z:()=>r})},4487:(e,t,n)=>{"use strict";function r(e){return e}n.d(t,{y:()=>r})},9796:(e,t,n)=>{"use strict";n.d(t,{k:()=>r});const r=Array.isArray||(e=>e&&"number"==typeof e.length)},9489:(e,t,n)=>{"use strict";n.d(t,{z:()=>r});const r=e=>e&&"number"==typeof e.length&&"function"!=typeof e},9105:(e,t,n)=>{"use strict";function r(e){return"function"==typeof e}n.d(t,{m:()=>r})},1555:(e,t,n)=>{"use strict";function r(e){return null!==e&&"object"==typeof e}n.d(t,{K:()=>r})},4072:(e,t,n)=>{"use strict";function r(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,{t:()=>r})},4869:(e,t,n)=>{"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,{K:()=>r})},7444:(e,t,n)=>{"use strict";n.d(t,{s:()=>l});var r=n(5015),i=n(4449),o=n(377),s=n(6554),a=n(9489),u=n(4072),c=n(1555);const l=e=>{if(e&&"function"==typeof e[s.L])return l=e,e=>{const t=l[s.L]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if((0,a.z)(e))return(0,r.V)(e);if((0,u.t)(e))return n=e,e=>(n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,i.z),e);if(e&&"function"==typeof e[o.hZ])return t=e,e=>{const n=t[o.hZ]();for(;;){let t;try{t=n.next()}catch(r){return e.error(r),e}if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e};{const t=(0,c.K)(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var t,n,l}},5015:(e,t,n)=>{"use strict";n.d(t,{V:()=>r});const r=e=>t=>{for(let n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}},7896:(e,t,n)=>{"use strict";var r=n(8583),i=n(3018);class o extends r["\u0275DomAdapter"]{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class s extends o{static makeCurrent(){(0,r["\u0275setRootDomAdapter"])(new s)}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(u=u||document.querySelector("base"),u?u.getAttribute("href"):null);return null==t?null:function(e){a=a||document.createElement("a"),a.setAttribute("href",e);const t=a.pathname;return"/"===t.charAt(0)?t:`/${t}`}(t)}resetBaseElement(){u=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return(0,r["\u0275parseCookieValue"])(document.cookie,e)}}let a,u=null;const c=new i.InjectionToken("TRANSITION_ID"),l=[{provide:i.APP_INITIALIZER,useFactory:function(e,t,n){return()=>{n.get(i.ApplicationInitStatus).donePromise.then(()=>{const n=(0,r["\u0275getDOM"])();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(t=>t.getAttribute("ng-transition")===e).forEach(e=>n.remove(e))})}},deps:[c,r.DOCUMENT,i.Injector],multi:!0}];class h{static init(){(0,i.setTestabilityGetter)(new h)}addToWindow(e){i["\u0275global"].getAngularTestability=(t,n=!0)=>{const r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},i["\u0275global"].getAllAngularTestabilities=()=>e.getAllTestabilities(),i["\u0275global"].getAllAngularRootElements=()=>e.getAllRootElements(),i["\u0275global"].frameworkStabilizers||(i["\u0275global"].frameworkStabilizers=[]),i["\u0275global"].frameworkStabilizers.push(e=>{const t=i["\u0275global"].getAllAngularTestabilities();let n=t.length,r=!1;const o=function(t){r=r||t,n--,0==n&&e(r)};t.forEach(function(e){e.whenStable(o)})})}findTestabilityInTree(e,t,n){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:n?(0,r["\u0275getDOM"])().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let d=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();const f=new i.InjectionToken("EventManagerPlugins");let p=(()=>{class e{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let r=0;r<n.length;r++){const t=n[r];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error(`No event manager plugin found for event ${e}`)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](f),i["\u0275\u0275inject"](i.NgZone))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();class g{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const i=(0,r["\u0275getDOM"])().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,n)}}let m=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})(),y=(()=>{class e extends m{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,t,n){e.forEach(e=>{const r=this._doc.createElement("style");r.textContent=e,n.push(t.appendChild(r))})}addHost(e){const t=[];this._addStylesToHost(this._stylesSet,e,t),this._hostNodes.set(e,t)}removeHost(e){const t=this._hostNodes.get(e);t&&t.forEach(v),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((t,n)=>{this._addStylesToHost(e,n,t)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(v))}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](r.DOCUMENT))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();function v(e){(0,r["\u0275getDOM"])().remove(e)}const b={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},w=/%COMP%/g;function _(e,t,n){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?_(e,i,n):(i=i.replace(w,e),n.push(i))}return n}function C(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let E=(()=>{class e{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new I(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case i.ViewEncapsulation.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new S(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case 1:case i.ViewEncapsulation.ShadowDom:return new D(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=_(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](p),i["\u0275\u0275inject"](y),i["\u0275\u0275inject"](i.APP_ID))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();class I{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(b[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,r){if(r){t=r+":"+t;const i=b[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const r=b[n];r?e.removeAttributeNS(r,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,r){r&(i.RendererStyleFlags2.DashCase|i.RendererStyleFlags2.Important)?e.style.setProperty(t,n,r&i.RendererStyleFlags2.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&i.RendererStyleFlags2.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,C(n)):this.eventManager.addEventListener(e,t,C(n))}}class S extends I{constructor(e,t,n,r){super(e),this.component=n;const i=_(r+"-"+n.id,n.styles,[]);t.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(w,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(w,r+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class D extends I{constructor(e,t,n,r){super(e),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=_(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const e=document.createElement("style");e.textContent=i[o],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let T=(()=>{class e extends g{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,n){return e.addEventListener(t,n,!1),()=>this.removeEventListener(e,t,n)}removeEventListener(e,t,n){return e.removeEventListener(t,n)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](r.DOCUMENT))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();const A=["alt","control","meta","shift"],x={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},k={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},N={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let O=(()=>{class e extends g{constructor(e){super(e)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,n,i){const o=e.parseEventName(n),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,r["\u0275getDOM"])().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=e._normalizeKey(n.pop());let o="";if(A.forEach(e=>{const t=n.indexOf(e);t>-1&&(n.splice(t,1),o+=e+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(e){let t="",n=function(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&k.hasOwnProperty(t)&&(t=k[t]))}return x[t]||t}(e);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),A.forEach(r=>{r!=n&&(0,N[r])(e)&&(t+=r+".")}),t+=n,t}static eventCallback(t,n,r){return i=>{e.getEventFullKey(i)===t&&r.runGuarded(()=>n(i))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](r.DOCUMENT))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();const R=(0,i.createPlatformFactory)(i.platformCore,"browser",[{provide:i.PLATFORM_ID,useValue:r["\u0275PLATFORM_BROWSER_ID"]},{provide:i.PLATFORM_INITIALIZER,useValue:function(){s.makeCurrent(),h.init()},multi:!0},{provide:r.DOCUMENT,useFactory:function(){return(0,i["\u0275setDocument"])(document),document},deps:[]}]),F=[[],{provide:i["\u0275INJECTOR_SCOPE"],useValue:"root"},{provide:i.ErrorHandler,useFactory:function(){return new i.ErrorHandler},deps:[]},{provide:f,useClass:T,multi:!0,deps:[r.DOCUMENT,i.NgZone,i.PLATFORM_ID]},{provide:f,useClass:O,multi:!0,deps:[r.DOCUMENT]},[],{provide:E,useClass:E,deps:[p,y,i.APP_ID]},{provide:i.RendererFactory2,useExisting:E},{provide:m,useExisting:y},{provide:y,useClass:y,deps:[r.DOCUMENT]},{provide:i.Testability,useClass:i.Testability,deps:[i.NgZone]},{provide:p,useClass:p,deps:[f,i.NgZone]},{provide:r.XhrFactory,useClass:d,deps:[]},[]];let P=(()=>{class e{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:e,providers:[{provide:i.APP_ID,useValue:t.appId},{provide:c,useExisting:i.APP_ID},l]}}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](e,12))},e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({providers:F,imports:[r.CommonModule,i.ApplicationModule]}),e})();"undefined"!=typeof window&&window;var M=n(4402),L=n(7574),V=n(9796),j=n(8002),U=n(1555);function B(e,t){return new L.y(n=>{const r=e.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=(0,M.D)(e[a]);let c=!1;n.add(u.subscribe({next:e=>{c||(c=!0,s++),i[a]=e},error:e=>n.error(e),complete:()=>{o++,o!==r&&c||(s===r&&n.next(t?t.reduce((e,t,n)=>(e[t]=i[n],e),{}):i),n.complete())}}))}})}let q=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}setProperty(e,t){this._renderer.setProperty(this._elementRef.nativeElement,e,t)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](i.Renderer2),i["\u0275\u0275directiveInject"](i.ElementRef))},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e}),e})(),H=(()=>{class e extends q{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=i["\u0275\u0275getInheritedFactory"](e)))(n||e)}}(),e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,features:[i["\u0275\u0275InheritDefinitionFeature"]]}),e})();const G=new i.InjectionToken("NgValueAccessor"),z={provide:G,useExisting:(0,i.forwardRef)(()=>K),multi:!0},$=new i.InjectionToken("CompositionEventMode");let K=(()=>{class e extends q{constructor(e,t,n){super(e,t),this._compositionMode=n,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=(0,r["\u0275getDOM"])()?(0,r["\u0275getDOM"])().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](i.Renderer2),i["\u0275\u0275directiveInject"](i.ElementRef),i["\u0275\u0275directiveInject"]($,8))},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("input",function(e){return t._handleInput(e.target.value)})("blur",function(){return t.onTouched()})("compositionstart",function(){return t._compositionStart()})("compositionend",function(e){return t._compositionEnd(e.target.value)})},features:[i["\u0275\u0275ProvidersFeature"]([z]),i["\u0275\u0275InheritDefinitionFeature"]]}),e})();function Q(e){return null==e||0===e.length}const W=new i.InjectionToken("NgValidators"),Z=new i.InjectionToken("NgAsyncValidators");function J(e){return null}function Y(e){return null!=e}function X(e){const t=(0,i["\u0275isPromise"])(e)?(0,M.D)(e):e;return(0,i["\u0275isObservable"])(t),t}function ee(e){let t={};return e.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function te(e,t){return t.map(t=>t(e))}function ne(e){return e.map(e=>function(e){return!e.validate}(e)?e:t=>e.validate(t))}function re(e){return null!=e?function(e){if(!e)return null;const t=e.filter(Y);return 0==t.length?null:function(e){return ee(te(e,t))}}(ne(e)):null}function ie(e){return null!=e?function(e){if(!e)return null;const t=e.filter(Y);return 0==t.length?null:function(e){return function(...e){if(1===e.length){const t=e[0];if((0,V.k)(t))return B(t,null);if((0,U.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return B(e.map(e=>t[e]),e)}}if("function"==typeof e[e.length-1]){const t=e.pop();return B(e=1===e.length&&(0,V.k)(e[0])?e[0]:e,null).pipe((0,j.U)(e=>t(...e)))}return B(e,null)}(te(e,t).map(X)).pipe((0,j.U)(ee))}}(ne(e)):null}function oe(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}let se=(()=>{class e{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=re(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ie(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e}),e})(),ae=(()=>{class e extends se{get formDirective(){return null}get path(){return null}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=i["\u0275\u0275getInheritedFactory"](e)))(n||e)}}(),e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,features:[i["\u0275\u0275InheritDefinitionFeature"]]}),e})();class ue extends se{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ce{constructor(e){this._cd=e}is(e){var t,n,r;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(r=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===r?void 0:r[e])}}let le=(()=>{class e extends ce{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](ue,2))},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&i["\u0275\u0275classProp"]("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))},features:[i["\u0275\u0275InheritDefinitionFeature"]]}),e})(),he=(()=>{class e extends ce{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](ae,10))},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,t){2&e&&i["\u0275\u0275classProp"]("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))("ng-submitted",t.is("submitted"))},features:[i["\u0275\u0275InheritDefinitionFeature"]]}),e})();function de(e,t){pe(e,t),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&ge(e,t)})}(e,t),function(e,t){const n=(e,n)=>{t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&ge(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function(e,t){if(t.valueAccessor.setDisabledState){const n=e=>{t.valueAccessor.setDisabledState(e)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function fe(e,t){e.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function pe(e,t){const n=function(e){return e._rawValidators}(e);null!==t.validator?e.setValidators(oe(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=function(e){return e._rawAsyncValidators}(e);null!==t.asyncValidator?e.setAsyncValidators(oe(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();fe(t._rawValidators,i),fe(t._rawAsyncValidators,i)}function ge(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function me(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const ye="VALID",ve="INVALID",be="PENDING",we="DISABLED";function _e(e){return(Se(e)?e.validators:e)||null}function Ce(e){return Array.isArray(e)?re(e):e||null}function Ee(e,t){return(Se(t)?t.asyncValidators:e)||null}function Ie(e){return Array.isArray(e)?ie(e):e||null}function Se(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class De{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Ce(this._rawValidators),this._composedAsyncValidatorFn=Ie(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ye}get invalid(){return this.status===ve}get pending(){return this.status==be}get disabled(){return this.status===we}get enabled(){return this.status!==we}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Ce(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Ie(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=be,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=we,this.errors=null,this._forEachChild(t=>{t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ye,this._forEachChild(t=>{t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==ye&&this.status!==be||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?we:ye}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=be,this._hasOwnPendingAsyncValidator=!0;const t=X(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(t,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;let r=e;return t.forEach(e=>{r=r instanceof Ae?r.controls.hasOwnProperty(e)?r.controls[e]:null:r instanceof xe&&r.at(e)||null}),r}(this,e)}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new i.EventEmitter,this.statusChanges=new i.EventEmitter}_calculateStatus(){return this._allControlsDisabled()?we:this.errors?ve:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(be)?be:this._anyControlsHaveStatus(ve)?ve:ye}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Se(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Te extends De{constructor(e=null,t,n){super(_e(t),Ee(n,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){me(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){me(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Ae extends De{constructor(e,t,n){super(_e(t),Ee(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,n={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t instanceof Te?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const n=this.controls[t];n&&e(n,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const n=this.controls[t];if(this.contains(t)&&e(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((e,r)=>{n=t(n,e,r)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class xe extends De{constructor(e,t,n){super(_e(t),Ee(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,n={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((e,n)=>{this.at(n)&&this.at(n).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof Te?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const ke={provide:ae,useExisting:(0,i.forwardRef)(()=>Oe)},Ne=(()=>Promise.resolve(null))();let Oe=(()=>{class e extends ae{constructor(e,t){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new i.EventEmitter,this.form=new Ae({},re(e),ie(t))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Ne.then(()=>{const t=this._findContainer(e.path);e.control=t.registerControl(e.name,e.control),de(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Ne.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name),me(this._directives,e)})}addFormGroup(e){Ne.then(()=>{const t=this._findContainer(e.path),n=new Ae({});(function(e,t){pe(e,t)})(n,e),t.registerControl(e.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Ne.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,t){Ne.then(()=>{this.form.get(e.path).setValue(t)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,t=this._directives,this.form._syncPendingControls(),t.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)}),this.ngSubmit.emit(e),!1;var t}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](W,10),i["\u0275\u0275directiveInject"](Z,10))},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("submit",function(e){return t.onSubmit(e)})("reset",function(){return t.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i["\u0275\u0275ProvidersFeature"]([ke]),i["\u0275\u0275InheritDefinitionFeature"]]}),e})();const Re={provide:ue,useExisting:(0,i.forwardRef)(()=>Pe)},Fe=(()=>Promise.resolve(null))();let Pe=(()=>{class e extends ue{constructor(e,t,n,r){super(),this.control=new Te,this._registered=!1,this.update=new i.EventEmitter,this._parent=e,this._setValidators(t),this._setAsyncValidators(n),this.valueAccessor=function(e,t){if(!t)return null;let n,r,i;return Array.isArray(t),t.forEach(e=>{e.constructor===K?n=e:Object.getPrototypeOf(e.constructor)===H?r=e:i=e}),i||r||n||null}(0,r)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?[...this._parent.path,this.name]:[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){de(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Fe.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const t=e.isDisabled.currentValue,n=""===t||t&&"false"!==t;Fe.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](ae,9),i["\u0275\u0275directiveInject"](W,10),i["\u0275\u0275directiveInject"](Z,10),i["\u0275\u0275directiveInject"](G,10))},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[i["\u0275\u0275ProvidersFeature"]([Re]),i["\u0275\u0275InheritDefinitionFeature"],i["\u0275\u0275NgOnChangesFeature"]]}),e})(),Me=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})();const Le={provide:G,useExisting:(0,i.forwardRef)(()=>Ve),multi:!0};let Ve=(()=>{class e extends H{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=i["\u0275\u0275getInheritedFactory"](e)))(n||e)}}(),e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("input",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouched()})},features:[i["\u0275\u0275ProvidersFeature"]([Le]),i["\u0275\u0275InheritDefinitionFeature"]]}),e})(),je=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({}),e})();const Ue={provide:W,useExisting:(0,i.forwardRef)(()=>Be),multi:!0};let Be=(()=>{class e{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?function(e){return Q(e.value)?{required:!0}:null}(e):null}registerOnValidatorChange(e){this._onChange=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,t){2&e&&i["\u0275\u0275attribute"]("required",t.required?"":null)},inputs:{required:"required"},features:[i["\u0275\u0275ProvidersFeature"]([Ue])]}),e})();const qe={provide:W,useExisting:(0,i.forwardRef)(()=>He),multi:!0};let He=(()=>{class e{constructor(){this._validator=J}ngOnChanges(e){"minlength"in e&&(this._createValidator(),this._onChange&&this._onChange())}validate(e){return null==this.minlength?null:this._validator(e)}registerOnValidatorChange(e){this._onChange=e}_createValidator(){var e;this._validator=(e="number"==typeof this.minlength?this.minlength:parseInt(this.minlength,10),t=>{return Q(t.value)||null==(n=t.value)||"number"!=typeof n.length?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null;var n})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&i["\u0275\u0275attribute"]("minlength",t.minlength?t.minlength:null)},inputs:{minlength:"minlength"},features:[i["\u0275\u0275ProvidersFeature"]([qe]),i["\u0275\u0275NgOnChangesFeature"]]}),e})();const Ge={provide:W,useExisting:(0,i.forwardRef)(()=>ze),multi:!0};let ze=(()=>{class e{constructor(){this._validator=J}ngOnChanges(e){"pattern"in e&&(this._createValidator(),this._onChange&&this._onChange())}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}_createValidator(){this._validator=function(e){if(!e)return J;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),e=>{if(Q(e.value))return null;const r=e.value;return t.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}(this.pattern)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&i["\u0275\u0275attribute"]("pattern",t.pattern?t.pattern:null)},inputs:{pattern:"pattern"},features:[i["\u0275\u0275ProvidersFeature"]([Ge]),i["\u0275\u0275NgOnChangesFeature"]]}),e})(),$e=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[je]]}),e})(),Ke=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[$e]}),e})();var Qe=n(4372);const We={apiKey:"AIzaSyC2SKS_xHHz-T9qDy0tzRp3x7MSK4lo8zk",authDomain:"clientpanelprod-d2d0c.firebaseapp.com",projectId:"clientpanelprod-d2d0c",storageBucket:"clientpanelprod-d2d0c.appspot.com",messagingSenderId:"104988345551",appId:"1:104988345551:web:ab95f43fb6326c2b13e3ba"};var Ze=n(57),Je=n(3637),Ye=n(5917),Xe=n(3282);function et(...e){return(0,Xe.J)(1)((0,Ye.of)(...e))}var tt=n(4869);function nt(...e){const t=e[e.length-1];return(0,tt.K)(t)?(e.pop(),n=>et(e,n,t)):t=>et(e,t)}var rt=n(7393);function it(){return e=>e.lift(new ot)}class ot{call(e,t){return t.subscribe(new st(e))}}class st extends rt.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}function at(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new ut(e,t,n))}}class ut{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new ct(e,this.accumulator,this.seed,this.hasSeed))}}class ct extends rt.L{constructor(e,t,n,r){super(e),this.accumulator=t,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}class lt{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new ht(e,this.compare,this.keySelector))}}class ht extends rt.L{constructor(e,t,n){super(e),this.keySelector=n,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:n}=this;t=n?n(e):e}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:e}=this;n=e(this.key,t)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=t,this.destination.next(e))}}function dt(e,t){return function(n){return n.lift(new ft(e,t))}}class ft{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new pt(e,this.predicate,this.thisArg))}}class pt extends rt.L{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}var gt=n(309),mt=n(2329),yt=n(9759),vt=n(4762),bt=n(4685),wt=n(300),_t=function(e,t){return(_t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function Ct(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var Et,It="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},St=St||{},Dt=It||self;function Tt(){}function At(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function xt(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var kt="closure_uid_"+(1e9*Math.random()>>>0),Nt=0;function Ot(e,t,n){return e.call.apply(e.bind,arguments)}function Rt(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ft(e,t,n){return(Ft=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ot:Rt).apply(null,arguments)}function Pt(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Mt(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function Lt(){this.s=this.s,this.o=this.o}var Vt={};Lt.prototype.s=!1,Lt.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,kt)&&e[kt]||(e[kt]=++Nt)}(this);delete Vt[e]}},Lt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var jt=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Ut=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function Bt(e){return Array.prototype.concat.apply([],arguments)}function qt(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Ht(e){return/^[\s\xa0]*$/.test(e)}var Gt,zt=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function $t(e,t){return-1!=e.indexOf(t)}function Kt(e,t){return e<t?-1:e>t?1:0}e:{var Qt=Dt.navigator;if(Qt){var Wt=Qt.userAgent;if(Wt){Gt=Wt;break e}}Gt=""}function Zt(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Jt(e){var t={};for(var n in e)t[n]=e[n];return t}var Yt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Xt(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<Yt.length;o++)n=Yt[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function en(e){return en[" "](e),e}en[" "]=Tt;var tn,nn,rn=$t(Gt,"Opera"),on=$t(Gt,"Trident")||$t(Gt,"MSIE"),sn=$t(Gt,"Edge"),an=sn||on,un=$t(Gt,"Gecko")&&!($t(Gt.toLowerCase(),"webkit")&&!$t(Gt,"Edge"))&&!($t(Gt,"Trident")||$t(Gt,"MSIE"))&&!$t(Gt,"Edge"),cn=$t(Gt.toLowerCase(),"webkit")&&!$t(Gt,"Edge");function ln(){var e=Dt.document;return e?e.documentMode:void 0}e:{var hn="",dn=(nn=Gt,un?/rv:([^\);]+)(\)|;)/.exec(nn):sn?/Edge\/([\d\.]+)/.exec(nn):on?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(nn):cn?/WebKit\/(\S+)/.exec(nn):rn?/(?:Version)[ \/]?(\S+)/.exec(nn):void 0);if(dn&&(hn=dn?dn[1]:""),on){var fn=ln();if(null!=fn&&fn>parseFloat(hn)){tn=String(fn);break e}}tn=hn}var pn={};var gn=Dt.document&&on&&(ln()||parseInt(tn,10))||void 0,mn=function(){if(!Dt.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Dt.addEventListener("test",Tt,t),Dt.removeEventListener("test",Tt,t)}catch(n){}return e}();function yn(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function vn(e,t){if(yn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(un){e:{try{en(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:bn[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&vn.Z.h.call(this)}}yn.prototype.h=function(){this.defaultPrevented=!0},Mt(vn,yn);var bn={2:"touch",3:"pen",4:"mouse"};vn.prototype.h=function(){vn.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var wn="closure_listenable_"+(1e6*Math.random()|0),_n=0;function Cn(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++_n,this.ca=this.fa=!1}function En(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function In(e){this.src=e,this.g={},this.h=0}function Sn(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=jt(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(En(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Dn(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}In.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=Dn(e,t,r,i);return-1<s?(t=e[s],n||(t.fa=!1)):((t=new Cn(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var Tn="closure_lm_"+(1e6*Math.random()|0),An={};function xn(e,t,n,r,i){if(r&&r.once)return Nn(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)xn(e,t[o],n,r,i);return null}return n=Vn(n),e&&e[wn]?e.N(t,n,xt(r)?!!r.capture:!!r,i):kn(e,t,n,!1,r,i)}function kn(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=xt(i)?!!i.capture:!!i,a=Mn(e);if(a||(e[Tn]=a=new In(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){var e=Pn;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)mn||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Fn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Nn(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Nn(e,t[o],n,r,i);return null}return n=Vn(n),e&&e[wn]?e.O(t,n,xt(r)?!!r.capture:!!r,i):kn(e,t,n,!0,r,i)}function On(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)On(e,t[o],n,r,i);else r=xt(r)?!!r.capture:!!r,n=Vn(n),e&&e[wn]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=Dn(o=e.g[t],n,r,i))&&(En(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--))):e&&(e=Mn(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Dn(t,n,r,i)),(n=-1<e?t[e]:null)&&Rn(n))}function Rn(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[wn])Sn(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Fn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Mn(t))?(Sn(n,e),0==n.h&&(n.src=null,t[Tn]=null)):En(e)}}}function Fn(e){return e in An?An[e]:An[e]="on"+e}function Pn(e,t){if(e.ca)e=!0;else{t=new vn(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Rn(e),e=n.call(r,t)}return e}function Mn(e){return(e=e[Tn])instanceof In?e:null}var Ln="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vn(e){return"function"==typeof e?e:(e[Ln]||(e[Ln]=function(t){return e.handleEvent(t)}),e[Ln])}function jn(){Lt.call(this),this.i=new In(this),this.P=this,this.I=null}function Un(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new yn(t,e);else if(t instanceof yn)t.target=t.target||e;else{var i=t;Xt(t=new yn(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=Bn(s,r,!0,t)&&i}if(i=Bn(s=t.g=e,r,!0,t)&&i,i=Bn(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Bn(s=t.g=n[o],r,!1,t)&&i}function Bn(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.ca&&s.capture==n){var a=s.listener,u=s.ia||s.src;s.fa&&Sn(e.i,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Mt(jn,Lt),jn.prototype[wn]=!0,jn.prototype.removeEventListener=function(e,t,n,r){On(this,e,t,n,r)},jn.prototype.M=function(){if(jn.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)En(n[r]);delete t.g[e],t.h--}}this.I=null},jn.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},jn.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var qn=Dt.JSON.stringify;function Hn(){var e=Jn,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Gn,zn=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=$n.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),$n=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,this.g=(e=this.g).next,e.next=null):e=this.i(),e},e}())(function(){return new Kn},function(e){return e.reset()}),Kn=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function Qn(e){Dt.setTimeout(function(){throw e},0)}function Wn(e,t){Gn||function(){var e=Dt.Promise.resolve(void 0);Gn=function(){e.then(Yn)}}(),Zn||(Gn(),Zn=!0),Jn.add(e,t)}var Zn=!1,Jn=new zn;function Yn(){for(var e;e=Hn();){try{e.h.call(e.g)}catch(n){Qn(n)}var t=$n;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Zn=!1}function Xn(e,t){jn.call(this),this.h=e||1,this.g=t||Dt,this.j=Ft(this.kb,this),this.l=Date.now()}function er(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function tr(e,t,n){if("function"==typeof e)n&&(e=Ft(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ft(e.handleEvent,e)}return 2147483647<Number(t)?-1:Dt.setTimeout(e,t||0)}function nr(e){e.g=tr(function(){e.g=null,e.i&&(e.i=!1,nr(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Mt(Xn,jn),(Et=Xn.prototype).da=!1,Et.S=null,Et.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Un(this,"tick"),this.da&&(er(this),this.start()))}},Et.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Et.M=function(){Xn.Z.M.call(this),er(this),delete this.g};var rr=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}_t(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:nr(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(Dt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(Lt);function ir(e){Lt.call(this),this.h=e,this.g={}}Mt(ir,Lt);var or=[];function sr(e,t,n,r){Array.isArray(n)||(n&&(or[0]=n.toString()),n=or);for(var i=0;i<n.length;i++){var o=xn(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function ar(e){Zt(e.g,function(e,t){this.g.hasOwnProperty(t)&&Rn(e)},e),e.g={}}function ur(){this.g=!0}function cr(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return qn(n)}catch(a){return t}}(e,n)+(r?" "+r:"")})}ir.prototype.M=function(){ir.Z.M.call(this),ar(this)},ir.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ur.prototype.Aa=function(){this.g=!1},ur.prototype.info=function(){};var lr={},hr=null;function dr(){return hr=hr||new jn}function fr(e){yn.call(this,lr.Ma,e)}function pr(e){var t=dr();Un(t,new fr(t,e))}function gr(e,t){yn.call(this,lr.STAT_EVENT,e),this.stat=t}function mr(e){var t=dr();Un(t,new gr(t,e))}function yr(e,t){yn.call(this,lr.Na,e),this.size=t}function vr(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return Dt.setTimeout(function(){e()},t)}lr.Ma="serverreachability",Mt(fr,yn),lr.STAT_EVENT="statevent",Mt(gr,yn),lr.Na="timingevent",Mt(yr,yn);var br={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},wr={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function _r(){}function Cr(){}_r.prototype.h=null;var Er,Ir={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Sr(){yn.call(this,"d")}function Dr(){yn.call(this,"c")}function Tr(){}function Ar(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new ir(this),this.P=kr,this.W=new Xn(e=an?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new xr}function xr(){this.i=null,this.g="",this.h=!1}Mt(Sr,yn),Mt(Dr,yn),Mt(Tr,_r),Tr.prototype.g=function(){return new XMLHttpRequest},Tr.prototype.i=function(){return{}},Er=new Tr;var kr=45e3,Nr={},Or={};function Rr(e,t,n){e.K=1,e.v=ni(Zr(t)),e.s=n,e.U=!0,Fr(e,null)}function Fr(e,t){e.F=Date.now(),Vr(e),e.A=Zr(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),gi(n.h,"t",r),e.C=0,n=e.l.H,e.h=new xr,e.g=yo(e.l,n?t:null,!e.s),0<e.O&&(e.L=new rr(Ft(e.Ia,e,e.g),e.O)),sr(e.V,e.g,"readystatechange",e.gb),t=e.H?Jt(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),pr(1),function(e,t,n,r,i,o){e.info(function(){if(e.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s})}(e.j,e.u,e.A,e.m,e.X,e.s)}function Pr(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function Mr(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Lr(e,n))==Or){4==t&&(e.o=4,mr(14),i=!1),cr(e.j,e.m,null,"[Incomplete Response]");break}if(r==Nr){e.o=4,mr(15),cr(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}cr(e.j,e.m,r,null),Hr(e,r)}Pr(e)&&r!=Or&&r!=Nr&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,mr(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),uo(t),t.L=!0,mr(11))):(cr(e.j,e.m,n,"[Invalid Chunked Response]"),qr(e),Br(e))}function Lr(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Or:(n=Number(t.substring(n,r)),isNaN(n)?Nr:(r+=1)+n>t.length?Or:(t=t.substr(r,n),e.C=r+n,t))}function Vr(e){e.Y=Date.now()+e.P,jr(e,e.P)}function jr(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=vr(Ft(e.eb,e),t)}function Ur(e){e.B&&(Dt.clearTimeout(e.B),e.B=null)}function Br(e){0==e.l.G||e.I||ho(e.l,e)}function qr(e){Ur(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,er(e.W),ar(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Hr(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Ci(n.i,e)))if(n.I=e.N,!e.J&&Ci(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;lo(n),Xi(n)}ao(n),mr(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=vr(Ft(n.ab,n),6e3));if(1>=_i(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else po(n,11)}else if((e.J||n.g==e)&&lo(n),!Ht(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var s=o[3];null!=s&&(n.ma=s,n.h.info("VER="+n.ma));var a=o[4];null!=a&&(n.za=a,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"==typeof u&&0<u&&(n.K=r=1.5*u,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&($t(l,"spdy")||$t(l,"quic")||$t(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(Ei(h,h.h),h.h=null))}if(r.D){var d=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.sa=d,ti(r.F,r.D,d))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var f=e;if((r=n).oa=mo(r,r.H?r.la:null,r.W),f.J){Ii(r.i,f);var p=f,g=r.K;g&&p.setTimeout(g),p.B&&(Ur(p),Vr(p)),r.g=f}else so(r);0<n.l.length&&no(n)}else"stop"!=o[0]&&"close"!=o[0]||po(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?po(n,7):Yi(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}pr(4)}catch(o){}}function Gr(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(At(e)||"string"==typeof e)Ut(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(At(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(At(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function zr(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof zr)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function $r(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Kr(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Kr(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Kr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Et=Ar.prototype).setTimeout=function(e){this.P=e},Et.gb=function(e){e=e.target;var t=this.L;t&&3==Ki(e)?t.l():this.Ia(e)},Et.Ia=function(e){try{if(e==this.g)e:{var t=Ki(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||an||this.g&&(this.h.h||this.g.ga()||Qi(this.g)))){this.I||4!=t||7==n||pr(8==n||0>=r?3:2),Ur(this);var i=this.g.ba();this.N=i;t:if(Pr(this)){var o=Qi(this.g);e="";var s=o.length,a=4==Ki(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){qr(this),Br(this);var u="";break t}this.h.i=new Dt.TextDecoder}for(n=0;n<s;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:a&&n==s-1});o.splice(0,s),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,o,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ht(c)){var h=c;break t}}h=null}if(!(i=h)){this.i=!1,this.o=3,mr(12),qr(this),Br(this);break e}cr(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Hr(this,i)}this.U?(Mr(this,t,u),an&&this.i&&3==t&&(sr(this.V,this.W,"tick",this.fb),this.W.start())):(cr(this.j,this.m,u,null),Hr(this,u)),4==t&&qr(this),this.i&&!this.I&&(4==t?ho(this.l,this):(this.i=!1,Vr(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,mr(12)):(this.o=0,mr(13)),qr(this),Br(this)}}}catch(t){}},Et.fb=function(){if(this.g){var e=Ki(this.g),t=this.g.ga();this.C<t.length&&(Ur(this),Mr(this,e,t),this.i&&4!=e&&Vr(this))}},Et.cancel=function(){this.I=!0,qr(this)},Et.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(pr(3),mr(17)),qr(this),this.o=2,Br(this)):jr(this,this.Y-e)},(Et=zr.prototype).R=function(){$r(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Et.T=function(){return $r(this),this.g.concat()},Et.get=function(e,t){return Kr(this.h,e)?this.h[e]:t},Et.set=function(e,t){Kr(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Et.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Qr=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Wr(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Wr){this.g=void 0!==t?t:e.g,Jr(this,e.j),this.s=e.s,Yr(this,e.i),Xr(this,e.m),this.l=e.l,t=e.h;var n=new hi;n.i=t.i,t.g&&(n.g=new zr(t.g),n.h=t.h),ei(this,n),this.o=e.o}else e&&(n=String(e).match(Qr))?(this.g=!!t,Jr(this,n[1]||"",!0),this.s=ri(n[2]||""),Yr(this,n[3]||"",!0),Xr(this,n[4]),this.l=ri(n[5]||"",!0),ei(this,n[6]||"",!0),this.o=ri(n[7]||"")):(this.g=!!t,this.h=new hi(null,this.g))}function Zr(e){return new Wr(e)}function Jr(e,t,n){e.j=n?ri(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Yr(e,t,n){e.i=n?ri(t,!0):t}function Xr(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function ei(e,t,n){t instanceof hi?(e.h=t,function(e,t){t&&!e.j&&(di(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(fi(this,t),gi(this,n,e))},e)),e.j=t}(e.h,e.g)):(n||(t=ii(t,ci)),e.h=new hi(t,e.g))}function ti(e,t,n){e.h.set(t,n)}function ni(e){return ti(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ri(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ii(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,oi),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function oi(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Wr.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ii(t,si,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(ii(t,si,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(ii(n,"/"==n.charAt(0)?ui:ai,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ii(n,li)),e.join("")};var si=/[#\/\?@]/g,ai=/[#\?:]/g,ui=/[#\?]/g,ci=/[#\?@]/g,li=/#/g;function hi(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function di(e){e.g||(e.g=new zr,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function fi(e,t){di(e),t=mi(e,t),Kr(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Kr((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&$r(e)))}function pi(e,t){return di(e),t=mi(e,t),Kr(e.g.h,t)}function gi(e,t,n){fi(e,t),0<n.length&&(e.i=null,e.g.set(mi(e,t),qt(n)),e.h+=n.length)}function mi(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Et=hi.prototype).add=function(e,t){di(this),this.i=null,e=mi(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Et.forEach=function(e,t){di(this),this.g.forEach(function(n,r){Ut(n,function(n){e.call(t,n,r,this)},this)},this)},Et.T=function(){di(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},Et.R=function(e){di(this);var t=[];if("string"==typeof e)pi(this,e)&&(t=Bt(t,this.g.get(mi(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Bt(t,e[n])}return t},Et.set=function(e,t){return di(this),this.i=null,pi(this,e=mi(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Et.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Et.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),e.push(s)}}return this.i=e.join("&")};var yi=function(e,t){this.h=e,this.g=t};function vi(e){this.l=e||bi,e=Dt.PerformanceNavigationTiming?0<(e=Dt.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(Dt.g&&Dt.g.Ea&&Dt.g.Ea()&&Dt.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var bi=10;function wi(e){return!!e.h||!!e.g&&e.g.size>=e.j}function _i(e){return e.h?1:e.g?e.g.size:0}function Ci(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ei(e,t){e.g?e.g.add(t):e.h=t}function Ii(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Si(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var i=Ct(e.g.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.D)}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return qt(e.i)}function Di(){}function Ti(){this.g=new Di}function Ai(e,t,n){var r=n||"";try{Gr(e,function(e,n){var i=e;xt(e)&&(i=qn(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(Lg){throw t.push(r+"type="+encodeURIComponent("_badmap")),Lg}}function xi(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function ki(e){this.l=e.$b||null,this.j=e.ib||!1}function Ni(e,t){jn.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Oi,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}vi.prototype.cancel=function(){var e,t;if(this.i=Si(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=Ct(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},Di.prototype.stringify=function(e){return Dt.JSON.stringify(e,void 0)},Di.prototype.parse=function(e){return Dt.JSON.parse(e,void 0)},Mt(ki,_r),ki.prototype.g=function(){return new Ni(this.l,this.j)},ki.prototype.i=function(e){return function(){return e}}({}),Mt(Ni,jn);var Oi=0;function Ri(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Fi(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Pi(e)}function Pi(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Et=Ni.prototype).open=function(e,t){if(this.readyState!=Oi)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Pi(this)},Et.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Dt).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Et.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Fi(this)),this.readyState=Oi},Et.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Pi(this)),this.g&&(this.readyState=3,Pi(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Dt.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ri(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Et.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Fi(this):Pi(this),3==this.readyState&&Ri(this)}},Et.Ua=function(e){this.g&&(this.response=this.responseText=e,Fi(this))},Et.Ta=function(e){this.g&&(this.response=e,Fi(this))},Et.ha=function(){this.g&&Fi(this)},Et.setRequestHeader=function(e,t){this.v.append(e,t)},Et.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Et.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ni.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Mi=Dt.JSON.parse;function Li(e){jn.call(this),this.headers=new zr,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Vi,this.K=this.L=!1}Mt(Li,jn);var Vi="",ji=/^https?$/i,Ui=["POST","PUT"];function Bi(e){return"content-type"==e.toLowerCase()}function qi(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Hi(e),zi(e)}function Hi(e){e.D||(e.D=!0,Un(e,"complete"),Un(e,"error"))}function Gi(e){if(e.h&&void 0!==St&&(!e.C[1]||4!=Ki(e)||2!=e.ba()))if(e.v&&4==Ki(e))tr(e.Fa,0,e);else if(Un(e,"readystatechange"),4==Ki(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.H).match(Qr)[1]||null;if(!o&&Dt.self&&Dt.self.location){var s=Dt.self.location.protocol;o=s.substr(0,s.length-1)}i=!ji.test(o?o.toLowerCase():"")}t=i}if(t)Un(e,"complete"),Un(e,"success");else{e.m=6;try{var a=2<Ki(e)?e.g.statusText:""}catch(u){a=""}e.j=a+" ["+e.ba()+"]",Hi(e)}}finally{zi(e)}}}function zi(e,t){if(e.g){$i(e);var n=e.g,r=e.C[0]?Tt:null;e.g=null,e.C=null,t||Un(e,"ready");try{n.onreadystatechange=r}catch(Lg){}}}function $i(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Dt.clearTimeout(e.A),e.A=null)}function Ki(e){return e.g?e.g.readyState:0}function Qi(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Vi:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Wi(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Zt(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):ti(e,t,n))}function Zi(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ji(e){this.za=0,this.l=[],this.h=new ur,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Zi("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Zi("baseRetryDelayMs",5e3,e),this.$a=Zi("retryDelaySeedMs",1e4,e),this.Ya=Zi("forwardChannelMaxRetries",2,e),this.ra=Zi("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new vi(e&&e.concurrentRequestLimit),this.Ca=new Ti,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Yi(e){if(eo(e),3==e.G){var t=e.V++,n=Zr(e.F);ti(n,"SID",e.J),ti(n,"RID",t),ti(n,"TYPE","terminate"),io(e,n),(t=new Ar(e,e.h,t,void 0)).K=2,t.v=ni(Zr(n)),n=!1,Dt.navigator&&Dt.navigator.sendBeacon&&(n=Dt.navigator.sendBeacon(t.v.toString(),"")),!n&&Dt.Image&&((new Image).src=t.v,n=!0),n||(t.g=yo(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Vr(t)}go(e)}function Xi(e){e.g&&(uo(e),e.g.cancel(),e.g=null)}function eo(e){Xi(e),e.u&&(Dt.clearTimeout(e.u),e.u=null),lo(e),e.i.cancel(),e.m&&("number"==typeof e.m&&Dt.clearTimeout(e.m),e.m=null)}function to(e,t){e.l.push(new yi(e.Za++,t)),3==e.G&&no(e)}function no(e){wi(e.i)||e.m||(e.m=!0,Wn(e.Ha,e),e.C=0)}function ro(e,t){var n;n=t?t.m:e.V++;var r=Zr(e.F);ti(r,"SID",e.J),ti(r,"RID",n),ti(r,"AID",e.U),io(e,r),e.o&&e.s&&Wi(r,e.o,e.s),n=new Ar(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=oo(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Ei(e.i,n),Rr(n,r,t)}function io(e,t){e.j&&Gr({},function(e,n){ti(t,n,e)})}function oo(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Ft(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].h)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),a=!1;else try{Ai(l,s,"req"+c+"_")}catch(Zo){r&&r(l)}}if(a){r=s.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function so(e){e.g||e.u||(e.Y=1,Wn(e.Ga,e),e.A=0)}function ao(e){return!(e.g||e.u||3<=e.A||(e.Y++,e.u=vr(Ft(e.Ga,e),fo(e,e.A)),e.A++,0))}function uo(e){null!=e.B&&(Dt.clearTimeout(e.B),e.B=null)}function co(e){e.g=new Ar(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Zr(e.oa);ti(t,"RID","rpc"),ti(t,"SID",e.J),ti(t,"CI",e.N?"0":"1"),ti(t,"AID",e.U),io(e,t),ti(t,"TYPE","xmlhttp"),e.o&&e.s&&Wi(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=ni(Zr(t)),n.s=null,n.U=!0,Fr(n,e)}function lo(e){null!=e.v&&(Dt.clearTimeout(e.v),e.v=null)}function ho(e,t){var n=null;if(e.g==t){lo(e),uo(e),e.g=null;var r=2}else{if(!Ci(e.i,t))return;n=t.D,Ii(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Un(r=dr(),new yr(r,n,t,i)),no(e)}else so(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(_i(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=vr(Ft(e.Ha,e,t),fo(e,e.C)),e.C++,0)))}(e,t)||2==r&&ao(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:po(e,5);break;case 4:po(e,10);break;case 3:po(e,6);break;default:po(e,2)}}function fo(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function po(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Ft(e.jb,e);n||(n=new Wr("//www.google.com/images/cleardot.gif"),Dt.location&&"http"==Dt.location.protocol||Jr(n,"https"),ni(n)),function(e,t){var n=new ur;if(Dt.Image){var r=new Image;r.onload=Pt(xi,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Pt(xi,n,r,"TestLoadImage: error",!1,t),r.onabort=Pt(xi,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Pt(xi,n,r,"TestLoadImage: timeout",!1,t),Dt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else mr(2);e.G=0,e.j&&e.j.va(t),go(e),eo(e)}function go(e){e.G=0,e.I=-1,e.j&&(0==Si(e.i).length&&0==e.l.length||(e.i.i.length=0,qt(e.l),e.l.length=0),e.j.ua())}function mo(e,t,n){var r=function(e){return e instanceof Wr?Zr(e):new Wr(e,void 0)}(n);if(""!=r.i)t&&Yr(r,t+"."+r.i),Xr(r,r.m);else{var i=Dt.location;r=function(e,t,n,r){var i=new Wr(null,void 0);return e&&Jr(i,e),t&&Yr(i,t),n&&Xr(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Zt(e.aa,function(e,t){ti(r,t,e)}),n=e.sa,(t=e.D)&&n&&ti(r,t,n),ti(r,"VER",e.ma),io(e,r),r}function yo(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Li(n&&e.Ba&&!e.qa?new ki({ib:!0}):e.qa)).L=e.H,t}function vo(){}function bo(){if(on&&!(10<=Number(gn)))throw Error("Environmental error: no available transport.")}function wo(e,t){jn.call(this),this.g=new Ji(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Ht(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ht(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new Eo(this)}function _o(e){Sr.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Co(){Dr.call(this),this.status=1}function Eo(e){this.g=e}(Et=Li.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Er.g(),this.C=function(e){return e.h||(e.h=e.i())}(this.u?this.u:Er),this.g.onreadystatechange=Ft(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(o){return void qi(this,o)}e=n||"";var i=new zr(this.headers);r&&Gr(r,function(e,t){i.set(t,e)}),r=function(e){e:{for(var t=Bi,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.T()),n=Dt.FormData&&e instanceof Dt.FormData,!(0<=jt(Ui,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(e,t){this.g.setRequestHeader(t,e)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{$i(this),0<this.B&&((this.K=function(e){return on&&function(){return e=pn,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){for(var e=0,t=zt(String(tn)).split("."),n=zt("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var o=t[i]||"",s=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==o[0].length&&0==s[0].length)break;e=Kt(0==o[1].length?0:parseInt(o[1],10),0==s[1].length?0:parseInt(s[1],10))||Kt(0==o[2].length,0==s[2].length)||Kt(o[2],s[2]),o=o[3],s=s[3]}while(0==e)}return 0<=e}();var e}()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ft(this.pa,this)):this.A=tr(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){qi(this,o)}},Et.pa=function(){void 0!==St&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Un(this,"timeout"),this.abort(8))},Et.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Un(this,"complete"),Un(this,"abort"),zi(this))},Et.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),zi(this,!0)),Li.Z.M.call(this)},Et.Fa=function(){this.s||(this.F||this.v||this.l?Gi(this):this.cb())},Et.cb=function(){Gi(this)},Et.ba=function(){try{return 2<Ki(this)?this.g.status:-1}catch(nn){return-1}},Et.ga=function(){try{return this.g?this.g.responseText:""}catch(nn){return""}},Et.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Mi(t)}},Et.Da=function(){return this.m},Et.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Et=Ji.prototype).ma=8,Et.G=1,Et.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Et.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Ar(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Xt(n=Jt(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=oo(this,t,r),ti(i=Zr(this.F),"RID",e),ti(i,"CVER",22),this.D&&ti(i,"X-HTTP-Session-Id",this.D),io(this,i),this.o&&n&&Wi(i,this.o,n),Ei(this.i,t),this.Ra&&ti(i,"TYPE","init"),this.ja?(ti(i,"$req",r),ti(i,"SID","null"),t.$=!0,Rr(t,i,null)):Rr(t,i,r),this.G=2}}else 3==this.G&&(e?ro(this,e):0==this.l.length||wi(this.i)||ro(this))},Et.Ga=function(){if(this.u=null,co(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=vr(Ft(this.bb,this),e)}},Et.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,mr(10),Xi(this),co(this))},Et.ab=function(){null!=this.v&&(this.v=null,Xi(this),ao(this),mr(19))},Et.jb=function(e){e?(this.h.info("Successfully pinged google.com"),mr(2)):(this.h.info("Failed to ping google.com"),mr(1))},(Et=vo.prototype).xa=function(){},Et.wa=function(){},Et.va=function(){},Et.ua=function(){},Et.Oa=function(){},bo.prototype.g=function(e,t){return new wo(e,t)},Mt(wo,jn),wo.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Wn(Ft(e.hb,e,t))),mr(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=mo(e,null,e.W),no(e)},wo.prototype.close=function(){Yi(this.g)},wo.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,to(this.g,t)}else this.v?((t={}).__data__=qn(e),to(this.g,t)):to(this.g,e)},wo.prototype.M=function(){this.g.j=null,delete this.j,Yi(this.g),delete this.g,wo.Z.M.call(this)},Mt(_o,Sr),Mt(Co,Dr),Mt(Eo,vo),Eo.prototype.xa=function(){Un(this.g,"a")},Eo.prototype.wa=function(e){Un(this.g,new _o(e))},Eo.prototype.va=function(e){Un(this.g,new Co(e))},Eo.prototype.ua=function(){Un(this.g,"b")},bo.prototype.createWebChannel=bo.prototype.g,wo.prototype.send=wo.prototype.u,wo.prototype.open=wo.prototype.m,wo.prototype.close=wo.prototype.close,br.NO_ERROR=0,br.TIMEOUT=8,br.HTTP_ERROR=6,wr.COMPLETE="complete",Cr.EventType=Ir,Ir.OPEN="a",Ir.CLOSE="b",Ir.ERROR="c",Ir.MESSAGE="d",jn.prototype.listen=jn.prototype.N,Li.prototype.listenOnce=Li.prototype.O,Li.prototype.getLastError=Li.prototype.La,Li.prototype.getLastErrorCode=Li.prototype.Da,Li.prototype.getStatus=Li.prototype.ba,Li.prototype.getResponseJson=Li.prototype.Qa,Li.prototype.getResponseText=Li.prototype.ga,Li.prototype.send=Li.prototype.ea;var Io=br,So=wr,Do=lr,To=ki,Ao=Cr,xo=Li,ko=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();ko.o=-1;var No={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Oo=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,vt.ZT)(t,e),t}(Error),Ro=new wt.Yd("@firebase/firestore");function Fo(){return Ro.logLevel}function Po(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Ro.logLevel<=wt.in.DEBUG){var r=t.map(Vo);Ro.debug.apply(Ro,(0,vt.ev)(["Firestore (8.10.0): "+e],r))}}function Mo(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Ro.logLevel<=wt.in.ERROR){var r=t.map(Vo);Ro.error.apply(Ro,(0,vt.ev)(["Firestore (8.10.0): "+e],r))}}function Lo(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Ro.logLevel<=wt.in.WARN){var r=t.map(Vo);Ro.warn.apply(Ro,(0,vt.ev)(["Firestore (8.10.0): "+e],r))}}function Vo(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(Lg){return e}}function jo(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.10.0) INTERNAL ASSERTION FAILED: "+e;throw Mo(t),new Error(t)}function Uo(e,t){e||jo()}function Bo(e,t){return e}function qo(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Ho=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=qo(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function Go(e,t){return e<t?-1:e>t?1:0}function zo(e,t,n){return e.length===t.length&&e.every(function(e,r){return n(e,t[r])})}function $o(e){return e+"\0"}var Ko=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Oo(No.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Oo(No.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Oo(No.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oo(No.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?Go(this.nanoseconds,e.nanoseconds):Go(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),Qo=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Ko(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function Wo(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Zo(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Jo(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Yo=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&jo(),void 0===n?n=e.length-t:n>e.length-t&&jo(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(e){n.push(e)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),Xo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,vt.ZT)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Oo(No.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(e){return e.length>0}))}return new t(r)},t.emptyPath=function(){return new t([])},t}(Yo),es=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ts=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,vt.ZT)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return es.test(e)},t.prototype.canonicalString=function(){return this.toArray().map(function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Oo(No.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<e.length;){var a=e[i];if("\\"===a){if(i+1===e.length)throw new Oo(No.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Oo(No.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Oo(No.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(Yo),ns=function(){function e(e){this.fields=e,e.sort(ts.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return zo(this.fields,e.fields,function(e,t){return e.isEqual(t)})},e}(),rs=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return btoa(this.binaryString)},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return Go(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();rs.EMPTY_BYTE_STRING=new rs("");var is=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function os(e){if(Uo(!!e),"string"==typeof e){var t=0,n=is.exec(e);if(Uo(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ss(e.seconds),nanos:ss(e.nanos)}}function ss(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function as(e){return"string"==typeof e?rs.fromBase64String(e):rs.fromUint8Array(e)}function us(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function cs(e){var t=e.mapValue.fields.__previous_value__;return us(t)?cs(t):t}function ls(e){var t=os(e.mapValue.fields.__local_write_time__.timestampValue);return new Ko(t.seconds,t.nanos)}function hs(e){return null==e}function ds(e){return 0===e&&1/e==-1/0}function fs(e){return"number"==typeof e&&Number.isInteger(e)&&!ds(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var ps=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(Xo.fromString(t))},e.fromName=function(t){return new e(Xo.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===Xo.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return Xo.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new Xo(t.slice()))},e}();function gs(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?us(e)?4:10:jo()}function ms(e,t){var n=gs(e);if(n!==gs(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ls(e).isEqual(ls(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=os(e.timestampValue),r=os(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return as(e.bytesValue).isEqual(as(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ss(e.geoPointValue.latitude)===ss(t.geoPointValue.latitude)&&ss(e.geoPointValue.longitude)===ss(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ss(e.integerValue)===ss(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=ss(e.doubleValue),r=ss(t.doubleValue);return n===r?ds(n)===ds(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return zo(e.arrayValue.values||[],t.arrayValue.values||[],ms);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Wo(n)!==Wo(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ms(n[i],r[i])))return!1;return!0}(e,t);default:return jo()}}function ys(e,t){return void 0!==(e.values||[]).find(function(e){return ms(e,t)})}function vs(e,t){var n=gs(e),r=gs(t);if(n!==r)return Go(n,r);switch(n){case 0:return 0;case 1:return Go(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=ss(e.integerValue||e.doubleValue),r=ss(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return bs(e.timestampValue,t.timestampValue);case 4:return bs(ls(e),ls(t));case 5:return Go(e.stringValue,t.stringValue);case 6:return function(e,t){var n=as(e),r=as(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Go(n[i],r[i]);if(0!==o)return o}return Go(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Go(ss(e.latitude),ss(t.latitude));return 0!==n?n:Go(ss(e.longitude),ss(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=vs(n[i],r[i]);if(o)return o}return Go(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Go(r[s],o[s]);if(0!==a)return a;var u=vs(n[r[s]],i[o[s]]);if(0!==u)return u}return Go(r.length,o.length)}(e.mapValue,t.mapValue);default:throw jo()}}function bs(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Go(e,t);var n=os(e),r=os(t),i=Go(n.seconds,r.seconds);return 0!==i?i:Go(n.nanos,r.nanos)}function ws(e){return _s(e)}function _s(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=os(e);return"time("+t.seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?as(e.bytesValue).toBase64():"referenceValue"in e?ps.fromName(e.referenceValue).toString():"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=_s(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:t+=",",t+=o+":"+_s(e.fields[o])}return t+"}"}(e.mapValue):jo();var t}function Cs(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function Es(e){return!!e&&"integerValue"in e}function Is(e){return!!e&&"arrayValue"in e}function Ss(e){return!!e&&"nullValue"in e}function Ds(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ts(e){return!!e&&"mapValue"in e}function As(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Zo(e.mapValue.fields,function(e,n){return t.mapValue.fields[e]=As(n)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=As(e.arrayValue.values[r]);return n}return Object.assign({},e)}var xs=function(){function e(e){this.value=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Ts(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},e.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=As(t)},e.prototype.setAll=function(e){var t=this,n=ts.emptyPath(),r={},i=[];e.forEach(function(e,o){if(!n.isImmediateParentOf(o)){var s=t.getFieldsMap(n);t.applyChanges(s,r,i),r={},i=[],n=o.popLast()}e?r[o.lastSegment()]=As(e):i.push(o.lastSegment())});var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},e.prototype.delete=function(e){var t=this.field(e.popLast());Ts(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},e.prototype.isEqual=function(e){return ms(this.value,e.value)},e.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Ts(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields},e.prototype.applyChanges=function(e,t,n){Zo(t,function(t,n){return e[t]=n});for(var r=0,i=n;r<i.length;r++)delete e[i[r]]},e.prototype.clone=function(){return new e(As(this.value))},e}();function ks(e){var t=[];return Zo(e.fields,function(e,n){var r=new ts([e]);if(Ts(n)){var i=ks(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,s=i;o<s.length;o++)t.push(r.child(s[o]))}else t.push(r)}),new ns(t)}var Ns=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,Qo.min(),xs.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,xs.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,xs.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=xs.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=xs.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),Os=function(e,t,n,r,i,o,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function Rs(e,t,n,r,i,o,s){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Os(e,t,n,r,i,o,s)}function Fs(e){var t=Bo(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(e){return function(e){return e.field.canonicalString()+e.op.toString()+ws(e.value)}(e)}).join(","),n+="|ob:",n+=t.orderBy.map(function(e){return function(e){return e.field.canonicalString()+e.dir}(e)}).join(","),hs(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Ks(t.startAt)),t.endAt&&(n+="|ub:",n+=Ks(t.endAt)),t.h=n}return t.h}function Ps(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Ws(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if((i=e.filters[r]).op!==(o=t.filters[r]).op||!i.field.isEqual(o.field)||!ms(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Js(e.startAt,t.startAt)&&Js(e.endAt,t.endAt)}function Ms(e){return ps.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Ls=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return(0,vt.ZT)(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new Vs(e,n,r):"array-contains"===n?new qs(e,r):"in"===n?new Hs(e,r):"not-in"===n?new Gs(e,r):"array-contains-any"===n?new zs(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new js(e,n):new Us(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(vs(t,this.value)):null!==t&&gs(this.value)===gs(t)&&this.m(vs(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return jo()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),Vs=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=ps.fromName(r.referenceValue),i}return(0,vt.ZT)(t,e),t.prototype.matches=function(e){var t=ps.comparator(e.key,this.key);return this.m(t)},t}(Ls),js=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=Bs(0,n),r}return(0,vt.ZT)(t,e),t.prototype.matches=function(e){return this.keys.some(function(t){return t.isEqual(e.key)})},t}(Ls),Us=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=Bs(0,n),r}return(0,vt.ZT)(t,e),t.prototype.matches=function(e){return!this.keys.some(function(t){return t.isEqual(e.key)})},t}(Ls);function Bs(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(e){return ps.fromName(e.referenceValue)})}var qs=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return(0,vt.ZT)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return Is(t)&&ys(t.arrayValue,this.value)},t}(Ls),Hs=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return(0,vt.ZT)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&ys(this.value.arrayValue,t)},t}(Ls),Gs=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return(0,vt.ZT)(t,e),t.prototype.matches=function(e){if(ys(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!ys(this.value.arrayValue,t)},t}(Ls),zs=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return(0,vt.ZT)(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!Is(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(e){return ys(t.value.arrayValue,e)})},t}(Ls),$s=function(e,t){this.position=e,this.before=t};function Ks(e){return(e.before?"b":"a")+":"+e.position.map(function(e){return ws(e)}).join(",")}var Qs=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function Ws(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Zs(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],s=e.position[i];if(r=o.field.isKeyField()?ps.comparator(ps.fromName(s.referenceValue),n.key):vs(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Js(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!ms(e.position[n],t.position[n]))return!1;return!0}var Ys=function(e,t,n,r,i,o,s,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null};function Xs(e,t,n,r,i,o,s,a){return new Ys(e,t,n,r,i,o,s,a)}function ea(e){return new Ys(e)}function ta(e){return!hs(e.limit)&&"F"===e.limitType}function na(e){return!hs(e.limit)&&"L"===e.limitType}function ra(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function ia(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function oa(e){return null!==e.collectionGroup}function sa(e){var t=Bo(e);if(null===t.p){t.p=[];var n=ia(t),r=ra(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new Qs(n)),t.p.push(new Qs(ts.keyField(),"asc"));else{for(var i=!1,o=0,s=t.explicitOrderBy;o<s.length;o++){var a=s[o];t.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Qs(ts.keyField(),u))}}}return t.p}function aa(e){var t=Bo(e);if(!t.T)if("F"===t.limitType)t.T=Rs(t.path,t.collectionGroup,sa(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=sa(t);r<i.length;r++){var o=i[r];n.push(new Qs(o.field,"desc"===o.dir?"asc":"desc"))}var s=t.endAt?new $s(t.endAt.position,!t.endAt.before):null,a=t.startAt?new $s(t.startAt.position,!t.startAt.before):null;t.T=Rs(t.path,t.collectionGroup,n,t.filters,t.limit,s,a)}return t.T}function ua(e,t,n){return new Ys(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ca(e,t){return Ps(aa(e),aa(t))&&e.limitType===t.limitType}function la(e){return Fs(aa(e))+"|lt:"+e.limitType}function ha(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map(function(e){return(t=e).field.canonicalString()+" "+t.op+" "+ws(t.value);var t}).join(", ")+"]"),hs(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map(function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)}).join(", ")+"]"),e.startAt&&(t+=", startAt: "+Ks(e.startAt)),e.endAt&&(t+=", endAt: "+Ks(e.endAt)),"Target("+t+")"}(aa(e))+"; limitType="+e.limitType+")"}function da(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ps.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!Zs(e.startAt,sa(e),t)||e.endAt&&Zs(e.endAt,sa(e),t))}(e,t)}function fa(e){return function(t,n){for(var r=!1,i=0,o=sa(e);i<o.length;i++){var s=o[i],a=pa(s,t,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function pa(e,t,n){var r=e.field.isKeyField()?ps.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?vs(r,i):jo()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return jo()}}function ga(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ds(t)?"-0":t}}function ma(e){return{integerValue:""+e}}function ya(e,t){return fs(t)?ma(t):ga(e,t)}var va=function(){this._=void 0};function ba(e,t,n){return e instanceof Ca?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Ea?Ia(e,t):e instanceof Sa?Da(e,t):function(e,t){var n=_a(e,t),r=Aa(n)+Aa(e.A);return Es(n)&&Es(e.A)?ma(r):ga(e.R,r)}(e,t)}function wa(e,t,n){return e instanceof Ea?Ia(e,t):e instanceof Sa?Da(e,t):n}function _a(e,t){return e instanceof Ta?Es(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Ca=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,vt.ZT)(t,e),t}(va),Ea=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return(0,vt.ZT)(t,e),t}(va);function Ia(e,t){for(var n=xa(t),r=function(e){n.some(function(t){return ms(t,e)})||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Sa=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return(0,vt.ZT)(t,e),t}(va);function Da(e,t){for(var n=xa(t),r=function(e){n=n.filter(function(t){return!ms(t,e)})},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ta=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return(0,vt.ZT)(t,e),t}(va);function Aa(e){return ss(e.integerValue||e.doubleValue)}function xa(e){return Is(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var ka=function(e,t){this.field=e,this.transform=t},Na=function(e,t){this.version=e,this.transformResults=t},Oa=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function Ra(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Fa=function(){};function Pa(e,t,n){e instanceof Ua?function(e,t,n){var r=e.value.clone(),i=Ha(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ba?function(e,t,n){if(Ra(e.precondition,t)){var r=Ha(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(qa(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ma(e,t,n){e instanceof Ua?function(e,t,n){if(Ra(e.precondition,t)){var r=e.value.clone(),i=Ga(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(ja(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Ba?function(e,t,n){if(Ra(e.precondition,t)){var r=Ga(e.fieldTransforms,n,t),i=t.data;i.setAll(qa(e)),i.setAll(r),t.convertToFoundDocument(ja(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Ra(e.precondition,t)&&t.convertToNoDocument(Qo.min())}(e,t)}function La(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],s=t.data.field(o.field),a=_a(o.transform,s||null);null!=a&&(null==n&&(n=xs.empty()),n.set(o.field,a))}return n||null}function Va(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&zo(e,t,function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ea&&t instanceof Ea||e instanceof Sa&&t instanceof Sa?zo(e.elements,t.elements,ms):e instanceof Ta&&t instanceof Ta?ms(e.A,t.A):e instanceof Ca&&t instanceof Ca}(e.transform,t.transform)}(e,t)})}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function ja(e){return e.isFoundDocument()?e.version:Qo.min()}var Ua=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return(0,vt.ZT)(t,e),t}(Fa),Ba=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=e.call(this)||this).key=t,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return(0,vt.ZT)(t,e),t}(Fa);function qa(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function Ha(e,t,n){var r=new Map;Uo(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,wa(s,a,n[i]))}return r}function Ga(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,ba(a,u,t))}return r}var za,$a,Ka=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return(0,vt.ZT)(t,e),t}(Fa),Qa=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return(0,vt.ZT)(t,e),t}(Fa),Wa=function(e){this.count=e};function Za(e){switch(e){case No.OK:return jo();case No.CANCELLED:case No.UNKNOWN:case No.DEADLINE_EXCEEDED:case No.RESOURCE_EXHAUSTED:case No.INTERNAL:case No.UNAVAILABLE:case No.UNAUTHENTICATED:return!1;case No.INVALID_ARGUMENT:case No.NOT_FOUND:case No.ALREADY_EXISTS:case No.PERMISSION_DENIED:case No.FAILED_PRECONDITION:case No.ABORTED:case No.OUT_OF_RANGE:case No.UNIMPLEMENTED:case No.DATA_LOSS:return!0;default:return jo()}}function Ja(e){if(void 0===e)return Mo("GRPC error has no .code"),No.UNKNOWN;switch(e){case za.OK:return No.OK;case za.CANCELLED:return No.CANCELLED;case za.UNKNOWN:return No.UNKNOWN;case za.DEADLINE_EXCEEDED:return No.DEADLINE_EXCEEDED;case za.RESOURCE_EXHAUSTED:return No.RESOURCE_EXHAUSTED;case za.INTERNAL:return No.INTERNAL;case za.UNAVAILABLE:return No.UNAVAILABLE;case za.UNAUTHENTICATED:return No.UNAUTHENTICATED;case za.INVALID_ARGUMENT:return No.INVALID_ARGUMENT;case za.NOT_FOUND:return No.NOT_FOUND;case za.ALREADY_EXISTS:return No.ALREADY_EXISTS;case za.PERMISSION_DENIED:return No.PERMISSION_DENIED;case za.FAILED_PRECONDITION:return No.FAILED_PRECONDITION;case za.ABORTED:return No.ABORTED;case za.OUT_OF_RANGE:return No.OUT_OF_RANGE;case za.UNIMPLEMENTED:return No.UNIMPLEMENTED;case za.DATA_LOSS:return No.DATA_LOSS;default:return jo()}}($a=za||(za={}))[$a.OK=0]="OK",$a[$a.CANCELLED=1]="CANCELLED",$a[$a.UNKNOWN=2]="UNKNOWN",$a[$a.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$a[$a.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$a[$a.NOT_FOUND=5]="NOT_FOUND",$a[$a.ALREADY_EXISTS=6]="ALREADY_EXISTS",$a[$a.PERMISSION_DENIED=7]="PERMISSION_DENIED",$a[$a.UNAUTHENTICATED=16]="UNAUTHENTICATED",$a[$a.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$a[$a.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$a[$a.ABORTED=10]="ABORTED",$a[$a.OUT_OF_RANGE=11]="OUT_OF_RANGE",$a[$a.UNIMPLEMENTED=12]="UNIMPLEMENTED",$a[$a.INTERNAL=13]="INTERNAL",$a[$a.UNAVAILABLE=14]="UNAVAILABLE",$a[$a.DATA_LOSS=15]="DATA_LOSS";var Ya=function(){function e(e,t){this.comparator=e,this.root=t||eu.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,eu.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,eu.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal(function(t,n){return e(t,n),!1})},e.prototype.toString=function(){var e=[];return this.inorderTraversal(function(t,n){return e.push(t+":"+n),!1}),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new Xa(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new Xa(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Xa(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new Xa(this.root,e,this.comparator,!0)},e}(),Xa=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),eu=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw jo();if(this.right.isRed())throw jo();var e=this.left.check();if(e!==this.right.check())throw jo();return e+(this.isRed()?0:1)},e}();eu.EMPTY=null,eu.RED=!0,eu.BLACK=!1,eu.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw jo()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw jo()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw jo()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw jo()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw jo()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new eu(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var tu=function(){function e(e){this.comparator=e,this.data=new Ya(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal(function(t,n){return e(t),!1})},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new nu(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new nu(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach(function(e){t=t.add(e)}),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach(function(t){e.push(t)}),e},e.prototype.toString=function(){var e=[];return this.forEach(function(t){return e.push(t)}),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),nu=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),ru=new Ya(ps.comparator);function iu(){return ru}var ou=new Ya(ps.comparator);function su(){return ou}var au=new Ya(ps.comparator);function uu(){return au}var cu=new tu(ps.comparator);function lu(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=cu,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var hu=new tu(Go);function du(){return hu}var fu=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,pu.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Qo.min(),r,du(),iu(),lu())},e}(),pu=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(rs.EMPTY_BYTE_STRING,n,lu(),lu(),lu())},e}(),gu=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},mu=function(e,t){this.targetId=e,this.V=t},yu=function(e,t,n,r){void 0===n&&(n=rs.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},vu=function(){function e(){this.S=0,this.D=_u(),this.C=rs.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},e.prototype.M=function(){var e=lu(),t=lu(),n=lu();return this.D.forEach(function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:jo()}}),new pu(this.C,this.N,e,t,n)},e.prototype.L=function(){this.k=!1,this.D=_u()},e.prototype.B=function(e,t){this.k=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),bu=function(){function e(e){this.W=e,this.G=new Map,this.H=iu(),this.J=wu(),this.Y=new tu(Go)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)this.tt(r=o[i],e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.O(e.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(e.resumeToken);break;case 2:r.K(),r.F||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.O(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.O(e.resumeToken));break;default:jo()}})},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach(function(e,r){n.st(r)&&t(r)})},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if(Ms(i))if(0===n){var o=new ps(i.path);this.tt(t,o,Ns.newNoDocument(o,Qo.min()))}else Uo(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach(function(r,i){var o=t.ot(i);if(o){if(r.current&&Ms(o.target)){var s=new ps(o.target.path);null!==t.H.get(s)||t.at(i,s)||t.tt(i,s,Ns.newNoDocument(s,e))}r.$&&(n.set(i,r.M()),r.L())}});var r=lu();this.J.forEach(function(e,n){var i=!0;n.forEachWhile(function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(e))});var i=new fu(e,n,this.Y,this.H,r);return this.H=iu(),this.J=wu(),this.Y=new tu(Go),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new vu,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new tu(Go),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||Po("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.F?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new vu),this.W.getRemoteKeysForTarget(e).forEach(function(n){t.tt(e,n,null)})},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function wu(){return new Ya(ps.comparator)}function _u(){return new Ya(ps.comparator)}var Cu={asc:"ASCENDING",desc:"DESCENDING"},Eu={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Iu=function(e,t){this.databaseId=e,this.I=t};function Su(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function Du(e,t){return e.I?t.toBase64():t.toUint8Array()}function Tu(e,t){return Su(e,t.toTimestamp())}function Au(e){return Uo(!!e),Qo.fromTimestamp(function(e){var t=os(e);return new Ko(t.seconds,t.nanos)}(e))}function xu(e,t){return function(e){return new Xo(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function ku(e){var t=Xo.fromString(e);return Uo(ec(t)),t}function Nu(e,t){return xu(e.databaseId,t.path)}function Ou(e,t){var n=ku(t);if(n.get(1)!==e.databaseId.projectId)throw new Oo(No.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Oo(No.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ps(Mu(n))}function Ru(e,t){return xu(e.databaseId,t)}function Fu(e){var t=ku(e);return 4===t.length?Xo.emptyPath():Mu(t)}function Pu(e){return new Xo(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Mu(e){return Uo(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Lu(e,t,n){return{name:Nu(e,t),fields:n.value.mapValue.fields}}function Vu(e,t,n){var r=Ou(e,t.name),i=Au(t.updateTime),o=new xs({mapValue:{fields:t.fields}}),s=Ns.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function ju(e,t){var n;if(t instanceof Ua)n={update:Lu(e,t.key,t.value)};else if(t instanceof Ka)n={delete:Nu(e,t.key)};else if(t instanceof Ba)n={update:Lu(e,t.key,t.data),updateMask:Xu(t.fieldMask)};else{if(!(t instanceof Qa))return jo();n={verify:Nu(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(e){return function(e,t){var n=t.transform;if(n instanceof Ca)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ea)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Sa)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ta)return{fieldPath:t.field.canonicalString(),increment:n.A};throw jo()}(0,e)})),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Tu(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:jo()}(e,t.precondition)),n}function Uu(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Oa.updateTime(Au(e.updateTime)):void 0!==e.exists?Oa.exists(e.exists):Oa.none()}(t.currentDocument):Oa.none(),r=t.updateTransforms?t.updateTransforms.map(function(t){return function(e,t){var n=null;"setToServerValue"in t?(Uo("REQUEST_TIME"===t.setToServerValue),n=new Ca):"appendMissingElements"in t?n=new Ea(t.appendMissingElements.values||[]):"removeAllFromArray"in t?n=new Sa(t.removeAllFromArray.values||[]):"increment"in t?n=new Ta(e,t.increment):jo();var r=ts.fromServerFormat(t.fieldPath);return new ka(r,n)}(e,t)}):[];if(t.update){var i=Ou(e,t.update.name),o=new xs({mapValue:{fields:t.update.fields}});if(t.updateMask){var s=function(e){return new ns((e.fieldPaths||[]).map(function(e){return ts.fromServerFormat(e)}))}(t.updateMask);return new Ba(i,o,s,n,r)}return new Ua(i,o,n,r)}if(t.delete){var a=Ou(e,t.delete);return new Ka(a,n)}if(t.verify){var u=Ou(e,t.verify);return new Qa(u,n)}return jo()}function Bu(e,t){return{documents:[Ru(e,t.path)]}}function qu(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Ru(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Ru(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map(function(e){return function(e){if("=="===e.op){if(Ds(e.value))return{unaryFilter:{field:Wu(e.field),op:"IS_NAN"}};if(Ss(e.value))return{unaryFilter:{field:Wu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ds(e.value))return{unaryFilter:{field:Wu(e.field),op:"IS_NOT_NAN"}};if(Ss(e.value))return{unaryFilter:{field:Wu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wu(e.field),op:Qu(e.op),value:e.value}}}(e)});return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map(function(e){return function(e){return{field:Wu(e.field),direction:Ku(e.dir)}}(e)})}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(e,t){return e.I||hs(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=zu(t.startAt)),t.endAt&&(n.structuredQuery.endAt=zu(t.endAt)),n}function Hu(e){var t=Fu(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Uo(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var s=[];n.where&&(s=Gu(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(e){return function(e){return new Qs(Zu(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}));var u=null;n.limit&&(u=function(e){var t;return hs(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=$u(n.startAt));var l=null;return n.endAt&&(l=$u(n.endAt)),Xs(t,i,a,s,u,"F",c,l)}function Gu(e){return e?void 0!==e.unaryFilter?[Yu(e)]:void 0!==e.fieldFilter?[Ju(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(function(e){return Gu(e)}).reduce(function(e,t){return e.concat(t)}):jo():[]}function zu(e){return{before:e.before,values:e.position}}function $u(e){return new $s(e.values||[],!!e.before)}function Ku(e){return Cu[e]}function Qu(e){return Eu[e]}function Wu(e){return{fieldPath:e.canonicalString()}}function Zu(e){return ts.fromServerFormat(e.fieldPath)}function Ju(e){return Ls.create(Zu(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return jo()}}(e.fieldFilter.op),e.fieldFilter.value)}function Yu(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Zu(e.unaryFilter.field);return Ls.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Zu(e.unaryFilter.field);return Ls.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Zu(e.unaryFilter.field);return Ls.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Zu(e.unaryFilter.field);return Ls.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return jo()}}function Xu(e){var t=[];return e.fields.forEach(function(e){return t.push(e.canonicalString())}),{fieldPaths:t}}function ec(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function tc(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=rc(t)),t=nc(e.get(n),t);return rc(t)}function nc(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function rc(e){return e+"\x01\x01"}function ic(e){var t=e.length;if(Uo(t>=2),2===t)return Uo("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Xo.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var s=e.indexOf("\x01",o);switch((s<0||s>n)&&jo(),e.charAt(s+1)){case"\x01":var a=e.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=e.substring(o,s),i+="\0";break;case"\x11":i+=e.substring(o,s+1);break;default:jo()}o=s+2}return new Xo(r)}var oc=function(e,t){this.seconds=e,this.nanoseconds=t},sc=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};sc.store="owner",sc.key="owner";var ac=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};ac.store="mutationQueues",ac.keyPath="userId";var uc=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};uc.store="mutations",uc.keyPath="batchId",uc.userMutationsIndex="userMutationsIndex",uc.userMutationsKeyPath=["userId","batchId"];var cc=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,tc(t)]},e.key=function(e,t,n){return[e,tc(t),n]},e}();cc.store="documentMutations",cc.PLACEHOLDER=new cc;var lc=function(e,t){this.path=e,this.readTime=t},hc=function(e,t){this.path=e,this.version=t},dc=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};dc.store="remoteDocuments",dc.readTimeIndex="readTimeIndex",dc.readTimeIndexPath="readTime",dc.collectionReadTimeIndex="collectionReadTimeIndex",dc.collectionReadTimeIndexPath=["parentPath","readTime"];var fc=function(e){this.byteSize=e};fc.store="remoteDocumentGlobal",fc.key="remoteDocumentGlobalKey";var pc=function(e,t,n,r,i,o,s){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};pc.store="targets",pc.keyPath="targetId",pc.queryTargetsIndexName="queryTargetsIndex",pc.queryTargetsKeyPath=["canonicalId","targetId"];var gc=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};gc.store="targetDocuments",gc.keyPath=["targetId","path"],gc.documentTargetsIndex="documentTargetsIndex",gc.documentTargetsKeyPath=["path","targetId"];var mc=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};mc.key="targetGlobalKey",mc.store="targetGlobal";var yc=function(e,t){this.collectionId=e,this.parent=t};yc.store="collectionParents",yc.keyPath=["collectionId","parent"];var vc=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};vc.store="clientMetadata",vc.keyPath="clientId";var bc=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};bc.store="bundles",bc.keyPath="bundleId";var wc=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};wc.store="namedQueries",wc.keyPath="name";var _c=(0,vt.ev)((0,vt.ev)([],(0,vt.ev)((0,vt.ev)([],(0,vt.ev)((0,vt.ev)([],(0,vt.ev)((0,vt.ev)([],[ac.store,uc.store,cc.store,dc.store,pc.store,sc.store,mc.store,gc.store]),[vc.store])),[fc.store])),[yc.store])),[bc.store,wc.store]),Cc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ec=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(e){return e()})},e}(),Ic=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},Sc=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)},function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)})}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&jo(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}})},e.prototype.toPromise=function(){var e=this;return new Promise(function(t,n){e.next(t,n)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(e,n){e(t)})},e.reject=function(t){return new e(function(e,n){n(t)})},e.waitFor=function(t){return new e(function(e,n){var r=0,i=0,o=!1;t.forEach(function(t){++r,t.next(function(){++i,o&&i===r&&e()},function(e){return n(e)})}),o=!0,i===r&&e()})},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next(function(n){return n?e.resolve(n):t()})},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach(function(e,i){r.push(t.call(n,e,i))}),this.waitFor(r)},e}(),Dc=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new Ic,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new xc(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=Fc(t.target.error);n.ft.reject(new xc(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new xc(n,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(Po("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new Nc(t)},e}(),Tc=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,12.2===e._t((0,bt.z$)())&&Mo("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return Po("SimpleDb","Removing database:",e),Oc(window.indexedDB.deleteDatabase(e)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var t=(0,bt.z$)(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Tt)},e.It=function(e,t){return e.store(t)},e._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.At=function(e){return(0,vt.mG)(this,void 0,void 0,function(){var t,n=this;return(0,vt.Jh)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Po("SimpleDb","Opening database:",this.name),t=this,[4,new Promise(function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){t(e.target.result)},i.onblocked=function(){r(new xc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;r("VersionError"===n.name?new Oo(No.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new xc(e,n))},i.onupgradeneeded=function(e){Po("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion),n.wt.Rt(e.target.result,i.transaction,e.oldVersion,n.version).next(function(){Po("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}})})},e.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return(0,vt.mG)(this,void 0,void 0,function(){var i,o,s,a,u;return(0,vt.Jh)(this,function(c){switch(c.label){case 0:i="readonly"===t,o=0,s=function(){var t,s,u,c,l;return(0,vt.Jh)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(e)];case 2:return a.db=h.sent(),t=Dc.open(a.db,e,i?"readonly":"readwrite",n),s=r(t).catch(function(e){return t.abort(e),Sc.reject(e)}).toPromise(),u={},s.catch(function(){}),[4,t.dt];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return Po("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),Ac=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return Oc(this.Pt.delete())},e}(),xc=function(e){function t(t,n){var r=this;return(r=e.call(this,No.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,vt.ZT)(t,e),t}(Oo);function kc(e){return"IndexedDbTransactionError"===e.name}var Nc=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(Po("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Po("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Oc(n)},e.prototype.add=function(e){return Po("SimpleDb","ADD",this.store.name,e,e),Oc(this.store.add(e))},e.prototype.get=function(e){var t=this;return Oc(this.store.get(e)).next(function(n){return void 0===n&&(n=null),Po("SimpleDb","GET",t.store.name,e,n),n})},e.prototype.delete=function(e){return Po("SimpleDb","DELETE",this.store.name,e),Oc(this.store.delete(e))},e.prototype.count=function(){return Po("SimpleDb","COUNT",this.store.name),Oc(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,function(e,t){r.push(t)}).next(function(){return r})},e.prototype.kt=function(e,t){Po("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Ft=!1;var r=this.cursor(n);return this.xt(r,function(e,t,n){return n.delete()})},e.prototype.$t=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.Ot=function(e){var t=this.cursor({});return new Sc(function(n,r){t.onerror=function(e){var t=Fc(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next(function(e){e?r.continue():n()}):n()}})},e.prototype.xt=function(e,t){var n=[];return new Sc(function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new Ac(i),s=t(i.primaryKey,i.value,o);if(s instanceof Sc){var a=s.catch(function(e){return o.done(),Sc.reject(e)});n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return Sc.waitFor(n)})},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Ft?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function Oc(e){return new Sc(function(t,n){e.onsuccess=function(e){t(e.target.result)},e.onerror=function(e){var t=Fc(e.target.error);n(t)}})}var Rc=!1;function Fc(e){var t=Tc._t((0,bt.z$)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Oo("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Rc||(Rc=!0,setTimeout(function(){throw r},0)),r}}return e}var Pc=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return(0,vt.ZT)(t,e),t}(Ec);function Mc(e,t){var n=Bo(e);return Tc.It(n.Mt,t)}var Lc=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Pa(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(o=n[t]).key.isEqual(e.key)&&Ma(o,e,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(e.key)&&Ma(o,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach(function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Qo.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(e,t){return e.add(t.key)},lu())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&zo(this.mutations,e.mutations,function(e,t){return Va(e,t)})&&zo(this.baseMutations,e.baseMutations,function(e,t){return Va(e,t)})},e}(),Vc=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){Uo(t.mutations.length===r.length);for(var i=uu(),o=t.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new e(t,n,r,i)},e}(),jc=function(){function e(e,t,n,r,i,o,s){void 0===i&&(i=Qo.min()),void 0===o&&(o=Qo.min()),void 0===s&&(s=rs.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),Uc=function(e){this.Lt=e};function Bc(e,t){if(t.document)return Vu(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=ps.fromSegments(t.noDocument.path),r=$c(t.noDocument.readTime),i=Ns.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=ps.fromSegments(t.unknownDocument.path);return r=$c(t.unknownDocument.version),Ns.newUnknownDocument(o,r)}return jo()}function qc(e,t,n){var r=Hc(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(e,t){return{name:Nu(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Su(e,t.version.toTimestamp())}}(e.Lt,t),s=t.hasCommittedMutations;return new dc(null,null,o,s,r,i)}if(t.isNoDocument()){var a=t.key.path.toArray(),u=zc(t.version);return s=t.hasCommittedMutations,new dc(null,new lc(a,u),null,s,r,i)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=zc(t.version);return new dc(new hc(c,l),null,null,!0,r,i)}return jo()}function Hc(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Gc(e){var t=new Ko(e[0],e[1]);return Qo.fromTimestamp(t)}function zc(e){var t=e.toTimestamp();return new oc(t.seconds,t.nanoseconds)}function $c(e){var t=new Ko(e.seconds,e.nanoseconds);return Qo.fromTimestamp(t)}function Kc(e,t){for(var n=(t.baseMutations||[]).map(function(t){return Uu(e.Lt,t)}),r=0;r<t.mutations.length-1;++r)r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform&&(t.mutations[r].updateTransforms=t.mutations[r+1].transform.fieldTransforms,t.mutations.splice(r+1,1),++r);var i=t.mutations.map(function(t){return Uu(e.Lt,t)}),o=Ko.fromMillis(t.localWriteTimeMs);return new Lc(t.batchId,o,n,i)}function Qc(e){var t,n,r=$c(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?$c(e.lastLimboFreeSnapshotVersion):Qo.min();return void 0!==e.query.documents?(Uo(1===(n=e.query).documents.length),t=aa(ea(Fu(n.documents[0])))):t=function(e){return aa(Hu(e))}(e.query),new jc(t,e.targetId,0,e.lastListenSequenceNumber,r,i,rs.fromBase64String(e.resumeToken))}function Wc(e,t){var n,r=zc(t.snapshotVersion),i=zc(t.lastLimboFreeSnapshotVersion);n=Ms(t.target)?Bu(e.Lt,t.target):qu(e.Lt,t.target);var o=t.resumeToken.toBase64();return new pc(t.targetId,Fs(t.target),r,o,t.sequenceNumber,i,n)}function Zc(e){var t=Hu({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?ua(t,t.limit,"L"):t}var Jc=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return Yc(e).get(t).next(function(e){if(e)return{id:(t=e).bundleId,createTime:$c(t.createTime),version:t.version};var t})},e.prototype.saveBundleMetadata=function(e,t){return Yc(e).put({bundleId:(n=t).id,createTime:zc(Au(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return Xc(e).get(t).next(function(e){if(e)return{name:(t=e).name,query:Zc(t.bundledQuery),readTime:$c(t.readTime)};var t})},e.prototype.saveNamedQuery=function(e,t){return Xc(e).put(function(e){return{name:e.name,readTime:zc(Au(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function Yc(e){return Mc(e,bc.store)}function Xc(e){return Mc(e,wc.store)}var el=function(){function e(){this.Bt=new tl}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),Sc.resolve()},e.prototype.getCollectionParents=function(e,t){return Sc.resolve(this.Bt.getEntries(t))},e}(),tl=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new tu(Xo.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new tu(Xo.comparator)).toArray()},e}(),nl=function(){function e(){this.qt=new tl}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(function(){n.qt.add(t)});var o={collectionId:r,parent:tc(i)};return rl(e).put(o)}return Sc.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[$o(t),""],!1,!0);return rl(e).Nt(r).next(function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(ic(o.parent))}return n})},e}();function rl(e){return Mc(e,yc.store)}var il={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ol=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function sl(e,t,n){var r=e.store(uc.store),i=e.store(cc.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:s},function(e,t,n){return a++,n.delete()});o.push(u.next(function(){Uo(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=cc.key(t,d.key.path,n.batchId);o.push(i.delete(f)),c.push(d.key)}return Sc.waitFor(o).next(function(){return c})}function al(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw jo();t=e.noDocument}return JSON.stringify(t).length}ol.DEFAULT_COLLECTION_PERCENTILE=10,ol.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ol.DEFAULT=new ol(41943040,ol.DEFAULT_COLLECTION_PERCENTILE,ol.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ol.DISABLED=new ol(-1,0,0);var ul=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return e.Qt=function(t,n,r,i){return Uo(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ll(e).$t({index:uc.userMutationsIndex,range:n},function(e,n,r){t=!1,r.done()}).next(function(){return t})},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=hl(e),s=ll(e);return s.add({}).next(function(a){Uo("number"==typeof a);for(var u=new Lc(a,t,n,r),c=function(e,t,n){var r=n.baseMutations.map(function(t){return ju(e.Lt,t)}),i=n.mutations.map(function(t){return ju(e.Lt,t)});return new uc(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new tu(function(e,t){return Go(e.canonicalString(),t.canonicalString())}),d=0,f=r;d<f.length;d++){var p=f[d],g=cc.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(g,cc.PLACEHOLDER))}return h.forEach(function(t){l.push(i.Ut.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(function(){i.Kt[a]=u.keys()}),Sc.waitFor(l).next(function(){return u})})},e.prototype.lookupMutationBatch=function(e,t){var n=this;return ll(e).get(t).next(function(e){return e?(Uo(e.userId===n.userId),Kc(n.R,e)):null})},e.prototype.jt=function(e,t){var n=this;return this.Kt[t]?Sc.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next(function(e){if(e){var r=e.keys();return n.Kt[t]=r,r}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return ll(e).$t({index:uc.userMutationsIndex,range:i},function(e,t,i){t.userId===n.userId&&(Uo(t.batchId>=r),o=Kc(n.R,t)),i.done()}).next(function(){return o})},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return ll(e).$t({index:uc.userMutationsIndex,range:t,reverse:!0},function(e,t,r){n=t.batchId,r.done()}).next(function(){return n})},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ll(e).Nt(uc.userMutationsIndex,n).next(function(e){return e.map(function(e){return Kc(t.R,e)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=cc.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return hl(e).$t({range:i},function(r,i,s){var a=r[0],u=r[2],c=ic(r[1]);if(a===n.userId&&t.path.isEqual(c))return ll(e).get(u).next(function(e){if(!e)throw jo();Uo(e.userId===n.userId),o.push(Kc(n.R,e))});s.done()}).next(function(){return o})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new tu(Go),i=[];return t.forEach(function(t){var o=cc.prefixForPath(n.userId,t.path),s=IDBKeyRange.lowerBound(o),a=hl(e).$t({range:s},function(e,i,o){var s=e[0],a=e[2],u=ic(e[1]);s===n.userId&&t.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),Sc.waitFor(i).next(function(){return n.Wt(e,r)})},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=cc.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new tu(Go);return hl(e).$t({range:s},function(e,t,o){var s=e[0],u=e[2],c=ic(e[1]);s===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.Wt(e,a)})},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach(function(t){i.push(ll(e).get(t).next(function(e){if(null===e)throw jo();Uo(e.userId===n.userId),r.push(Kc(n.R,e))}))}),Sc.waitFor(i).next(function(){return r})},e.prototype.removeMutationBatch=function(e,t){var n=this;return sl(e.Mt,this.userId,t).next(function(r){return e.addOnCommittedListener(function(){n.Gt(t.batchId)}),Sc.forEach(r,function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)})})},e.prototype.Gt=function(e){delete this.Kt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next(function(n){if(!n)return Sc.resolve();var r=IDBKeyRange.lowerBound(cc.prefixForUser(t.userId)),i=[];return hl(e).$t({range:r},function(e,n,r){if(e[0]===t.userId){var o=ic(e[1]);i.push(o)}else r.done()}).next(function(){Uo(0===i.length)})})},e.prototype.containsKey=function(e,t){return cl(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return dl(e).get(this.userId).next(function(e){return e||new ac(t.userId,-1,"")})},e}();function cl(e,t,n){var r=cc.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return hl(e).$t({range:o,Ft:!0},function(e,n,r){e[0]===t&&e[1]===i&&(s=!0),r.done()}).next(function(){return s})}function ll(e){return Mc(e,uc.store)}function hl(e){return Mc(e,cc.store)}function dl(e){return Mc(e,ac.store)}var fl=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),pl=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next(function(n){var r=new fl(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next(function(){return n.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next(function(e){return Qo.fromTimestamp(new Ko(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next(function(e){return e.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next(function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)})},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next(function(){return n.Xt(e).next(function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)})})},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next(function(){return gl(e).delete(t.targetId)}).next(function(){return n.Xt(e)}).next(function(t){return Uo(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)})},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return gl(e).$t(function(s,a){var u=Qc(a);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))}).next(function(){return Sc.waitFor(o)}).next(function(){return i})},e.prototype.forEachTarget=function(e,t){return gl(e).$t(function(e,n){var r=Qc(n);t(r)})},e.prototype.Xt=function(e){return ml(e).get(mc.key).next(function(e){return Uo(null!==e),e})},e.prototype.Zt=function(e,t){return ml(e).put(mc.key,t)},e.prototype.te=function(e,t){return gl(e).put(Wc(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next(function(e){return e.targetCount})},e.prototype.getTargetData=function(e,t){var n=Fs(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return gl(e).$t({range:r,index:pc.queryTargetsIndexName},function(e,n,r){var o=Qc(n);Ps(t,o.target)&&(i=o,r.done())}).next(function(){return i})},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=yl(e);return t.forEach(function(t){var s=tc(t.path);i.push(o.put(new gc(n,s))),i.push(r.referenceDelegate.addReference(e,n,t))}),Sc.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=yl(e);return Sc.forEach(t,function(t){var o=tc(t.path);return Sc.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])})},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=yl(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=yl(e),i=lu();return r.$t({range:n,Ft:!0},function(e,t,n){var r=ic(e[1]),o=new ps(r);i=i.add(o)}).next(function(){return i})},e.prototype.containsKey=function(e,t){var n=tc(t.path),r=IDBKeyRange.bound([n],[$o(n)],!1,!0),i=0;return yl(e).$t({index:gc.documentTargetsIndex,Ft:!0,range:r},function(e,t,n){0!==e[0]&&(i++,n.done())}).next(function(){return i>0})},e.prototype.lt=function(e,t){return gl(e).get(t).next(function(e){return e?Qc(e):null})},e}();function gl(e){return Mc(e,pc.store)}function ml(e){return Mc(e,mc.store)}function yl(e){return Mc(e,gc.store)}function vl(e){return(0,vt.mG)(this,void 0,void 0,function(){return(0,vt.Jh)(this,function(t){if(e.code!==No.FAILED_PRECONDITION||e.message!==Cc)throw e;return Po("LocalStore","Unexpectedly lost primary lease"),[2]})})}function bl(e,t){var n=e[1],r=t[1],i=Go(e[0],t[0]);return 0===i?Go(n,r):i}var wl=function(){function e(e){this.ne=e,this.buffer=new tu(bl),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();bl(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),_l=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;Po("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return(0,vt.mG)(t,void 0,void 0,function(){var t;return(0,vt.Jh)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return kc(t=n.sent())?(Po("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,vl(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}})})})},e}(),Cl=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next(function(e){return Math.floor(t/100*e)})},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return Sc.resolve(ko.o);var r=new wl(t);return this.ae.forEachTarget(e,function(e){return r.re(e.sequenceNumber)}).next(function(){return n.ae.le(e,function(e){return r.re(e)})}).next(function(){return r.maxValue})},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Po("LruGarbageCollector","Garbage collection skipped; disabled"),Sc.resolve(il)):this.getCacheSize(e).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(Po("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),il):n.fe(e,t)})},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(t){return t>c.params.maximumSequenceNumbersToCollect?(Po("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),r=c.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),c.nthSequenceNumber(e,r)}).next(function(r){return n=r,s=Date.now(),c.removeTargets(e,n,t)}).next(function(t){return i=t,a=Date.now(),c.removeOrphanedDocuments(e,n)}).next(function(e){return u=Date.now(),Fo()<=wt.in.DEBUG&&Po("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+e+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),Sc.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})})},e}(),El=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new Cl(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next(function(e){return t.next(function(t){return e+t})})},e.prototype.de=function(e){var t=0;return this.le(e,function(e){t++}).next(function(){return t})},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,function(e,n){return t(n)})},e.prototype.addReference=function(e,t,n){return Il(e,n)},e.prototype.removeReference=function(e,t,n){return Il(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return Il(e,t)},e.prototype._e=function(e,t){return function(e,t){var n=!1;return dl(e).Ot(function(r){return cl(e,r,t).next(function(e){return e&&(n=!0),Sc.resolve(!e)})}).next(function(){return n})}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,function(s,a){if(a<=t){var u=n._e(e,s).next(function(t){if(!t)return o++,r.getEntry(e,s).next(function(){return r.removeEntry(s),yl(e).delete([0,tc(s.path)])})});i.push(u)}}).next(function(){return Sc.waitFor(i)}).next(function(){return r.apply(e)}).next(function(){return o})},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return Il(e,t)},e.prototype.we=function(e,t){var n,r=yl(e),i=ko.o;return r.$t({index:gc.documentTargetsIndex},function(e,r){var o=r.path,s=r.sequenceNumber;0===e[0]?(i!==ko.o&&t(new ps(ic(n)),i),i=s,n=o):i=ko.o}).next(function(){i!==ko.o&&t(new ps(ic(n)),i)})},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function Il(e,t){return yl(e).put(function(e,t){return new gc(0,tc(e.path),t)}(t,e.currentSequenceNumber))}var Sl=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.equalsFn(o[0],e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){Zo(this.inner,function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];e(o[0],o[1])}})},e.prototype.isEmpty=function(){return Jo(this.inner)},e}(),Dl=function(){function e(){this.changes=new Sl(function(e){return e.toString()},function(e,t){return e.isEqual(t)}),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:Qo.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:Ns.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Sc.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),Tl=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return kl(e).put(Nl(t),n)},e.prototype.removeEntry=function(e,t){var n=kl(e),r=Nl(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next(function(r){return r.byteSize+=t,n.me(e,r)})},e.prototype.getEntry=function(e,t){var n=this;return kl(e).get(Nl(t)).next(function(e){return n.ye(t,e)})},e.prototype.ge=function(e,t){var n=this;return kl(e).get(Nl(t)).next(function(e){return{document:n.ye(t,e),size:al(e)}})},e.prototype.getEntries=function(e,t){var n=this,r=iu();return this.pe(e,t,function(e,t){var i=n.ye(e,t);r=r.insert(e,i)}).next(function(){return r})},e.prototype.Ee=function(e,t){var n=this,r=iu(),i=new Ya(ps.comparator);return this.pe(e,t,function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,al(t))}).next(function(){return{documents:r,Te:i}})},e.prototype.pe=function(e,t,n){if(t.isEmpty())return Sc.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return kl(e).$t({range:r},function(e,t,r){for(var s=ps.fromSegments(e);o&&ps.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=iu(),o=t.path.length+1,s={};if(n.isEqual(Qo.min())){var a=t.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=t.path.toArray(),c=Hc(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=dc.collectionReadTimeIndex}return kl(e).$t(s,function(e,n,s){if(e.length===o){var a=Bc(r.R,n);t.path.isPrefixOf(a.key.path)?da(t,a)&&(i=i.insert(a.key,a)):s.done()}}).next(function(){return i})},e.prototype.newChangeBuffer=function(e){return new Al(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next(function(e){return e.byteSize})},e.prototype.getMetadata=function(e){return xl(e).get(fc.key).next(function(e){return Uo(!!e),e})},e.prototype.me=function(e,t){return xl(e).put(fc.key,t)},e.prototype.ye=function(e,t){if(t){var n=Bc(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(Qo.min()))return n}return Ns.newInvalidDocument(e)},e}(),Al=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new Sl(function(e){return e.toString()},function(e,t){return e.isEqual(t)}),r}return(0,vt.ZT)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new tu(function(e,t){return Go(e.canonicalString(),t.canonicalString())});return this.changes.forEach(function(o,s){var a=t.Ae.get(o);if(s.document.isValidDocument()){var u=qc(t.Ie.R,s.document,t.getReadTime(o));i=i.add(o.path.popLast());var c=al(u);r+=c-a,n.push(t.Ie.addEntry(e,o,u))}else if(r-=a,t.trackRemovals){var l=qc(t.Ie.R,Ns.newNoDocument(o,Qo.min()),t.getReadTime(o));n.push(t.Ie.addEntry(e,o,l))}else n.push(t.Ie.removeEntry(e,o))}),i.forEach(function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))}),n.push(this.Ie.updateMetadata(e,r)),Sc.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next(function(e){return n.Ae.set(t,e.size),e.document})},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next(function(e){var t=e.documents;return e.Te.forEach(function(e,t){n.Ae.set(e,t)}),t})},t}(Dl);function xl(e){return Mc(e,fc.store)}function kl(e){return Mc(e,dc.store)}function Nl(e){return e.path.toArray()}var Ol=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;Uo(n<r&&n>=0&&r<=11);var o=new Dc("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(sc.store)}(e),function(e){e.createObjectStore(ac.store,{keyPath:ac.keyPath}),e.createObjectStore(uc.store,{keyPath:uc.keyPath,autoIncrement:!0}).createIndex(uc.userMutationsIndex,uc.userMutationsKeyPath,{unique:!0}),e.createObjectStore(cc.store)}(e),Rl(e),function(e){e.createObjectStore(dc.store)}(e));var s=Sc.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(gc.store),e.deleteObjectStore(pc.store),e.deleteObjectStore(mc.store)}(e),Rl(e)),s=s.next(function(){return function(e){var t=e.store(mc.store),n=new mc(0,0,Qo.min().toTimestamp(),0);return t.put(mc.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(e,t){return t.store(uc.store).Nt().next(function(n){e.deleteObjectStore(uc.store),e.createObjectStore(uc.store,{keyPath:uc.keyPath,autoIncrement:!0}).createIndex(uc.userMutationsIndex,uc.userMutationsKeyPath,{unique:!0});var r=t.store(uc.store),i=n.map(function(e){return r.put(e)});return Sc.waitFor(i)})}(e,o)})),s=s.next(function(){!function(e){e.createObjectStore(vc.store,{keyPath:vc.keyPath})}(e)})),n<5&&r>=5&&(s=s.next(function(){return i.Re(o)})),n<6&&r>=6&&(s=s.next(function(){return function(e){e.createObjectStore(fc.store)}(e),i.be(o)})),n<7&&r>=7&&(s=s.next(function(){return i.ve(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Pe(e,o)})),n<9&&r>=9&&(s=s.next(function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(dc.store);t.createIndex(dc.readTimeIndex,dc.readTimeIndexPath,{unique:!1}),t.createIndex(dc.collectionReadTimeIndex,dc.collectionReadTimeIndexPath,{unique:!1})}(t)})),n<10&&r>=10&&(s=s.next(function(){return i.Ve(o)})),n<11&&r>=11&&(s=s.next(function(){!function(e){e.createObjectStore(bc.store,{keyPath:bc.keyPath})}(e),function(e){e.createObjectStore(wc.store,{keyPath:wc.keyPath})}(e)})),s},e.prototype.be=function(e){var t=0;return e.store(dc.store).$t(function(e,n){t+=al(n)}).next(function(){var n=new fc(t);return e.store(fc.store).put(fc.key,n)})},e.prototype.Re=function(e){var t=this,n=e.store(ac.store),r=e.store(uc.store);return n.Nt().next(function(n){return Sc.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(uc.userMutationsIndex,i).next(function(r){return Sc.forEach(r,function(r){Uo(r.userId===n.userId);var i=Kc(t.R,r);return sl(e,n.userId,i).next(function(){})})})})})},e.prototype.ve=function(e){var t=e.store(gc.store),n=e.store(dc.store);return e.store(mc.store).get(mc.key).next(function(e){var r=[];return n.$t(function(n,i){var o=new Xo(n),s=function(e){return[0,tc(e)]}(o);r.push(t.get(s).next(function(n){return n?Sc.resolve():function(n){return t.put(new gc(0,tc(n),e.highestListenSequenceNumber))}(o)}))}).next(function(){return Sc.waitFor(r)})})},e.prototype.Pe=function(e,t){e.createObjectStore(yc.store,{keyPath:yc.keyPath});var n=t.store(yc.store),r=new tl,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:tc(i)})}};return t.store(dc.store).$t({Ft:!0},function(e,t){var n=new Xo(e);return i(n.popLast())}).next(function(){return t.store(cc.store).$t({Ft:!0},function(e,t){var n=ic(e[1]);return i(n.popLast())})})},e.prototype.Ve=function(e){var t=this,n=e.store(pc.store);return n.$t(function(e,r){var i=Qc(r),o=Wc(t.R,i);return n.put(o)})},e}();function Rl(e){e.createObjectStore(gc.store,{keyPath:gc.keyPath}).createIndex(gc.documentTargetsIndex,gc.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(pc.store,{keyPath:pc.keyPath}).createIndex(pc.queryTargetsIndexName,pc.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(mc.store)}var Fl="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Pl=function(){function e(t,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new Oo(No.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new El(this,i),this.Le=n+"main",this.R=new Uc(u),this.Be=new Tc(this.Le,11,new Ol(this.R)),this.qe=new pl(this.referenceDelegate,this.R),this.Ut=new nl,this.Ue=function(e,t){return new Tl(e,t)}(this.R,this.Ut),this.Ke=new Jc,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&Mo("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Oo(No.FAILED_PRECONDITION,Fl);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(t){return e.qe.getHighestSequenceNumber(t)})}).then(function(t){e.Ne=new ko(t,e.De)}).then(function(){e.xe=!0}).catch(function(t){return e.Be&&e.Be.close(),Promise.reject(t)})},e.prototype.He=function(e){var t=this;return this.Me=function(n){return(0,vt.mG)(t,void 0,void 0,function(){return(0,vt.Jh)(this,function(t){return this.started?[2,e(n)]:[2]})})},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt(function(n){return(0,vt.mG)(t,void 0,void 0,function(){return(0,vt.Jh)(this,function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget(function(){return(0,vt.mG)(t,void 0,void 0,function(){return(0,vt.Jh)(this,function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(t){return Ll(t).put(new vc(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.Je(t).next(function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable(function(){return e.Me(!1)}))})}).next(function(){return e.Ye(t)}).next(function(n){return e.isPrimary&&!n?e.Xe(t).next(function(){return!1}):!!n&&e.Ze(t).next(function(){return!0})})}).catch(function(t){if(kc(t))return Po("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Po("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(function(t){e.isPrimary!==t&&e.Se.enqueueRetryable(function(){return e.Me(t)}),e.isPrimary=t})},e.prototype.Je=function(e){var t=this;return Ml(e).get(sc.key).next(function(e){return Sc.resolve(t.tn(e))})},e.prototype.en=function(e){return Ll(e).delete(this.clientId)},e.prototype.nn=function(){return(0,vt.mG)(this,void 0,void 0,function(){var e,t,n,r=this;return(0,vt.Jh)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(e){var t=Mc(e,vc.store);return t.Nt().next(function(e){var n=r.rn(e,18e5),i=e.filter(function(e){return-1===n.indexOf(e)});return Sc.forEach(i,function(e){return t.delete(e.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(e=i.sent(),this.Qe)for(t=0,n=e;t<n.length;t++)this.Qe.removeItem(this.on(n[t].clientId));i.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return e.je().then(function(){return e.nn()}).then(function(){return e.ze()})})},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?Sc.resolve(!0):Ml(e).get(sc.key).next(function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new Oo(No.FAILED_PRECONDITION,Fl);return!1}}return!(!t.networkEnabled||!t.inForeground)||Ll(e).Nt().next(function(e){return void 0===t.rn(e,5e3).find(function(e){return!(t.clientId===e.clientId||!(!t.networkEnabled&&e.networkEnabled||!t.inForeground&&e.inForeground&&t.networkEnabled===e.networkEnabled))})})}).next(function(e){return t.isPrimary!==e&&Po("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e})},e.prototype.shutdown=function(){return(0,vt.mG)(this,void 0,void 0,function(){var e=this;return(0,vt.Jh)(this,function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[sc.store,vc.store],function(t){var n=new Pc(t,ko.o);return e.Xe(n).next(function(){return e.en(n)})})];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(e,t){var n=this;return e.filter(function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)})},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(t){return Ll(t).Nt().next(function(t){return e.rn(t,18e5).map(function(e){return e.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return ul.Qt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r,i=this;return Po("IndexedDbPersistence","Starting transaction:",e),this.Be.runTransaction(e,"readonly"===t?"readonly":"readwrite",_c,function(o){return r=new Pc(o,i.Ne?i.Ne.next():ko.o),"readwrite-primary"===t?i.Je(r).next(function(e){return!!e||i.Ye(r)}).next(function(t){if(!t)throw Mo("Failed to obtain primary lease for action '"+e+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new Oo(No.FAILED_PRECONDITION,Cc);return n(r)}).next(function(e){return i.Ze(r).next(function(){return e})}):i.dn(r).next(function(){return n(r)})}).then(function(e){return r.raiseOnCommittedEvent(),e})},e.prototype.dn=function(e){var t=this;return Ml(e).get(sc.key).next(function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Oo(No.FAILED_PRECONDITION,Fl)})},e.prototype.Ze=function(e){var t=new sc(this.clientId,this.allowTabSynchronization,Date.now());return Ml(e).put(sc.key,t)},e.yt=function(){return Tc.yt()},e.prototype.Xe=function(e){var t=this,n=Ml(e);return n.get(sc.key).next(function(e){return t.tn(e)?(Po("IndexedDbPersistence","Releasing primary lease."),n.delete(sc.key)):Sc.resolve()})},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(Mo("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){e.Se.enqueueAndForget(function(){return e.inForeground="visible"===e.document.visibilityState,e.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ke=function(){t.un(),(0,bt.G6)()&&navigator.appVersion.match("Version/14")&&t.Se.enterRestrictedMode(!0),t.Se.enqueueAndForget(function(){return t.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Qe)||void 0===t?void 0:t.getItem(this.on(e)));return Po("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return Mo("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){Mo("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function Ml(e){return Mc(e,sc.store)}function Ll(e){return Mc(e,vc.store)}function Vl(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var jl=function(e,t){this.progress=e,this.wn=t},Ul=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next(function(r){return n.yn(e,t,r)})},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next(function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e})},e.prototype.gn=function(e,t){e.forEach(function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)})},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next(function(t){return n.En(e,t).next(function(){return t})})},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next(function(e){return n.gn(t,e)})},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return ps.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):oa(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new ps(t)).next(function(e){var t=su();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=su();return this.Ut.getCollectionParents(e,i).next(function(s){return Sc.forEach(s,function(s){var a=function(e,t){return new Ys(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return r.An(e,a,n).next(function(e){e.forEach(function(e,t){o=o.insert(e,t)})})}).next(function(){return o})})},e.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)}).next(function(t){return o.Rn(e,i=t,r).next(function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c);null==l&&(l=Ns.newInvalidDocument(c),r=r.insert(c,l)),Ma(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(e,n){da(t,n)||(r=r.remove(e))}),r})},e.prototype.Rn=function(e,t,n){for(var r=lu(),i=0,o=t;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Ba&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(e,r).next(function(e){return e.forEach(function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))}),c})},e}(),Bl=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=lu(),i=lu(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),ql=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Qo.min())?this.Dn(e,t):this.Sn.pn(e,r).next(function(o){var s=i.Cn(t,o);return(ta(t)||na(t))&&i.Nn(t.limitType,s,r,n)?i.Dn(e,t):(Fo()<=wt.in.DEBUG&&Po("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ha(t)),i.Sn.getDocumentsMatchingQuery(e,t,n).next(function(e){return s.forEach(function(t){e=e.insert(t.key,t)}),e}))})},e.prototype.Cn=function(e,t){var n=new tu(fa(e));return t.forEach(function(t,r){da(e,r)&&(n=n.add(r))}),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return Fo()<=wt.in.DEBUG&&Po("QueryEngine","Using full collection scan to execute query:",ha(t)),this.Sn.getDocumentsMatchingQuery(e,t,Qo.min())},e}(),Hl=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.kn=new Ya(Go),this.Fn=new Sl(function(e){return Fs(e)},Ps),this.$n=Qo.min(),this._n=e.getMutationQueue(n),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new Ul(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return e.collect(n,t.kn)})},e}();function Gl(e,t,n,r){return new Hl(e,t,n,r)}function zl(e,t){return(0,vt.mG)(this,void 0,void 0,function(){var n,r,i,o;return(0,vt.Jh)(this,function(s){switch(s.label){case 0:return n=Bo(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(e){var o;return n._n.getAllMutationBatches(e).next(function(s){return o=s,r=n.persistence.getMutationQueue(t),i=new Ul(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)}).next(function(t){for(var n=[],r=[],s=lu(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var d=0,f=t;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)s=s.add(m[g].key)}return i.pn(e,s).next(function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function $l(e,t){var n=Bo(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(e){var r=t.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),s=Sc.resolve();return o.forEach(function(e){s=s.next(function(){return r.getEntry(t,e)}).next(function(t){var o=n.docVersions.get(e);Uo(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))})}),s.next(function(){return e._n.removeMutationBatch(t,i)})}(n,e,t,i).next(function(){return i.apply(e)}).next(function(){return n._n.performConsistencyCheck(e)}).next(function(){return n.Mn.pn(e,r)})})}function Kl(e){var t=Bo(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return t.qe.getLastRemoteSnapshotVersion(e)})}function Ql(e,t){var n=Bo(e),r=t.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(e){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var s=[];t.targetChanges.forEach(function(t,o){var a=i.get(o);if(a){s.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)}));var u=t.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,c),function(e,t,n){return Uo(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,t)&&s.push(n.qe.updateTargetData(e,c))}}});var a=iu();if(t.documentUpdates.forEach(function(r,i){t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),s.push(Wl(e,o,t.documentUpdates,r,void 0).next(function(e){a=e})),!r.isEqual(Qo.min())){var u=n.qe.getLastRemoteSnapshotVersion(e).next(function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)});s.push(u)}return Sc.waitFor(s).next(function(){return o.apply(e)}).next(function(){return n.Mn.En(e,a)}).next(function(){return a})}).then(function(e){return n.kn=i,e})}function Wl(e,t,n,r,i){var o=lu();return n.forEach(function(e){return o=o.add(e)}),t.getEntries(e,o).next(function(e){var o=iu();return n.forEach(function(n,s){var a=e.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(Qo.min())?(t.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s,u),o=o.insert(n,s)):Po("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function Zl(e,t){var n=Bo(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)})}function Jl(e,t){var n=Bo(e);return n.persistence.runTransaction("Allocate target","readwrite",function(e){var r;return n.qe.getTargetData(e,t).next(function(i){return i?Sc.resolve(r=i):n.qe.allocateTargetId(e).next(function(i){return r=new jc(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next(function(){return r})})})}).then(function(e){var r=n.kn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(e.targetId,e),n.Fn.set(t,e.targetId)),e})}function Yl(e,t,n){return(0,vt.mG)(this,void 0,void 0,function(){var r,i,o,s;return(0,vt.Jh)(this,function(a){switch(a.label){case 0:r=Bo(e),i=r.kn.get(t),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(e){return r.persistence.referenceDelegate.removeTarget(e,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!kc(s=a.sent()))throw s;return Po("LocalStore","Failed to update sequence numbers for target "+t+": "+s),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(i.target),[2]}})})}function Xl(e,t,n){var r=Bo(e),i=Qo.min(),o=lu();return r.persistence.runTransaction("Execute query","readonly",function(e){return function(e,t,n){var r=Bo(e),i=r.Fn.get(n);return void 0!==i?Sc.resolve(r.kn.get(i)):r.qe.getTargetData(t,n)}(r,e,aa(t)).next(function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next(function(e){o=e})}).next(function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:Qo.min(),n?o:lu())}).next(function(e){return{documents:e,Bn:o}})})}function eh(e,t){var n=Bo(e),r=Bo(n.qe),i=n.kn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(e){return r.lt(e,t).next(function(e){return e?e.target:null})})}function th(e){var t=Bo(e);return t.persistence.runTransaction("Get new document changes","readonly",function(e){return function(e,t,n){var r=Bo(e),i=iu(),o=Hc(n),s=kl(t),a=IDBKeyRange.lowerBound(o,!0);return s.$t({index:dc.readTimeIndex,range:a},function(e,t){var n=Bc(r.R,t);i=i.insert(n.key,n),o=t.readTime}).next(function(){return{wn:i,readTime:Gc(o)}})}(t.On,e,t.$n)}).then(function(e){var n=e.wn;return t.$n=e.readTime,n})}function nh(e){return(0,vt.mG)(this,void 0,void 0,function(){var t;return(0,vt.Jh)(this,function(n){return[2,(t=Bo(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(e){return function(e){var t=kl(e),n=Qo.min();return t.$t({index:dc.readTimeIndex,reverse:!0},function(e,t,r){t.readTime&&(n=Gc(t.readTime)),r.done()}).next(function(){return n})}(e)}).then(function(e){t.$n=e})]})})}function rh(e,t,n,r){return(0,vt.mG)(this,void 0,void 0,function(){var i,o,s,a,u,c,l,h,d,f;return(0,vt.Jh)(this,function(p){switch(p.label){case 0:for(i=Bo(e),o=lu(),s=iu(),a=uu(),u=0,c=n;u<c.length;u++)h=t.qn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.insert(h,t.Un(l)),a=a.insert(h,t.Kn(l.metadata.readTime));return d=i.On.newChangeBuffer({trackRemovals:!0}),[4,Jl(i,function(e){return aa(ea(Xo.fromString("__bundle__/docs/"+e)))}(r))];case 1:return f=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(e){return Wl(e,d,s,Qo.min(),a).next(function(t){return d.apply(e),t}).next(function(t){return i.qe.removeMatchingKeysForTargetId(e,f.targetId).next(function(){return i.qe.addMatchingKeys(e,o,f.targetId)}).next(function(){return i.Mn.En(e,t)}).next(function(){return t})})})]}})})}function ih(e,t,n){return void 0===n&&(n=lu()),(0,vt.mG)(this,void 0,void 0,function(){var r,i;return(0,vt.Jh)(this,function(o){switch(o.label){case 0:return[4,Jl(e,aa(Zc(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Bo(e)).persistence.runTransaction("Save named query","readwrite",function(e){var o=Au(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(e,t);var s=r.withResumeToken(rs.EMPTY_BYTE_STRING,o);return i.kn=i.kn.insert(s.targetId,s),i.qe.updateTargetData(e,s).next(function(){return i.qe.removeMatchingKeysForTargetId(e,r.targetId)}).next(function(){return i.qe.addMatchingKeys(e,n,r.targetId)}).next(function(){return i.Ke.saveNamedQuery(e,t)})})]}})})}var oh=function(){function e(e){this.R=e,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return Sc.resolve(this.Qn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Qn.set(t.id,{id:(n=t).id,version:n.version,createTime:Au(n.createTime)}),Sc.resolve()},e.prototype.getNamedQuery=function(e,t){return Sc.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:Zc(e.bundledQuery),readTime:Au(e.readTime)}}(t)),Sc.resolve()},e}(),sh=function(){function e(){this.Wn=new tu(ah.Gn),this.zn=new tu(ah.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new ah(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach(function(e){return n.addReference(e,t)})},e.prototype.removeReference=function(e,t){this.Yn(new ah(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach(function(e){return n.removeReference(e,t)})},e.prototype.Zn=function(e){var t=this,n=new ps(new Xo([])),r=new ah(n,e),i=new ah(n,e+1),o=[];return this.zn.forEachInRange([r,i],function(e){t.Yn(e),o.push(e.key)}),o},e.prototype.ts=function(){var e=this;this.Wn.forEach(function(t){return e.Yn(t)})},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new ps(new Xo([])),n=new ah(t,e),r=new ah(t,e+1),i=lu();return this.zn.forEachInRange([n,r],function(e){i=i.add(e.key)}),i},e.prototype.containsKey=function(e){var t=new ah(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),ah=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return ps.comparator(e.key,t.key)||Go(e.ns,t.ns)},e.Hn=function(e,t){return Go(e.ns,t.ns)||ps.comparator(e.key,t.key)},e}(),uh=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new tu(ah.Gn)}return e.prototype.checkEmpty=function(e){return Sc.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++;var o=new Lc(i,t,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new ah(u.key,i)),this.Ut.addToCollectionParentIndex(e,u.key.path.popLast())}return Sc.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return Sc.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this.cs(t+1),r=n<0?0:n;return Sc.resolve(this._n.length>r?this._n[r]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return Sc.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return Sc.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new ah(t,0),i=new ah(t,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],function(e){var t=n.os(e.ns);o.push(t)}),Sc.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new tu(Go);return t.forEach(function(e){var t=new ah(e,0),i=new ah(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],function(e){r=r.add(e.ns)})}),Sc.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;ps.isDocumentKey(i)||(i=i.child(""));var o=new ah(new ps(i),0),s=new tu(Go);return this.rs.forEachWhile(function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.ns)),!0)},o),Sc.resolve(this.us(s))},e.prototype.us=function(e){var t=this,n=[];return e.forEach(function(e){var r=t.os(e);null!==r&&n.push(r)}),n},e.prototype.removeMutationBatch=function(e,t){var n=this;Uo(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return Sc.forEach(t.mutations,function(i){var o=new ah(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(function(){n.rs=r})},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new ah(t,0),r=this.rs.firstAfterOrEqual(n);return Sc.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return Sc.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),ch=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new Ya(ps.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return Sc.resolve(n?n.document.clone():Ns.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=iu();return t.forEach(function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():Ns.newInvalidDocument(e))}),Sc.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=iu(),i=new ps(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.value,u=a.document,c=a.readTime;if(!t.path.isPrefixOf(s.key.path))break;c.compareTo(n)<=0||da(t,u)&&(r=r.insert(u.key,u.clone()))}return Sc.resolve(r)},e.prototype.fs=function(e,t){return Sc.forEach(this.docs,function(e){return t(e)})},e.prototype.newChangeBuffer=function(e){return new lh(this)},e.prototype.getSize=function(e){return Sc.resolve(this.size)},e}(),lh=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return(0,vt.ZT)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)}),Sc.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(Dl),hh=function(){function e(e){this.persistence=e,this.ds=new Sl(function(e){return Fs(e)},Ps),this.lastRemoteSnapshotVersion=Qo.min(),this.highestTargetId=0,this.ws=0,this._s=new sh,this.targetCount=0,this.ys=fl.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach(function(e,n){return t(n)}),Sc.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return Sc.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return Sc.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),Sc.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),Sc.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new fl(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,Sc.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),Sc.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,Sc.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach(function(s,a){a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Sc.waitFor(o).next(function(){return i})},e.prototype.getTargetCount=function(e){return Sc.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return Sc.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),Sc.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(function(t){i.push(r.markPotentiallyOrphaned(e,t))}),Sc.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),Sc.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return Sc.resolve(n)},e.prototype.containsKey=function(e,t){return Sc.resolve(this._s.containsKey(t))},e}(),dh=function(){function e(e,t){var n=this;this.gs={},this.Ne=new ko(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new hh(this),this.Ut=new el,this.Ue=function(e,t){return new ch(e,function(e){return n.referenceDelegate.ps(e)})}(this.Ut),this.R=new Uc(t),this.Ke=new oh(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new uh(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;Po("MemoryPersistence","Starting transaction:",e);var i=new fh(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(e){return r.referenceDelegate.Ts(i).next(function(){return e})}).toPromise().then(function(e){return i.raiseOnCommittedEvent(),e})},e.prototype.Is=function(e,t){return Sc.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(e,t)}}))},e}(),fh=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return(0,vt.ZT)(t,e),t}(Ec),ph=function(){function e(e){this.persistence=e,this.As=new sh,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw jo()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),Sc.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),Sc.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),Sc.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach(function(e){return n.vs.add(e.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(function(e){e.forEach(function(e){return n.vs.add(e.toString())})}).next(function(){return r.removeTargetData(e,t)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Sc.forEach(this.vs,function(r){var i=ps.fromPath(r);return t.Ps(e,i).next(function(e){e||n.removeEntry(i)})}).next(function(){return t.Rs=null,n.apply(e)})},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next(function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())})},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return Sc.or([function(){return Sc.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),gh=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function mh(e,t){return"firestore_clients_"+e+"_"+t}function yh(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function vh(e,t){return"firestore_targets_"+e+"_"+t}gh.UNAUTHENTICATED=new gh(null),gh.GOOGLE_CREDENTIALS=new gh("google-credentials-uid"),gh.FIRST_PARTY=new gh("first-party-uid"),gh.MOCK_USER=new gh("mock-user");var bh=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Oo(o.error.code,o.error.message)),s?new e(t,n,o.state,i):(Mo("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),wh=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Oo(i.error.code,i.error.message)),o?new e(t,i.state,r):(Mo("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),_h=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=du(),s=0;i&&s<r.activeTargetIds.length;++s)i=fs(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new e(t,o):(Mo("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),Ch=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Mo("SharedClientState","Failed to parse online state: "+t),null)},e}(),Eh=function(){function e(){this.activeTargetIds=du()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),Ih=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Ya(Go),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=mh(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new Eh),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Ks=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return(0,vt.mG)(this,void 0,void 0,function(){var e,t,n,r,i,o,s,a,u,c,l=this;return(0,vt.Jh)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=h.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ns&&(i=this.getItem(mh(this.persistenceKey,r)))&&(o=_h.Vs(r,i))&&(this.Fs=this.Fs.insert(o.clientId,o));for(this.Qs(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,c=this.$s;u<c.length;u++)this.ks(c[u]);return this.$s=[],this.window.addEventListener("pagehide",function(){return l.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.Fs.forEach(function(n,r){r.activeTargetIds.has(e)&&(t=!0)}),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(vh(this.persistenceKey,e));if(n){var r=wh.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Qs(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(vh(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach(function(e){r.Hs(e)}),this.currentUser=e,n.forEach(function(e){r.addPendingMutation(e)})},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return Po("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){Po("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){Po("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.ks=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Po("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Mo("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,vt.mG)(t,void 0,void 0,function(){var e,t,r,i,o,s;return(0,vt.Jh)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(e){var t=ko.o;if(null!=e)try{var n=JSON.parse(e);Uo("number"==typeof n),t=n}catch(e){Mo("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==ko.o&&this.sequenceNumberHandler(s);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new bh(this.currentUser,e,t,n),i=yh(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=yh(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:e}))},e.prototype.Ys=function(e,t,n){var r=vh(this.persistenceKey,e),i=new wh(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return _h.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]);return bh.Vs(new gh(void 0!==n[2]?n[2]:null),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return wh.Vs(r,t)},e.prototype.js=function(e){return Ch.Vs(e)},e.prototype.ii=function(e){return(0,vt.mG)(this,void 0,void 0,function(){return(0,vt.Jh)(this,function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(Po("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.Fs.insert(e,t):this.Fs.remove(e),i=this.Gs(this.Fs),o=this.Gs(r),s=[],a=[];return o.forEach(function(e){i.has(e)||s.push(e)}),i.forEach(function(e){o.has(e)||a.push(e)}),this.syncEngine.hi(s,a).then(function(){n.Fs=r})},e.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=du();return e.forEach(function(e,n){t=t.unionWith(n.activeTargetIds)}),t},e}(),Sh=function(){function e(){this.li=new Eh,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new Eh,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),Dh=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),Th=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){Po("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){Po("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),Ah={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},xh=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),kh=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n.useFetchStreams=t.useFetchStreams,n}return(0,vt.ZT)(t,e),t.prototype.Fi=function(e,t,n,r){return new Promise(function(i,o){var s=new xo;s.listenOnce(So.COMPLETE,function(){try{switch(s.getLastErrorCode()){case Io.NO_ERROR:var t=s.getResponseJson();Po("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Io.TIMEOUT:Po("Connection",'RPC "'+e+'" timed out'),o(new Oo(No.DEADLINE_EXCEEDED,"Request time out"));break;case Io.HTTP_ERROR:var n=s.getStatus();if(Po("Connection",'RPC "'+e+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(No).indexOf(t)>=0?t:No.UNKNOWN}(r.status);o(new Oo(a,r.message))}else o(new Oo(No.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Oo(No.UNAVAILABLE,"Connection failed."));break;default:jo()}}finally{Po("Connection",'RPC "'+e+'" completed.')}});var a=JSON.stringify(r);s.send(t,"POST",a,n,15)})},t.prototype.Oi=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=new bo,i=dr(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new To({})),this.ki(o.initMessageHeaders,t),(0,bt.uI)()||(0,bt.b$)()||(0,bt.d)()||(0,bt.w1)()||(0,bt.Mn)()||(0,bt.ru)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");Po("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new xh({Ei:function(e){c?Po("Connection","Not sending because WebChannel is closed:",e):(u||(Po("Connection","Opening WebChannel transport."),a.open(),u=!0),Po("Connection","WebChannel sending:",e),a.send(e))},Ti:function(){return a.close()}}),h=function(e,t,n){e.listen(t,function(e){try{n(e)}catch(e){setTimeout(function(){throw e},0)}})};return h(a,Ao.EventType.OPEN,function(){c||Po("Connection","WebChannel transport opened.")}),h(a,Ao.EventType.CLOSE,function(){c||(c=!0,Po("Connection","WebChannel transport closed"),l.Vi())}),h(a,Ao.EventType.ERROR,function(e){c||(c=!0,Lo("Connection","WebChannel transport errored:",e),l.Vi(new Oo(No.UNAVAILABLE,"The operation could not be completed")))}),h(a,Ao.EventType.MESSAGE,function(e){var t;if(!c){var n=e.data[0];Uo(!!n);var r=n.error||(null===(t=n[0])||void 0===t?void 0:t.error);if(r){Po("Connection","WebChannel received error:",r);var i=r.status,o=function(e){var t=za[e];if(void 0!==t)return Ja(t)}(i),s=r.message;void 0===o&&(o=No.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new Oo(o,s)),a.close()}else Po("Connection","WebChannel received:",n),l.Si(n)}}),h(i,Do.STAT_EVENT,function(e){10===e.stat?Po("Connection","Detected buffering proxy"):11===e.stat&&Po("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Di=(e.ssl?"https":"http")+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);Po("RestConnection","Sending: ",i,n);var o={};return this.ki(o,r),this.Fi(e,i,o,n).then(function(e){return Po("RestConnection","Received: ",e),e},function(t){throw Lo("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t})},e.prototype.$i=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.ki=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.0",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){return this.Di+"/v1/"+t+":"+Ah[e]},e}());function Nh(){return"undefined"!=typeof window?window:null}function Oh(){return"undefined"!=typeof document?document:null}function Rh(e){return new Iu(e,!0)}var Fh=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&Po("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return t.Ki=Date.now(),e()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),Ph=function(){function e(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Fh(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return(0,vt.mG)(this,void 0,void 0,function(){return(0,vt.Jh)(this,function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return e.rr()}))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return(0,vt.mG)(this,void 0,void 0,function(){return(0,vt.Jh)(this,function(e){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return(0,vt.mG)(this,void 0,void 0,function(){return(0,vt.Jh)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===No.RESOURCE_EXHAUSTED?(Mo(t.toString()),Mo("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):t&&t.code===No.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(t){e.Yi===n&&e.lr(t)},function(n){t(function(){var t=new Oo(No.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)})})},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii(function(){n(function(){return t.state=2,t.listener.Ii()})}),this.stream.Ri(function(e){n(function(){return t.dr(e)})}),this.stream.onMessage(function(e){n(function(){return t.onMessage(e)})})},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji(function(){return(0,vt.mG)(e,void 0,void 0,function(){return(0,vt.Jh)(this,function(e){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(e){return Po("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget(function(){return t.Yi===e?n():(Po("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),Mh=function(e){function t(t,n,r,i,o){var s=this;return(s=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return(0,vt.ZT)(t,e),t.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:jo()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.I?(Uo(void 0===t||"string"==typeof t),rs.fromBase64String(t||"")):(Uo(void 0===t||t instanceof Uint8Array),rs.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=(a=t.targetChange.cause)&&function(e){var t=void 0===e.code?No.UNKNOWN:Ja(e.code);return new Oo(t,e.message||"")}(a);n=new yu(r,i,o,s||null)}else if("documentChange"in t){i=Ou(e,(r=t.documentChange).document.name),o=Au(r.document.updateTime);var a=new xs({mapValue:{fields:r.document.fields}}),u=(s=Ns.newFoundDocument(i,o,a),r.targetIds||[]);n=new gu(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in t)i=Ou(e,(r=t.documentDelete).document),o=r.readTime?Au(r.readTime):Qo.min(),a=Ns.newNoDocument(i,o),n=new gu([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in t)i=Ou(e,(r=t.documentRemove).document),n=new gu([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in t))return jo();var c=t.filter;i=new Wa(r=c.count||0),n=new mu(o=c.targetId,i)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return Qo.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Qo.min():t.readTime?Au(t.readTime):Qo.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t={};t.database=Pu(this.R),t.addTarget=function(e,t){var n,r=t.target;return(n=Ms(r)?{documents:Bu(e,r)}:{query:qu(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Du(e,t.resumeToken):t.snapshotVersion.compareTo(Qo.min())>0&&(n.readTime=Su(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return jo()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);n&&(t.labels=n),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=Pu(this.R),t.removeTarget=e,this.cr(t)},t}(Ph),Lh=function(e){function t(t,n,r,i,o){var s=this;return(s=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return(0,vt.ZT)(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.Oi("Write",e)},t.prototype.onMessage=function(e){if(Uo(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?(Uo(void 0!==t),e.map(function(e){return function(e,t){var n=Au(e.updateTime?e.updateTime:t);return n.isEqual(Qo.min())&&(n=Au(t)),new Na(n,e.transformResults||[])}(e,t)})):[]}(e.writeResults,e.commitTime),n=Au(e.commitTime);return this.listener.Tr(n,t)}return Uo(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=Pu(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map(function(e){return ju(t.R,e)})};this.cr(n)},t}(Ph),Vh=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return(0,vt.ZT)(t,e),t.prototype.br=function(){if(this.Rr)throw new Oo(No.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(e,t,n,i)}).catch(function(e){throw"FirebaseError"===e.name?(e.code===No.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new Oo(No.UNKNOWN,e.toString())})},t.prototype.$i=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.$i(e,t,n,i)}).catch(function(e){throw"FirebaseError"===e.name?(e.code===No.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new Oo(No.UNKNOWN,e.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),jh=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.kr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Mo(t),this.Vr=!1):Po("OnlineStateTracker",t)},e.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),Uh=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(e){n.enqueueAndForget(function(){return(0,vt.mG)(o,void 0,void 0,function(){return(0,vt.Jh)(this,function(e){switch(e.label){case 0:return Wh(this)?(Po("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return(0,vt.mG)(this,void 0,void 0,function(){var t;return(0,vt.Jh)(this,function(n){switch(n.label){case 0:return(t=Bo(e)).Or.add(4),[4,qh(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.Or.delete(4),[4,Bh(t)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})}),this.Br=new jh(n,r)};function Bh(e){return(0,vt.mG)(this,void 0,void 0,function(){var t,n;return(0,vt.Jh)(this,function(r){switch(r.label){case 0:if(!Wh(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function qh(e){return(0,vt.mG)(this,void 0,void 0,function(){var t,n;return(0,vt.Jh)(this,function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Hh(e,t){var n=Bo(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),Qh(n)?Kh(n):ld(n).er()&&zh(n,t))}function Gh(e,t){var n=Bo(e),r=ld(n);n.$r.delete(t),r.er()&&$h(n,t),0===n.$r.size&&(r.er()?r.ir():Wh(n)&&n.Br.set("Unknown"))}function zh(e,t){e.qr.U(t.targetId),ld(e).mr(t)}function $h(e,t){e.qr.U(t),ld(e).yr(t)}function Kh(e){e.qr=new bu({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),ld(e).start(),e.Br.Sr()}function Qh(e){return Wh(e)&&!ld(e).tr()&&e.$r.size>0}function Wh(e){return 0===Bo(e).Or.size}function Zh(e){e.qr=void 0}function Jh(e){return(0,vt.mG)(this,void 0,void 0,function(){return(0,vt.Jh)(this,function(t){return e.$r.forEach(function(t,n){zh(e,t)}),[2]})})}function Yh(e,t){return(0,vt.mG)(this,void 0,void 0,function(){return(0,vt.Jh)(this,function(n){return Zh(e),Qh(e)?(e.Br.Nr(t),Kh(e)):e.Br.set("Unknown"),[2]})})}function Xh(e,t,n){return(0,vt.mG)(this,void 0,void 0,function(){var r,i,o;return(0,vt.Jh)(this,function(s){switch(s.label){case 0:if(e.Br.set("Online"),!(t instanceof yu&&2===t.state&&t.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(e,t){return(0,vt.mG)(this,void 0,void 0,function(){var n,r,i,o;return(0,vt.Jh)(this,function(s){switch(s.label){case 0:n=t.cause,r=0,i=t.targetIds,s.label=1;case 1:return r<i.length?e.$r.has(o=i[r])?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:s.sent(),e.$r.delete(o),e.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Po("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,ed(e,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof gu?e.qr.X(t):t instanceof mu?e.qr.rt(t):e.qr.et(t),n.isEqual(Qo.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Kl(e.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(e,t){var n=e.qr.ut(t);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.$r.get(r);i&&e.$r.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach(function(t){var n=e.$r.get(t);if(n){e.$r.set(t,n.withResumeToken(rs.EMPTY_BYTE_STRING,n.snapshotVersion)),$h(e,t);var r=new jc(n.target,t,1,n.sequenceNumber);zh(e,r)}}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Po("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,ed(e,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function ed(e,t,n){return(0,vt.mG)(this,void 0,void 0,function(){var r=this;return(0,vt.Jh)(this,function(i){switch(i.label){case 0:if(!kc(t))throw t;return e.Or.add(1),[4,qh(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return Kl(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return(0,vt.mG)(r,void 0,void 0,function(){return(0,vt.Jh)(this,function(t){switch(t.label){case 0:return Po("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Or.delete(1),[4,Bh(e)];case 2:return t.sent(),[2]}})})}),[2]}})})}function td(e,t){return t().catch(function(n){return ed(e,n,t)})}function nd(e){return(0,vt.mG)(this,void 0,void 0,function(){var t,n,r,i,o;return(0,vt.Jh)(this,function(s){switch(s.label){case 0:t=Bo(e),n=hd(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,s.label=1;case 1:if(!function(e){return Wh(e)&&e.Fr.length<10}(t))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,Zl(t.localStore,r)];case 3:return null===(i=s.sent())?(0===t.Fr.length&&n.ir(),[3,7]):(r=i.batchId,function(e,t){e.Fr.push(t);var n=hd(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,i),[3,6]);case 4:return o=s.sent(),[4,ed(t,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return rd(t)&&id(t),[2]}})})}function rd(e){return Wh(e)&&!hd(e).tr()&&e.Fr.length>0}function id(e){hd(e).start()}function od(e){return(0,vt.mG)(this,void 0,void 0,function(){return(0,vt.Jh)(this,function(t){return hd(e).Ar(),[2]})})}function sd(e){return(0,vt.mG)(this,void 0,void 0,function(){var t,n,r;return(0,vt.Jh)(this,function(i){for(t=hd(e),n=0,r=e.Fr;n<r.length;n++)t.Er(r[n].mutations);return[2]})})}function ad(e,t,n){return(0,vt.mG)(this,void 0,void 0,function(){var r,i;return(0,vt.Jh)(this,function(o){switch(o.label){case 0:return r=e.Fr.shift(),i=Vc.from(r,t,n),[4,td(e,function(){return e.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,nd(e)];case 2:return o.sent(),[2]}})})}function ud(e,t){return(0,vt.mG)(this,void 0,void 0,function(){return(0,vt.Jh)(this,function(n){switch(n.label){case 0:return t&&hd(e).pr?[4,function(e,t){return(0,vt.mG)(this,void 0,void 0,function(){var n,r;return(0,vt.Jh)(this,function(i){switch(i.label){case 0:return Za(r=t.code)&&r!==No.ABORTED?(n=e.Fr.shift(),hd(e).sr(),[4,td(e,function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)})]):[3,3];case 1:return i.sent(),[4,nd(e)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return rd(e)&&id(e),[2]}})})}function cd(e,t){return(0,vt.mG)(this,void 0,void 0,function(){var n;return(0,vt.Jh)(this,function(r){switch(r.label){case 0:return n=Bo(e),t?(n.Or.delete(2),[4,Bh(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,qh(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function ld(e){var t=this;return e.Ur||(e.Ur=function(e,t,n){var r=Bo(e);return r.br(),new Mh(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Jh.bind(null,e),Ri:Yh.bind(null,e),_r:Xh.bind(null,e)}),e.Mr.push(function(n){return(0,vt.mG)(t,void 0,void 0,function(){return(0,vt.Jh)(this,function(t){switch(t.label){case 0:return n?(e.Ur.sr(),Qh(e)?Kh(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),Zh(e),t.label=3;case 3:return[2]}})})})),e.Ur}function hd(e){var t=this;return e.Kr||(e.Kr=function(e,t,n){var r=Bo(e);return r.br(),new Lh(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:od.bind(null,e),Ri:ud.bind(null,e),Ir:sd.bind(null,e),Tr:ad.bind(null,e)}),e.Mr.push(function(n){return(0,vt.mG)(t,void 0,void 0,function(){return(0,vt.Jh)(this,function(t){switch(t.label){case 0:return n?(e.Kr.sr(),[4,nd(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:t.sent(),e.Fr.length>0&&(Po("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),t.label=4;case 4:return[2]}})})})),e.Kr}var dd=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Ic,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(e){})}return e.createAndSchedule=function(t,n,r,i,o){var s=new e(t,n,Date.now()+r,i,o);return s.start(r),s},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout(function(){return t.handleDelayElapsed()},e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oo(No.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then(function(t){return e.deferred.resolve(t)})):Promise.resolve()})},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function fd(e,t){if(Mo("AsyncQueue",t+": "+e),kc(e))return new Oo(No.UNAVAILABLE,t+": "+e);throw e}var pd=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||ps.comparator(t.key,n.key)}:function(e,t){return ps.comparator(e.key,t.key)},this.keyedMap=su(),this.sortedSet=new Ya(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal(function(t,n){return e(t),!1})},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach(function(t){e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),gd=function(){function e(){this.Qr=new Ya(ps.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Qr.get(t);n?0!==e.type&&3===n.type?this.Qr=this.Qr.insert(t,e):3===e.type&&1!==n.type?this.Qr=this.Qr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Qr=this.Qr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Qr=this.Qr.remove(t):1===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):jo():this.Qr=this.Qr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal(function(t,n){e.push(n)}),e},e}(),md=function(){function e(e,t,n,r,i,o,s,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach(function(e){o.push({type:0,doc:e})}),new e(t,n,pd.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ca(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),yd=function(){this.Wr=void 0,this.listeners=[]},vd=function(){this.queries=new Sl(function(e){return la(e)},ca),this.onlineState="Unknown",this.Gr=new Set};function bd(e,t){return(0,vt.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return(0,vt.Jh)(this,function(c){switch(c.label){case 0:if(n=Bo(e),i=!1,(o=n.queries.get(r=t.query))||(i=!0,o=new yd),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=fd(a,"Initialization of query '"+ha(t.query)+"' failed"),[2,void t.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&Ed(n),[2]}})})}function wd(e,t){return(0,vt.mG)(this,void 0,void 0,function(){var n,r,i,o,s;return(0,vt.Jh)(this,function(a){return n=Bo(e),i=!1,(o=n.queries.get(r=t.query))&&(s=o.listeners.indexOf(t))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function _d(e,t){for(var n=Bo(e),r=!1,i=0,o=t;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(s)&&(r=!0);a.Wr=s}}r&&Ed(n)}function Cd(e,t,n){var r=Bo(e),i=r.queries.get(t);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(t)}function Ed(e){e.Gr.forEach(function(e){e.next()})}var Id=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new md(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){return!e.fromCache||!(this.options.so&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=md.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),Sd=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),Dd=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return Ou(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?Vu(this.R,e.document,!1):Ns.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},e.prototype.Kn=function(e){return Au(e)},e}();!function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=function(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(e)}e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new Dd(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(t.get(c)||lu()).add(s);t.set(c,l)}}return t},e.prototype.complete=function(){return(0,vt.mG)(this,void 0,void 0,function(){var e,t,n,r,i;return(0,vt.Jh)(this,function(o){switch(o.label){case 0:return[4,rh(this.localStore,new Dd(this.R),this.documents,this.ro.id)];case 1:e=o.sent(),t=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,ih(this.localStore,i=r[n],t.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new jl(Object.assign({},this.progress),e))]}})})}}();var Td=function(e){this.key=e},Ad=function(e){this.key=e},xd=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=lu(),this.mutatedKeys=lu(),this.lo=fa(e),this.fo=new pd(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new gd,i=t?t.fo:this.fo,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=ta(this.query)&&i.size===this.query.limit?i.last():null,c=na(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(function(e,t){var l=i.get(e),h=da(n.query,t)?t:null,d=!!l&&n.mutatedKeys.has(l.key),f=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?d!==f&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=f?o.add(e):o.delete(e)):(s=s.delete(e),o=o.delete(e)))}),ta(this.query)||na(this.query))for(;s.size>this.query.limit;){var l=ta(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort(function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return jo()}};return n(e)-n(t)}(e.type,t.type)||r.lo(e.doc,t.doc)}),this.po(n);var s=t?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new md(this.query,e.fo,i,o,e.mutatedKeys,0===a,u,!1),To:s}:{To:s}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new gd,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach(function(e){return t.uo=t.uo.add(e)}),e.modifiedDocuments.forEach(function(e){}),e.removedDocuments.forEach(function(e){return t.uo=t.uo.delete(e)}),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=lu(),this.fo.forEach(function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))});var n=[];return t.forEach(function(t){e.ho.has(t)||n.push(new Ad(t))}),this.ho.forEach(function(e){t.has(e)||n.push(new Td(e))}),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=lu();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return md.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),kd=function(e,t,n){this.query=e,this.targetId=t,this.view=n},Nd=function(e){this.key=e,this.bo=!1},Od=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Sl(function(e){return la(e)},ca),this.Vo=new Map,this.So=new Set,this.Do=new Ya(ps.comparator),this.Co=new Map,this.No=new sh,this.xo={},this.ko=new Map,this.Fo=fl.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),e}();function Rd(e,t){return(0,vt.mG)(this,void 0,void 0,function(){var n,r,i,o,s;return(0,vt.Jh)(this,function(a){switch(a.label){case 0:return n=cf(e),(i=n.Po.get(t))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,Jl(n.localStore,aa(t))];case 2:return o=a.sent(),s=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,Fd(n,t,o.targetId,"current"===s)];case 3:r=a.sent(),n.isPrimaryClient&&Hh(n.remoteStore,o),a.label=4;case 4:return[2,r]}})})}function Fd(e,t,n,r){return(0,vt.mG)(this,void 0,void 0,function(){var i,o,s,a,u,c;return(0,vt.Jh)(this,function(l){switch(l.label){case 0:return e.Oo=function(t,n,r){return function(e,t,n,r){return(0,vt.mG)(this,void 0,void 0,function(){var i,o,s;return(0,vt.Jh)(this,function(a){switch(a.label){case 0:return(i=t.view._o(n)).Nn?[4,Xl(e.localStore,t.query,!1).then(function(e){return t.view._o(e.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(Kd(e,t.targetId,s.To),s.snapshot)]}})})}(e,t,n,r)},[4,Xl(e.localStore,t,!0)];case 1:return i=l.sent(),o=new xd(t,i.Bn),s=o._o(i.documents),a=pu.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),u=o.applyChanges(s,e.isPrimaryClient,a),Kd(e,n,u.To),c=new kd(t,n,o),[2,(e.Po.set(t,c),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),u.snapshot)]}})})}function Pd(e,t){return(0,vt.mG)(this,void 0,void 0,function(){var n,r,i;return(0,vt.Jh)(this,function(o){switch(o.label){case 0:return n=Bo(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(e){return!ca(e,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Yl(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Gh(n.remoteStore,r.targetId),zd(n,r.targetId)}).catch(vl)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return zd(n,r.targetId),[4,Yl(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function Md(e,t,n){return(0,vt.mG)(this,void 0,void 0,function(){var r,i,o,s;return(0,vt.Jh)(this,function(a){switch(a.label){case 0:r=lf(e),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(e,t){var n,r=Bo(e),i=Ko.now(),o=t.reduce(function(e,t){return e.add(t.key)},lu());return r.persistence.runTransaction("Locally write mutations","readwrite",function(e){return r.Mn.pn(e,o).next(function(o){n=o;for(var s=[],a=0,u=t;a<u.length;a++){var c=u[a],l=La(c,n.get(c.key));null!=l&&s.push(new Ba(c.key,l,ks(l.value.mapValue),Oa.exists(!0)))}return r._n.addMutationBatch(e,i,s,t)})}).then(function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}})}(r.localStore,t)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new Ya(Go)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(r,i.batchId,n),[4,Zd(r,i.changes)];case 3:return a.sent(),[4,nd(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=fd(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function Ld(e,t){return(0,vt.mG)(this,void 0,void 0,function(){var n,r;return(0,vt.Jh)(this,function(i){switch(i.label){case 0:n=Bo(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Ql(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach(function(e,t){var r=n.Co.get(t);r&&(Uo(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?Uo(r.bo):e.removedDocuments.size>0&&(Uo(r.bo),r.bo=!1))}),[4,Zd(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,vl(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Vd(e,t,n){var r=Bo(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(e,n){var r=n.view.zr(t);r.snapshot&&i.push(r.snapshot)}),function(e,t){var n=Bo(e);n.onlineState=t;var r=!1;n.queries.forEach(function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(t)&&(r=!0)}),r&&Ed(n)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function jd(e,t,n){return(0,vt.mG)(this,void 0,void 0,function(){var r,i,o,s,a,u;return(0,vt.Jh)(this,function(c){switch(c.label){case 0:return(r=Bo(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(s=(s=new Ya(ps.comparator)).insert(o,Ns.newNoDocument(o,Qo.min())),a=lu().add(o),u=new fu(Qo.min(),new Map,new tu(Go),s,a),[4,Ld(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),Wd(r),[3,4];case 2:return[4,Yl(r.localStore,t,!1).then(function(){return zd(r,t,n)}).catch(vl)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function Ud(e,t){return(0,vt.mG)(this,void 0,void 0,function(){var n,r,i;return(0,vt.Jh)(this,function(o){switch(o.label){case 0:n=Bo(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,$l(n.localStore,t)];case 2:return i=o.sent(),Gd(n,r,null),Hd(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Zd(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,vl(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Bd(e,t,n){return(0,vt.mG)(this,void 0,void 0,function(){var r,i;return(0,vt.Jh)(this,function(o){switch(o.label){case 0:r=Bo(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(e,t){var n=Bo(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(e){var r;return n._n.lookupMutationBatch(e,t).next(function(t){return Uo(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)}).next(function(){return n._n.performConsistencyCheck(e)}).next(function(){return n.Mn.pn(e,r)})})}(r.localStore,t)];case 2:return i=o.sent(),Gd(r,t,n),Hd(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,Zd(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,vl(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function qd(e,t){return(0,vt.mG)(this,void 0,void 0,function(){var n,r,i,o,s;return(0,vt.Jh)(this,function(a){switch(a.label){case 0:Wh((n=Bo(e)).remoteStore)||Po("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(e){var t=Bo(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(e){return t._n.getHighestUnacknowledgedBatchId(e)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void t.resolve()]:((i=n.ko.get(r)||[]).push(t),n.ko.set(r,i),[3,4]);case 3:return o=a.sent(),s=fd(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(s),[3,4];case 4:return[2]}})})}function Hd(e,t){(e.ko.get(t)||[]).forEach(function(e){e.resolve()}),e.ko.delete(t)}function Gd(e,t,n){var r=Bo(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function zd(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(t){e.No.containsKey(t)||$d(e,t)})}function $d(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(Gh(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),Wd(e))}function Kd(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Td?(e.No.addReference(o.key,t),Qd(e,o)):o instanceof Ad?(Po("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||$d(e,o.key)):jo()}}function Qd(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(Po("SyncEngine","New document in limbo: "+n),e.So.add(r),Wd(e))}function Wd(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new ps(Xo.fromString(t)),r=e.Fo.next();e.Co.set(r,new Nd(n)),e.Do=e.Do.insert(n,r),Hh(e.remoteStore,new jc(aa(ea(n.path)),r,2,ko.o))}}function Zd(e,t,n){return(0,vt.mG)(this,void 0,void 0,function(){var r,i,o,s;return(0,vt.Jh)(this,function(a){switch(a.label){case 0:return r=Bo(e),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(e,a){s.push(r.Oo(a,t,n).then(function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=Bl.Pn(a.targetId,e);o.push(t)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(e,t){return(0,vt.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return(0,vt.Jh)(this,function(l){switch(l.label){case 0:n=Bo(e),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(e){return Sc.forEach(t,function(t){return Sc.forEach(t.bn,function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)}).next(function(){return Sc.forEach(t.vn,function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!kc(r=l.sent()))throw r;return Po("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.kn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.kn=n.kn.insert(a,c));return[2]}})})}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function Jd(e,t){return(0,vt.mG)(this,void 0,void 0,function(){var n,r;return(0,vt.Jh)(this,function(i){switch(i.label){case 0:return(n=Bo(e)).currentUser.isEqual(t)?[3,3]:(Po("SyncEngine","User change. New user:",t.toKey()),[4,zl(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(e,t){e.ko.forEach(function(e){e.forEach(function(e){e.reject(new Oo(No.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,Zd(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Yd(e,t){var n=Bo(e),r=n.Co.get(t);if(r&&r.bo)return lu().add(r.key);var i=lu(),o=n.Vo.get(t);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Po.get(a[s]);i=i.unionWith(u.view.wo)}return i}function Xd(e,t){return(0,vt.mG)(this,void 0,void 0,function(){var n,r,i;return(0,vt.Jh)(this,function(o){switch(o.label){case 0:return[4,Xl((n=Bo(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&Kd(n,t.targetId,i.To),i)]}})})}function ef(e){return(0,vt.mG)(this,void 0,void 0,function(){var t;return(0,vt.Jh)(this,function(n){return[2,th((t=Bo(e)).localStore).then(function(e){return Zd(t,e)})]})})}function tf(e,t,n,r){return(0,vt.mG)(this,void 0,void 0,function(){var i,o;return(0,vt.Jh)(this,function(s){switch(s.label){case 0:return[4,function(e,t){var n=Bo(e),r=Bo(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(e){return r.jt(e,t).next(function(t){return t?n.Mn.pn(e,t):Sc.resolve(null)})})}((i=Bo(e)).localStore,t)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,nd(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Gd(i,t,r||null),Hd(i,t),function(e,t){Bo(Bo(e)._n).Gt(t)}(i.localStore,t)):jo(),s.label=4;case 4:return[4,Zd(i,o)];case 5:return s.sent(),[3,7];case 6:Po("SyncEngine","Cannot apply mutation batch with id: "+t),s.label=7;case 7:return[2]}})})}function nf(e,t){return(0,vt.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return(0,vt.Jh)(this,function(c){switch(c.label){case 0:return cf(n=Bo(e)),lf(n),!0!==t||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,rf(n,r.toArray())]);case 1:return i=c.sent(),n.$o=!0,[4,cd(n.remoteStore,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)Hh(n.remoteStore,s[o]);return[3,7];case 3:return!1!==t||!1===n.$o?[3,7]:(a=[],u=Promise.resolve(),n.Vo.forEach(function(e,t){n.sharedClientState.isLocalQueryTarget(t)?a.push(t):u=u.then(function(){return zd(n,t),Yl(n.localStore,t,!0)}),Gh(n.remoteStore,t)}),[4,u]);case 4:return c.sent(),[4,rf(n,a)];case 5:return c.sent(),function(e){var t=Bo(e);t.Co.forEach(function(e,n){Gh(t.remoteStore,n)}),t.No.ts(),t.Co=new Map,t.Do=new Ya(ps.comparator)}(n),n.$o=!1,[4,cd(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function rf(e,t,n){return(0,vt.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,h,d,f,p;return(0,vt.Jh)(this,function(g){switch(g.label){case 0:n=Bo(e),r=[],i=[],o=0,s=t,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.Vo.get(a=s[o]))&&0!==c.length?[4,Jl(n.localStore,aa(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(d=n.Po.get(h[l]),[4,Xd(n,d)]):[3,6];case 4:(f=g.sent()).snapshot&&i.push(f.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,eh(n.localStore,a)];case 8:return p=g.sent(),[4,Jl(n.localStore,p)];case 9:return u=g.sent(),[4,Fd(n,of(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function of(e){return Xs(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function sf(e){var t=Bo(e);return Bo(Bo(t.localStore).persistence).fn()}function af(e,t,n,r){return(0,vt.mG)(this,void 0,void 0,function(){var i,o,s;return(0,vt.Jh)(this,function(a){switch(a.label){case 0:return(i=Bo(e)).$o?(Po("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,th(i.localStore)];case 3:return o=a.sent(),s=fu.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,Zd(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Yl(i.localStore,t,!0)];case 6:return a.sent(),zd(i,t,r),[3,8];case 7:jo(),a.label=8;case 8:return[2]}})})}function uf(e,t,n){return(0,vt.mG)(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,h;return(0,vt.Jh)(this,function(d){switch(d.label){case 0:if(!(r=cf(e)).$o)return[3,10];i=0,o=t,d.label=1;case 1:return i<o.length?r.Vo.has(s=o[i])?(Po("SyncEngine","Adding an already active target "+s),[3,5]):[4,eh(r.localStore,s)]:[3,6];case 2:return a=d.sent(),[4,Jl(r.localStore,a)];case 3:return u=d.sent(),[4,Fd(r,of(a),u.targetId,!1)];case 4:d.sent(),Hh(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(e){return(0,vt.Jh)(this,function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,Yl(r.localStore,e,!1).then(function(){Gh(r.remoteStore,e),zd(r,e)}).catch(vl)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})},l=0,h=n,d.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function cf(e){var t=Bo(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Ld.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Yd.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=jd.bind(null,t),t.vo._r=_d.bind(null,t.eventManager),t.vo.Mo=Cd.bind(null,t.eventManager),t}function lf(e){var t=Bo(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ud.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Bd.bind(null,t),t}var hf=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return(0,vt.mG)(this,void 0,void 0,function(){return(0,vt.Jh)(this,function(t){switch(t.label){case 0:return this.R=Rh(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}})})},e.prototype.Uo=function(e){return null},e.prototype.Ko=function(e){return Gl(this.persistence,new ql,e.initialUser,this.R)},e.prototype.qo=function(e){return new dh(ph.bs,this.R)},e.prototype.Bo=function(e){return new Sh},e.prototype.terminate=function(){return(0,vt.mG)(this,void 0,void 0,function(){return(0,vt.Jh)(this,function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}})})},e}(),df=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Qo=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,vt.ZT)(t,e),t.prototype.initialize=function(t){return(0,vt.mG)(this,void 0,void 0,function(){var n=this;return(0,vt.Jh)(this,function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return r.sent(),[4,nh(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,t)];case 3:return r.sent(),[4,lf(this.Qo.syncEngine)];case 4:return r.sent(),[4,nd(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He(function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()})];case 6:return r.sent(),[2]}})})},t.prototype.Ko=function(e){return Gl(this.persistence,new ql,e.initialUser,this.R)},t.prototype.Uo=function(e){return new _l(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)},t.prototype.qo=function(e){var t=Vl(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?ol.withCacheSize(this.cacheSizeBytes):ol.DEFAULT;return new Pl(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Nh(),Oh(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new Sh},t}(hf),ff=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Qo=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,vt.ZT)(t,e),t.prototype.initialize=function(t){return(0,vt.mG)(this,void 0,void 0,function(){var n,r=this;return(0,vt.Jh)(this,function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof Ih?(this.sharedClientState.syncEngine={ui:tf.bind(null,n),ai:af.bind(null,n),hi:uf.bind(null,n),fn:sf.bind(null,n),ci:ef.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(e){return(0,vt.mG)(r,void 0,void 0,function(){return(0,vt.Jh)(this,function(t){switch(t.label){case 0:return[4,nf(this.Qo.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},t.prototype.Bo=function(e){var t=Nh();if(!Ih.yt(t))throw new Oo(No.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Vl(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Ih(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(df),pf=function(){function e(){}return e.prototype.initialize=function(e,t){return(0,vt.mG)(this,void 0,void 0,function(){var n=this;return(0,vt.Jh)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Vd(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Jd.bind(null,this.syncEngine),[4,cd(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(e){return new vd},e.prototype.createDatastore=function(e){var t=Rh(e.databaseInfo.databaseId),n=new kh(e.databaseInfo);return function(e,t,n){return new Vh(e,t,n)}(e.credentials,n,t)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,s=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Vd(s.syncEngine,e,0)},o=Th.yt()?new Th:new Dh,new Uh(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,s){var a=new Od(e,t,n,r,i,o);return s&&(a.$o=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return(0,vt.mG)(this,void 0,void 0,function(){var t;return(0,vt.Jh)(this,function(n){switch(n.label){case 0:return t=Bo(e),Po("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,qh(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}(),gf=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout(function(){n.muted||e(t)},0)},e}(),mf=(function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new Ic,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))},function(e){return n.metadata.reject(e)})}e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return(0,vt.mG)(this,void 0,void 0,function(){return(0,vt.Jh)(this,function(e){return[2,this.metadata.promise]})})},e.prototype.Lo=function(){return(0,vt.mG)(this,void 0,void 0,function(){return(0,vt.Jh)(this,function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}})})},e.prototype.Ho=function(){return(0,vt.mG)(this,void 0,void 0,function(){var e,t,n,r;return(0,vt.Jh)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(e=i.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Sd(JSON.parse(r),e.length+n)]}})})},e.prototype.Zo=function(){return this.buffer.findIndex(function(e){return e==="{".charCodeAt(0)})},e.prototype.Jo=function(){return(0,vt.mG)(this,void 0,void 0,function(){var e,t;return(0,vt.Jh)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}})})},e.prototype.Xo=function(e){return(0,vt.mG)(this,void 0,void 0,function(){var t;return(0,vt.Jh)(this,function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}})})},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return(0,vt.mG)(this,void 0,void 0,function(){var e,t;return(0,vt.Jh)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}})})}}(),function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return(0,vt.mG)(this,void 0,void 0,function(){var t,n=this;return(0,vt.Jh)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Oo(No.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return(0,vt.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a;return(0,vt.Jh)(this,function(u){switch(u.label){case 0:return n=Bo(e),r=Pu(n.R)+"/documents",i={documents:t.map(function(e){return Nu(n.R,e)})},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach(function(e){var t=function(e,t){return"found"in t?function(e,t){Uo(!!t.found);var n=Ou(e,t.found.name),r=Au(t.found.updateTime),i=new xs({mapValue:{fields:t.found.fields}});return Ns.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Uo(!!t.missing),Uo(!!t.readTime);var n=Ou(e,t.missing),r=Au(t.readTime);return Ns.newNoDocument(n,r)}(e,t):jo()}(n.R,e);s.set(t.key.toString(),t)}),a=[],[2,(t.forEach(function(e){var t=s.get(e.toString());Uo(!!t),a.push(t)}),a)]}})})}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach(function(e){return n.recordVersion(e)}),t)]}})})},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new Ka(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return(0,vt.mG)(this,void 0,void 0,function(){var e,t=this;return(0,vt.Jh)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach(function(t){e.delete(t.key.toString())}),e.forEach(function(e,n){var r=ps.fromPath(n);t.mutations.push(new Qa(r,t.precondition(r)))}),[4,function(e,t){return(0,vt.mG)(this,void 0,void 0,function(){var n,r,i;return(0,vt.Jh)(this,function(o){switch(o.label){case 0:return n=Bo(e),r=Pu(n.R)+"/documents",i={writes:t.map(function(e){return ju(n.R,e)})},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw jo();t=Qo.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Oo(No.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Oa.updateTime(t):Oa.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Qo.min()))throw new Oo(No.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Oa.updateTime(t)}return Oa.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}()),yf=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Fh(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji(function(){return(0,vt.mG)(e,void 0,void 0,function(){var e,t,n=this;return(0,vt.Jh)(this,function(r){return e=new mf(this.datastore),(t=this.sc(e))&&t.then(function(t){n.asyncQueue.enqueueAndForget(function(){return e.commit().then(function(){n.deferred.resolve(t)}).catch(function(e){n.ic(e)})})}).catch(function(e){n.ic(e)}),[2]})})})},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!hs(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return t.nc(),Promise.resolve()})):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Za(t)}return!1},e}(),vf=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=gh.UNAUTHENTICATED,this.clientId=Ho.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,function(e){return(0,vt.mG)(r,void 0,void 0,function(){return(0,vt.Jh)(this,function(t){switch(t.label){case 0:return Po("FirestoreClient","Received user=",e.uid),[4,this.credentialListener(e)];case 1:return t.sent(),this.user=e,[2]}})})})}return e.prototype.getConfiguration=function(){return(0,vt.mG)(this,void 0,void 0,function(){return(0,vt.Jh)(this,function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Oo(No.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Ic;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,vt.mG)(e,void 0,void 0,function(){var e,n;return(0,vt.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=fd(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}})})}),t.promise},e}();function bf(e,t){return(0,vt.mG)(this,void 0,void 0,function(){var n,r,i=this;return(0,vt.Jh)(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),Po("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener(function(e){return(0,vt.mG)(i,void 0,void 0,function(){return(0,vt.Jh)(this,function(n){switch(n.label){case 0:return r.isEqual(e)?[3,2]:[4,zl(t.localStore,e)];case 1:n.sent(),r=e,n.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function wf(e,t){return(0,vt.mG)(this,void 0,void 0,function(){var n,r;return(0,vt.Jh)(this,function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,_f(e)];case 1:return n=i.sent(),Po("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener(function(e){return function(e,t){return(0,vt.mG)(this,void 0,void 0,function(){var n,r;return(0,vt.Jh)(this,function(i){switch(i.label){case 0:return(n=Bo(e)).asyncQueue.verifyOperationInProgress(),Po("RemoteStore","RemoteStore received new credentials"),r=Wh(n),n.Or.add(3),[4,qh(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.Or.delete(3),[4,Bh(n)];case 3:return i.sent(),[2]}})})}(t.remoteStore,e)}),e.onlineComponents=t,[2]}})})}function _f(e){return(0,vt.mG)(this,void 0,void 0,function(){return(0,vt.Jh)(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(Po("FirestoreClient","Using default OfflineComponentProvider"),[4,bf(e,new hf)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function Cf(e){return(0,vt.mG)(this,void 0,void 0,function(){return(0,vt.Jh)(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(Po("FirestoreClient","Using default OnlineComponentProvider"),[4,wf(e,new pf)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function Ef(e){return _f(e).then(function(e){return e.persistence})}function If(e){return _f(e).then(function(e){return e.localStore})}function Sf(e){return Cf(e).then(function(e){return e.remoteStore})}function Df(e){return Cf(e).then(function(e){return e.syncEngine})}function Tf(e){return(0,vt.mG)(this,void 0,void 0,function(){var t,n;return(0,vt.Jh)(this,function(r){switch(r.label){case 0:return[4,Cf(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=Rd.bind(null,t.syncEngine),n.onUnlisten=Pd.bind(null,t.syncEngine),n)]}})})}function Af(e,t,n){var r=this;void 0===n&&(n={});var i=new Ic;return e.asyncQueue.enqueueAndForget(function(){return(0,vt.mG)(r,void 0,void 0,function(){var r;return(0,vt.Jh)(this,function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new gf({next:function(o){t.enqueueAndForget(function(){return wd(e,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new Oo(No.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Oo(No.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),s=new Id(ea(n.path),o,{includeMetadataChanges:!0,so:!0});return bd(e,s)},[4,Tf(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}function xf(e,t,n){var r=this;void 0===n&&(n={});var i=new Ic;return e.asyncQueue.enqueueAndForget(function(){return(0,vt.mG)(r,void 0,void 0,function(){var r;return(0,vt.Jh)(this,function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new gf({next:function(n){t.enqueueAndForget(function(){return wd(e,s)}),n.fromCache&&"server"===r.source?i.reject(new Oo(No.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),s=new Id(n,o,{includeMetadataChanges:!0,so:!0});return bd(e,s)},[4,Tf(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}var kf=function(e,t,n,r,i,o,s,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a},Nf=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),Of=new Map,Rf=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},Ff=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable(function(){return t(gh.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),Pf=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable(function(){return t(n.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),Mf=function(){function e(e){var t=this;this.currentUser=gh.UNAUTHENTICATED,this.oc=new Ic,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable(function(){return t.changeListener(t.currentUser)})};var n=function(e){Po("FirebaseCredentialsProvider","Auth detected"),t.auth=e,t.auth.addAuthTokenListener(t.uc)};e.onInit(function(e){return n(e)}),setTimeout(function(){if(!t.auth){var r=e.getImmediate({optional:!0});r?n(r):(Po("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve())}},0)}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return e.cc!==t?(Po("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Uo("string"==typeof n.accessToken),new Rf(n.accessToken,e.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e,t){var n=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable(function(){return(0,vt.mG)(n,void 0,void 0,function(){return(0,vt.Jh)(this,function(e){switch(e.label){case 0:return[4,this.oc.promise];case 1:return e.sent(),[4,t(this.currentUser)];case 2:return e.sent(),this.changeListener=t,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return Uo(null===e||"string"==typeof e),new gh(e)},e}(),Lf=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n,this.type="FirstParty",this.user=gh.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),e}(),Vf=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n}return e.prototype.getToken=function(){return Promise.resolve(new Lf(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(e,t){e.enqueueRetryable(function(){return t(gh.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function jf(e,t,n){if(!n)throw new Oo(No.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Uf(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Oo(No.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function Bf(e,t,n,r){if(!0===t&&!0===r)throw new Oo(No.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function qf(e){if(!ps.isDocumentKey(e))throw new Oo(No.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function Hf(e){if(ps.isDocumentKey(e))throw new Oo(No.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Gf(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":jo()}function zf(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Oo(No.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Gf(e);throw new Oo(No.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function $f(e,t){if(t<=0)throw new Oo(No.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var Kf=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Oo(No.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Oo(No.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Bf("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},e}(),Qf=function(){function e(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Kf({}),this._settingsFrozen=!1,e instanceof Nf?(this._databaseId=e,this._credentials=new Ff):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Oo(No.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nf(e.options.projectId)}(e),this._credentials=new Mf(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new Oo(No.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new Oo(No.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Kf(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new Ff;switch(e.type){case"gapi":var t=e.client;return Uo(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Vf(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Oo(No.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return(e=Of.get(this))&&(Po("ComponentProvider","Removing Datastore"),Of.delete(this),e.terminate()),Promise.resolve();var e},e}(),Wf=function(){function e(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Jf(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Zf=function(){function e(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Jf=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,ea(r))||this)._path=r,i.type="collection",i}return(0,vt.ZT)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Wf(this.firestore,null,new ps(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(Zf);function Yf(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=(0,bt.m9)(e),jf("collection","path",t),e instanceof Qf)return Hf(n=Xo.fromString.apply(Xo,(0,vt.ev)([t],r))),new Jf(e,null,n);if(!(e instanceof Wf||e instanceof Jf))throw new Oo(No.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Hf(n=Xo.fromString.apply(Xo,(0,vt.ev)([e.path],r)).child(Xo.fromString(t))),new Jf(e.firestore,null,n)}function Xf(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=(0,bt.m9)(e),1===arguments.length&&(t=Ho.u()),jf("doc","path",t),e instanceof Qf)return qf(n=Xo.fromString.apply(Xo,(0,vt.ev)([t],r))),new Wf(e,null,new ps(n));if(!(e instanceof Wf||e instanceof Jf))throw new Oo(No.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return qf(n=e._path.child(Xo.fromString.apply(Xo,(0,vt.ev)([t],r)))),new Wf(e.firestore,e instanceof Jf?e.converter:null,new ps(n))}function ep(e,t){return e=(0,bt.m9)(e),t=(0,bt.m9)(t),(e instanceof Wf||e instanceof Jf)&&(t instanceof Wf||t instanceof Jf)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function tp(e,t){return e=(0,bt.m9)(e),t=(0,bt.m9)(t),e instanceof Zf&&t instanceof Zf&&e.firestore===t.firestore&&ca(e._query,t._query)&&e.converter===t.converter}var np=function(){function e(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Fh(this,"async_queue_retry"),this.Ic=function(){var t=Oh();t&&Po("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=Oh();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},e.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var t=Oh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(e){var t=this;if(this.Ac(),this._c)return new Promise(function(){});var n=new Ic;return this.Rc(function(){return t._c&&t.Ec?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)}).then(function(){return n.promise})},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget(function(){return t.wc.push(e),t.bc()})},e.prototype.bc=function(){return(0,vt.mG)(this,void 0,void 0,function(){var e,t=this;return(0,vt.Jh)(this,function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!kc(e=n.sent()))throw e;return Po("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return t.bc()}),n.label=5;case 5:return[2]}})})},e.prototype.Rc=function(e){var t=this,n=this.dc.then(function(){return t.gc=!0,e().catch(function(e){throw t.yc=e,t.gc=!1,Mo("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e}).then(function(e){return t.gc=!1,e})});return this.dc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Ac(),this.Tc.indexOf(e)>-1&&(t=0);var i=dd.createAndSchedule(this,e,t,n,function(e){return r.vc(e)});return this.mc.push(i),i},e.prototype.Ac=function(){this.yc&&jo()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return(0,vt.mG)(this,void 0,void 0,function(){var e;return(0,vt.Jh)(this,function(t){switch(t.label){case 0:return[4,e=this.dc];case 1:t.sent(),t.label=2;case 2:if(e!==this.dc)return[3,0];t.label=3;case 3:return[2]}})})},e.prototype.Vc=function(e){for(var t=0,n=this.mc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Sc=function(e){var t=this;return this.Pc().then(function(){t.mc.sort(function(e,t){return e.targetTimeMs-t.targetTimeMs});for(var n=0,r=t.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.Pc()})},e.prototype.Dc=function(e){this.Tc.push(e)},e.prototype.vc=function(e){var t=this.mc.indexOf(e);this.mc.splice(t,1)},e}();function rp(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}!function(){function e(){this._progressObserver={},this._taskCompletionResolver=new Ic,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}();var ip=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).type="firestore",r._queue=new np,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return(0,vt.ZT)(t,e),t.prototype._terminate=function(){return this._firestoreClient||sp(this),this._firestoreClient.terminate()},t}(Qf);function op(e){return e._firestoreClient||sp(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function sp(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new kf(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new vf(e._credentials,e._queue,r)}function ap(e,t,n){var r=this,i=new Ic;return e.asyncQueue.enqueue(function(){return(0,vt.mG)(r,void 0,void 0,function(){var r;return(0,vt.Jh)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,bf(e,n)];case 1:return o.sent(),[4,wf(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===No.FAILED_PRECONDITION||e.code===No.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function up(e){if(e._initialized||e._terminated)throw new Oo(No.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var cp=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new Oo(No.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ts(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),lp=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(rs.fromBase64String(t))}catch(t){throw new Oo(No.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(rs.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),hp=function(e){this._methodName=e},dp=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new Oo(No.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Oo(No.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return Go(this._lat,e._lat)||Go(this._long,e._long)},e}(),fp=/^__.*__$/,pp=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new Ba(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ua(e,this.data,t,this.fieldTransforms)},e}(),gp=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new Ba(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function mp(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw jo()}}var yp=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.$c(e),r},e.prototype.Oc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.Cc(),r},e.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(e){return Lp(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find(function(t){return e.isPrefixOf(t)})||void 0!==this.fieldTransforms.find(function(t){return e.isPrefixOf(t.field)})},e.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},e.prototype.$c=function(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(mp(this.Nc)&&fp.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),vp=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||Rh(e)}return e.prototype.Uc=function(e,t,n,r){return void 0===r&&(r=!1),new yp({Nc:e,methodName:t,qc:n,path:ts.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function bp(e){var t=e._freezeSettings(),n=Rh(e._databaseId);return new vp(e._databaseId,!!t.ignoreUndefinedProperties,n)}function wp(e,t,n,r,i,o){void 0===o&&(o={});var s=e.Uc(o.merge||o.mergeFields?2:0,t,n,i);Rp("Data must be an object, but it was:",s,r);var a,u,c=Np(r,s);if(o.merge)a=new ns(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,d=o.mergeFields;h<d.length;h++){var f=Fp(t,d[h],n);if(!s.contains(f))throw new Oo(No.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");Vp(l,f)||l.push(f)}a=new ns(l),u=s.fieldTransforms.filter(function(e){return a.covers(e.field)})}else a=null,u=s.fieldTransforms;return new pp(new xs(c),a,u)}var _p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,vt.ZT)(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Nc)throw e.Lc(1===e.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(hp);function Cp(e,t,n){return new yp({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var Ep=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,vt.ZT)(t,e),t.prototype._toFieldTransform=function(e){return new ka(e.path,new Ca)},t.prototype.isEqual=function(e){return e instanceof t},t}(hp),Ip=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return(0,vt.ZT)(t,e),t.prototype._toFieldTransform=function(e){var t=Cp(this,e,!0),n=this.Kc.map(function(e){return kp(e,t)}),r=new Ea(n);return new ka(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(hp),Sp=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return(0,vt.ZT)(t,e),t.prototype._toFieldTransform=function(e){var t=Cp(this,e,!0),n=this.Kc.map(function(e){return kp(e,t)}),r=new Sa(n);return new ka(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(hp),Dp=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Qc=n,r}return(0,vt.ZT)(t,e),t.prototype._toFieldTransform=function(e){var t=new Ta(e.R,ya(e.R,this.Qc));return new ka(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(hp);function Tp(e,t,n,r){var i=e.Uc(1,t,n);Rp("Data must be an object, but it was:",i,r);var o=[],s=xs.empty();Zo(r,function(e,r){var a=Mp(t,e,n);r=(0,bt.m9)(r);var u=i.Oc(a);if(r instanceof _p)o.push(a);else{var c=kp(r,u);null!=c&&(o.push(a),s.set(a,c))}});var a=new ns(o);return new gp(s,a,i.fieldTransforms)}function Ap(e,t,n,r,i,o){var s=e.Uc(1,t,n),a=[Fp(t,r,n)],u=[i];if(o.length%2!=0)throw new Oo(No.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(Fp(t,o[c])),u.push(o[c+1]);for(var l=[],h=xs.empty(),d=a.length-1;d>=0;--d)if(!Vp(l,a[d])){var f=a[d],p=u[d];p=(0,bt.m9)(p);var g=s.Oc(f);if(p instanceof _p)l.push(f);else{var m=kp(p,g);null!=m&&(l.push(f),h.set(f,m))}}var y=new ns(l);return new gp(h,y,s.fieldTransforms)}function xp(e,t,n,r){return void 0===r&&(r=!1),kp(n,e.Uc(r?4:3,t))}function kp(e,t){if(Op(e=(0,bt.m9)(e)))return Rp("Unsupported field value:",t,e),Np(e,t);if(e instanceof hp)return function(e,t){if(!mp(t.Nc))throw t.Lc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Lc(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.Nc)throw t.Lc("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var s=kp(o[i],t.Mc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,bt.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ya(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Ko.fromDate(e);return{timestampValue:Su(t.R,n)}}if(e instanceof Ko)return n=new Ko(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:Su(t.R,n)};if(e instanceof dp)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof lp)return{bytesValue:Du(t.R,e._byteString)};if(e instanceof Wf){var r=e.firestore._databaseId;if(!r.isEqual(n=t.databaseId))throw t.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:xu(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Lc("Unsupported field value: "+Gf(e))}(e,t)}function Np(e,t){var n={};return Jo(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Zo(e,function(e,r){var i=kp(r,t.kc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function Op(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ko||e instanceof dp||e instanceof lp||e instanceof Wf||e instanceof hp)}function Rp(e,t,n){if(!Op(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Gf(n);throw t.Lc("an object"===r?e+" a custom object":e+" "+r)}}function Fp(e,t,n){if((t=(0,bt.m9)(t))instanceof cp)return t._internalPath;if("string"==typeof t)return Mp(e,t);throw Lp("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var Pp=new RegExp("[~\\*/\\[\\]]");function Mp(e,t,n){if(t.search(Pp)>=0)throw Lp("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(cp.bind.apply(cp,(0,vt.ev)([void 0],t.split(".")))))._internalPath}catch(Lg){throw Lp("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Lp(e,t,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+t+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new Oo(No.INVALID_ARGUMENT,(a+=". ")+e+u)}function Vp(e,t){return e.some(function(e){return e.isEqual(t)})}var jp=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Wf(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new Up(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(Bp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),Up=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,vt.ZT)(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(jp);function Bp(e,t){return"string"==typeof t?Mp(e,t):t instanceof cp?t._internalPath:t._delegate._internalPath}var qp=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),Hp=function(e){function t(t,n,r,i,o,s){var a=this;return(a=e.call(this,t,n,r,i,s)||this)._firestore=t,a._firestoreImpl=t,a.metadata=o,a}return(0,vt.ZT)(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new Gp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(Bp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(jp),Gp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,vt.ZT)(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(Hp),zp=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new qp(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach(function(t){return e.push(t)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach(function(r){e.call(t,new Gp(n._firestore,n._userDataWriter,r.key,r,new qp(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Oo(No.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map(function(t){return{type:"added",doc:new Gp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new qp(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}})}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(function(e){return t||3!==e.type}).map(function(t){var n=new Gp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new qp(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:$p(t.type),doc:n,oldIndex:i,newIndex:o}})}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function $p(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return jo()}}function Kp(e,t){return e instanceof Hp&&t instanceof Hp?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof zp&&t instanceof zp&&e._firestore===t._firestore&&tp(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Qp(e){if(na(e)&&0===e.explicitOrderBy.length)throw new Oo(No.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Wp=function(){};function Zp(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var Jp=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).jc=t,i.Wc=n,i.Gc=r,i.type="where",i}return(0,vt.ZT)(t,e),t.prototype._apply=function(e){var t=bp(e.firestore),n=function(e,t,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Oo(No.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){ig(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(rg(r,e,l[c]));a={arrayValue:{values:u}}}else a=rg(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||ig(s,o),a=xp(n,"where",s,"in"===o||"not-in"===o);var h=Ls.create(i,o,a);return function(e,t){if(t.g()){var n=ia(e);if(null!==n&&!n.isEqual(t.field))throw new Oo(No.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=ra(e);null!==r&&og(0,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw new Oo(No.INVALID_ARGUMENT,i===t.op?"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter.":"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Zf(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Ys(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}(Wp),Yp=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).jc=t,r.zc=n,r.type="orderBy",r}return(0,vt.ZT)(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Oo(No.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Oo(No.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Qs(t,n);return function(e,t){if(null===ra(e)){var n=ia(e);null!==n&&og(0,n,t.field)}}(e,r),r}(e._query,this.jc,this.zc);return new Zf(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Ys(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(Wp),Xp=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return(0,vt.ZT)(t,e),t.prototype._apply=function(e){return new Zf(e.firestore,e.converter,ua(e._query,this.Hc,this.Jc))},t}(Wp),eg=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return(0,vt.ZT)(t,e),t.prototype._apply=function(e){var t=ng(e,this.type,this.Yc,this.Xc);return new Zf(e.firestore,e.converter,function(e,t){return new Ys(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(Wp),tg=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return(0,vt.ZT)(t,e),t.prototype._apply=function(e){var t=ng(e,this.type,this.Yc,this.Xc);return new Zf(e.firestore,e.converter,function(e,t){return new Ys(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(Wp);function ng(e,t,n,r){if(n[0]=(0,bt.m9)(n[0]),n[0]instanceof jp)return function(e,t,n,r,i){if(!r)throw new Oo(No.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=sa(e);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(Cs(t,r.key));else{var c=r.data.field(u.field);if(us(c))throw new Oo(No.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Oo(No.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new $s(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=bp(e.firestore);return function(e,t,n,r,i,o){var s=e.explicitOrderBy;if(i.length>s.length)throw new Oo(No.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new Oo(No.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!oa(e)&&-1!==c.indexOf("/"))throw new Oo(No.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(Xo.fromString(c));if(!ps.isDocumentKey(l))throw new Oo(No.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new ps(l);a.push(Cs(t,h))}else{var d=xp(n,r,c);a.push(d)}}return new $s(a,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function rg(e,t,n){if("string"==typeof(n=(0,bt.m9)(n))){if(""===n)throw new Oo(No.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!oa(t)&&-1!==n.indexOf("/"))throw new Oo(No.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(Xo.fromString(n));if(!ps.isDocumentKey(r))throw new Oo(No.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Cs(e,new ps(r))}if(n instanceof Wf)return Cs(e,n._key);throw new Oo(No.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Gf(n)+".")}function ig(e,t){if(!Array.isArray(e)||0===e.length)throw new Oo(No.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new Oo(No.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function og(e,t,n){if(!n.isEqual(t))throw new Oo(No.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var sg=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ss(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(as(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw jo()}},e.prototype.convertObject=function(e,t){var n=this,r={};return Zo(e.fields,function(e,i){r[e]=n.convertValue(i,t)}),r},e.prototype.convertGeoPoint=function(e){return new dp(ss(e.latitude),ss(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map(function(e){return n.convertValue(e,t)})},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=cs(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ls(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=os(e);return new Ko(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=Xo.fromString(e);Uo(ec(n));var r=new Nf(n.get(1),n.get(3)),i=new ps(n.popFirst(5));return r.isEqual(t)||Mo("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();function ag(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var ug=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,vt.ZT)(t,e),t.prototype.convertBytes=function(e){return new lp(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wf(this.firestore,null,t)},t}(sg),cg=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=bp(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=lg(e,this._firestore),i=ag(r.converter,t,n),o=wp(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Oa.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=lg(e,this._firestore);return o="string"==typeof(t=(0,bt.m9)(t))||t instanceof cp?Ap(this._dataReader,"WriteBatch.update",s._key,t,n,r):Tp(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(o.toMutation(s._key,Oa.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=lg(e,this._firestore);return this._mutations=this._mutations.concat(new Ka(t._key,Oa.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new Oo(No.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function lg(e,t){if((e=(0,bt.m9)(e)).firestore!==t)throw new Oo(No.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var hg=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,vt.ZT)(t,e),t.prototype.convertBytes=function(e){return new lp(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wf(this.firestore,null,t)},t}(sg);function dg(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=zf(e,Wf);var o=zf(e.firestore,ip),s=bp(o);return pg(o,[("string"==typeof(t=(0,bt.m9)(t))||t instanceof cp?Ap(s,"updateDoc",e._key,t,n,r):Tp(s,"updateDoc",e._key,t)).toMutation(e._key,Oa.exists(!0))])}function fg(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e=(0,bt.m9)(e);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||rp(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(rp(i[a])){var d=i[a];i[a]=null===(t=d.next)||void 0===t?void 0:t.bind(d),i[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[a+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(e instanceof Wf)c=zf(e.firestore,ip),l=ea(e._key.path),u={next:function(t){i[a]&&i[a](gg(c,e,t))},error:i[a+1],complete:i[a+2]};else{var f=zf(e,Zf);c=zf(f.firestore,ip),l=f._query;var p=new hg(c);u={next:function(e){i[a]&&i[a](new zp(c,p,f,e))},error:i[a+1],complete:i[a+2]},Qp(e._query)}return function(e,t,n,r){var i=this,o=new gf(r),s=new Id(t,o,n);return e.asyncQueue.enqueueAndForget(function(){return(0,vt.mG)(i,void 0,void 0,function(){var t;return(0,vt.Jh)(this,function(n){switch(n.label){case 0:return t=bd,[4,Tf(e)];case 1:return[2,t.apply(void 0,[n.sent(),s])]}})})}),function(){o.Wo(),e.asyncQueue.enqueueAndForget(function(){return(0,vt.mG)(i,void 0,void 0,function(){var t;return(0,vt.Jh)(this,function(n){switch(n.label){case 0:return t=wd,[4,Tf(e)];case 1:return[2,t.apply(void 0,[n.sent(),s])]}})})})}}(op(c),l,h,u)}function pg(e,t){return function(e,t){var n=this,r=new Ic;return e.asyncQueue.enqueueAndForget(function(){return(0,vt.mG)(n,void 0,void 0,function(){var n;return(0,vt.Jh)(this,function(i){switch(i.label){case 0:return n=Md,[4,Df(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}})})}),r.promise}(op(e),t)}function gg(e,t,n){var r=n.docs.get(t._key),i=new hg(e);return new Hp(e,i,t._key,r,new qp(n.hasPendingWrites,n.fromCache),t.converter)}var mg=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return(0,vt.ZT)(t,e),t.prototype.get=function(t){var n=this,r=lg(t,this._firestore),i=new hg(this._firestore);return e.prototype.get.call(this,t).then(function(e){return new Hp(n._firestore,i,r._key,e._document,new qp(!1,!1),r.converter)})},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=bp(e)}return e.prototype.get=function(e){var t=this,n=lg(e,this._firestore),r=new ug(this._firestore);return this._transaction.lookup([n._key]).then(function(e){if(!e||1!==e.length)return jo();var i=e[0];if(i.isFoundDocument())return new jp(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new jp(t._firestore,r,n._key,null,n.converter);throw jo()})},e.prototype.set=function(e,t,n){var r=lg(e,this._firestore),i=ag(r.converter,t,n),o=wp(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=lg(e,this._firestore);return o="string"==typeof(t=(0,bt.m9)(t))||t instanceof cp?Ap(this._dataReader,"Transaction.update",s._key,t,n,r):Tp(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,o),this},e.prototype.delete=function(e){var t=lg(e,this._firestore);return this._transaction.delete(t._key),this},e}());function yg(){if("undefined"==typeof Uint8Array)throw new Oo(No.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function vg(){if("undefined"==typeof atob)throw new Oo(No.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var bg=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return vg(),new e(lp.fromBase64String(t))},e.fromUint8Array=function(t){return yg(),new e(lp.fromUint8Array(t))},e.prototype.toBase64=function(){return vg(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return yg(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),wg=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){up(e=zf(e,ip));var n=op(e),r=e._freezeSettings(),i=new pf;return ap(n,i,new df(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){up(e=zf(e,ip));var t=op(e),n=e._freezeSettings(),r=new pf;return ap(t,r,new ff(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new Oo(No.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Ic;return e._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,vt.mG)(t,void 0,void 0,function(){var t;return(0,vt.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return(0,vt.mG)(this,void 0,void 0,function(){return(0,vt.Jh)(this,function(t){switch(t.label){case 0:return Tc.yt()?[4,Tc.delete(e+"main")]:[2,Promise.resolve()];case 1:return t.sent(),[2]}})})}(Vl(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}})})}),n.promise}(e._delegate)},e}(),_g=function(){function e(e,t,n){var r=this;this._delegate=t,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof Nf||(this.tu=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Lo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){var i;void 0===r&&(r={});var o=(e=zf(e,Qf))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&Lo("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},o),{host:t+":"+n,ssl:!1})),r.mockUserToken){var s,a;if("string"==typeof r.mockUserToken)s=r.mockUserToken,a=gh.MOCK_USER;else{s=(0,bt.Sg)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);var u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Oo(No.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new gh(u)}e._credentials=new Pf(new Rf(s,a))}}(this._delegate,e,t,n)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue(function(){return(0,vt.mG)(t,void 0,void 0,function(){var t,n;return(0,vt.Jh)(this,function(r){switch(r.label){case 0:return[4,Ef(e)];case 1:return t=r.sent(),[4,Sf(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=Bo(e);return t.Or.delete(0),Bh(t)}(n))]}})})})}(op(zf(this._delegate,ip)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue(function(){return(0,vt.mG)(t,void 0,void 0,function(){var t,n;return(0,vt.Jh)(this,function(r){switch(r.label){case 0:return[4,Ef(e)];case 1:return t=r.sent(),[4,Sf(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return(0,vt.mG)(this,void 0,void 0,function(){var t;return(0,vt.Jh)(this,function(n){switch(n.label){case 0:return(t=Bo(e)).Or.add(0),[4,qh(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}})})}(n))]}})})})}(op(zf(this._delegate,ip)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&Bf("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new Ic;return e.asyncQueue.enqueueAndForget(function(){return(0,vt.mG)(t,void 0,void 0,function(){var t;return(0,vt.Jh)(this,function(r){switch(r.label){case 0:return t=qd,[4,Df(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}})})}),n.promise}(op(zf(this._delegate,ip)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,r=new gf(t);return e.asyncQueue.enqueueAndForget(function(){return(0,vt.mG)(n,void 0,void 0,function(){var t;return(0,vt.Jh)(this,function(n){switch(n.label){case 0:return t=function(e,t){Bo(e).Gr.add(t),t.next()},[4,Tf(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),e.asyncQueue.enqueueAndForget(function(){return(0,vt.mG)(n,void 0,void 0,function(){var t;return(0,vt.Jh)(this,function(n){switch(n.label){case 0:return t=function(e,t){Bo(e).Gr.delete(t)},[4,Tf(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}})})})}}(op(e=zf(e,ip)),rp(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new Oo(No.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new Pg(this,Yf(this._delegate,e))}catch(e){throw Tg(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new Dg(this,Xf(this._delegate,e))}catch(e){throw Tg(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new Og(this,function(e,t){if(e=zf(e,Qf),jf("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Oo(No.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Zf(e,null,function(e){return new Ys(Xo.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw Tg(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,r=new Ic;return e.asyncQueue.enqueueAndForget(function(){return(0,vt.mG)(n,void 0,void 0,function(){var n;return(0,vt.Jh)(this,function(i){switch(i.label){case 0:return[4,function(e){return Cf(e).then(function(e){return e.datastore})}(e)];case 1:return n=i.sent(),new yf(e.asyncQueue,n,t,r).run(),[2]}})})}),r.promise}(op(e),function(n){return t(new mg(e,n))})}(this._delegate,function(n){return e(new Eg(t,n))})},e.prototype.batch=function(){var e=this;return op(this._delegate),new Ig(new cg(this._delegate,function(t){return pg(e._delegate,t)}))},e.prototype.loadBundle=function(e){throw new Oo(No.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new Oo(No.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Cg=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,vt.ZT)(t,e),t.prototype.convertBytes=function(e){return new bg(new lp(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return Dg.eu(t,this.firestore,null)},t}(sg),Eg=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Cg(e)}return e.prototype.get=function(e){var t=this,n=Mg(e);return this._delegate.get(n).then(function(e){return new kg(t._firestore,new Hp(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))})},e.prototype.set=function(e,t,n){var r=Mg(e);return n?(Uf("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Mg(e);return 2===arguments.length?this._delegate.update(s,t):(r=this._delegate).update.apply(r,(0,vt.ev)([s,t,n],i)),this},e.prototype.delete=function(e){var t=Mg(e);return this._delegate.delete(t),this},e}(),Ig=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=Mg(e);return n?(Uf("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Mg(e);return 2===arguments.length?this._delegate.update(s,t):(r=this._delegate).update.apply(r,(0,vt.ev)([s,t,n],i)),this},e.prototype.delete=function(e){var t=Mg(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Sg=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new Gp(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ng(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new Cg(t),n),i.set(n,o)),o},e}();Sg.su=new WeakMap;var Dg=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Cg(e)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new Oo(No.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Wf(n._delegate,r,new ps(t)))},e.eu=function(t,n,r){return new e(n,new Wf(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Pg(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new Pg(this.firestore,Yf(this._delegate,e))}catch(e){throw Tg(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=(0,bt.m9)(e))instanceof Wf&&ep(this._delegate,e)},e.prototype.set=function(e,t){t=Uf("DocumentReference.set",t);try{return function(e,t,n){e=zf(e,Wf);var r=zf(e.firestore,ip),i=ag(e.converter,t,n);return pg(r,[wp(bp(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Oa.none())])}(this._delegate,e,t)}catch(e){throw Tg(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?dg(this._delegate,e):dg.apply(void 0,(0,vt.ev)([this._delegate,e,t],n))}catch(e){throw Tg(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return pg(zf((e=this._delegate).firestore,ip),[new Ka(e._key,Oa.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Ag(t),i=xg(t,function(t){return new kg(e.firestore,new Hp(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))});return fg(this._delegate,r,i)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=zf(e,Wf);var t=zf(e.firestore,ip),n=op(t),r=new hg(t);return function(e,t){var n=this,r=new Ic;return e.asyncQueue.enqueueAndForget(function(){return(0,vt.mG)(n,void 0,void 0,function(){var n;return(0,vt.Jh)(this,function(i){switch(i.label){case 0:return n=function(e,t,n){return(0,vt.mG)(this,void 0,void 0,function(){var r,i;return(0,vt.Jh)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(e,t){var n=Bo(e);return n.persistence.runTransaction("read document","readonly",function(e){return n.Mn.mn(e,t)})}(e,t)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Oo(No.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=fd(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,If(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}})})}),r.promise}(n,e._key).then(function(n){return new Hp(t,r,e._key,n,new qp(null!==n&&n.hasLocalMutations,!0),e.converter)})}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=zf(e,Wf);var t=zf(e.firestore,ip);return Af(op(t),e._key,{source:"server"}).then(function(n){return gg(t,e,n)})}(this._delegate):function(e){e=zf(e,Wf);var t=zf(e.firestore,ip);return Af(op(t),e._key).then(function(n){return gg(t,e,n)})}(this._delegate)).then(function(e){return new kg(t.firestore,new Hp(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Sg.nu(this.firestore,t):null))},e}();function Tg(e,t,n){return e.message=e.message.replace(t,n),e}function Ag(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!rp(r))return r}return{}}function xg(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=rp(e[0])?e[0]:rp(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var kg=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new Dg(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return Kp(this._delegate,e._delegate)},e}(),Ng=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,vt.ZT)(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(kg),Og=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Cg(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Zp(this._delegate,function(e,t,n){var r=t,i=Bp("where",e);return new Jp(i,r,n)}(t,n,r)))}catch(t){throw Tg(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Zp(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=Bp("orderBy",e);return new Yp(r,n)}(t,n)))}catch(t){throw Tg(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Zp(this._delegate,function(e){return $f("limit",e),new Xp("limit",e,"F")}(t)))}catch(t){throw Tg(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Zp(this._delegate,function(e){return $f("limitToLast",e),new Xp("limitToLast",e,"L")}(t)))}catch(t){throw Tg(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Zp(this._delegate,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new eg("startAt",e,!0)}).apply(void 0,t)))}catch(t){throw Tg(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Zp(this._delegate,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new eg("startAfter",e,!1)}).apply(void 0,t)))}catch(t){throw Tg(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Zp(this._delegate,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new tg("endBefore",e,!0)}).apply(void 0,t)))}catch(t){throw Tg(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Zp(this._delegate,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new tg("endAt",e,!1)}).apply(void 0,t)))}catch(t){throw Tg(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return tp(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=zf(e,Zf);var t=zf(e.firestore,ip),n=op(t),r=new hg(t);return function(e,t){var n=this,r=new Ic;return e.asyncQueue.enqueueAndForget(function(){return(0,vt.mG)(n,void 0,void 0,function(){var n;return(0,vt.Jh)(this,function(i){switch(i.label){case 0:return n=function(e,t,n){return(0,vt.mG)(this,void 0,void 0,function(){var r,i,o,s,a;return(0,vt.Jh)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Xl(e,t,!0)];case 1:return a=u.sent(),r=new xd(t,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=fd(s,"Failed to execute query '"+t+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,If(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}})})}),r.promise}(n,e._query).then(function(n){return new zp(t,r,e,n)})}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=zf(e,Zf);var t=zf(e.firestore,ip),n=op(t),r=new hg(t);return xf(n,e._query,{source:"server"}).then(function(n){return new zp(t,r,e,n)})}(this._delegate):function(e){e=zf(e,Zf);var t=zf(e.firestore,ip),n=op(t),r=new hg(t);return Qp(e._query),xf(n,e._query).then(function(n){return new zp(t,r,e,n)})}(this._delegate)).then(function(e){return new Fg(t.firestore,new zp(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))})},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Ag(t),i=xg(t,function(t){return new Fg(e.firestore,new zp(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))});return fg(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Sg.nu(this.firestore,t):null))},e}(),Rg=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Ng(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),Fg=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new Og(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map(function(t){return new Ng(e._firestore,t)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map(function(e){return new Rg(t._firestore,e)})},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach(function(r){e.call(t,new Ng(n._firestore,r))})},e.prototype.isEqual=function(e){return Kp(this._delegate,e._delegate)},e}(),Pg=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return(0,vt.ZT)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new Dg(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new Dg(this.firestore,void 0===e?Xf(this._delegate):Xf(this._delegate,e))}catch(e){throw Tg(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=zf(e.firestore,ip),r=Xf(e),i=ag(e.converter,t);return pg(n,[wp(bp(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Oa.exists(!1))]).then(function(){return r})}(this._delegate,e).then(function(e){return new Dg(t.firestore,e)})},t.prototype.isEqual=function(e){return ep(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Sg.nu(this.firestore,e):null))},t}(Og);function Mg(e){return zf(e,Wf)}var Lg,Vg=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(cp.bind.apply(cp,(0,vt.ev)([void 0],e)))}return e.documentId=function(){return new e(ts.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=(0,bt.m9)(e))instanceof cp&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),jg=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new Ep("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new _p("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Ip("arrayUnion",e)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Sp("arrayRemove",e)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(e){return new Dp("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}(),Ug=n(6034),Bg={Firestore:_g,GeoPoint:dp,Timestamp:Ko,Blob:bg,Transaction:Eg,WriteBatch:Ig,DocumentReference:Dg,DocumentSnapshot:kg,Query:Og,QueryDocumentSnapshot:Ng,QuerySnapshot:Fg,CollectionReference:Pg,FieldPath:Vg,FieldValue:jg,setLogLevel:function(e){Ro.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new Ug.wA("firestore",function(e){return function(e,t){return new _g(e,new ip(e,t),new wg)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Bg)))})(Lg=yt.Z),Lg.registerVersion("@firebase/firestore","2.4.0");var qg=n(9765),Hg=n(6682),Gg=n(5345);function zg(e,t){return"function"==typeof t?n=>n.pipe(zg((n,r)=>(0,M.D)(e(n,r)).pipe((0,j.U)((e,i)=>t(n,e,r,i))))):t=>t.lift(new $g(e))}class $g{constructor(e){this.project=e}call(e,t){return t.subscribe(new Kg(e,this.project))}}class Kg extends Gg.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const n=new Gg.IY(this),r=this.destination;r.add(n),this.innerSubscription=(0,Gg.ft)(e,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}var Qg=n(7771),Wg=n(5319),Zg=n(7971),Jg=n(8858);class Yg extends qg.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new Xg(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,n=t?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new Zg.N;if(this.isStopped||this.hasError?o=Wg.w.EMPTY:(this.observers.push(e),o=new Jg.W(this,e)),r&&e.add(e=new gt.ht(e,r)),t)for(let s=0;s<i&&!e.closed;s++)e.next(n[s]);else for(let s=0;s<i&&!e.closed;s++)e.next(n[s].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),o}_getNow(){return(this.scheduler||Qg.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(e-r[o].time<n);)o++;return i>t&&(o=Math.max(o,i-t)),o>0&&r.splice(0,o),r}}class Xg{constructor(e,t){this.time=e,this.value=t}}function em(e,t,n){let r;return r=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n},e=>e.lift(function({bufferSize:e=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){let l;s++,!i||a?(a=!1,i=new Yg(e,t,r),l=i.subscribe(this),o=c.subscribe({next(e){i.next(e)},error(e){a=!0,i.error(e)},complete(){u=!0,o=void 0,i.complete()}}),u&&(o=void 0)):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),l=void 0,o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}const tm=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})(),nm=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})();var rm=n(9193);function im(e){return t=>0===e?(0,rm.c)():t.lift(new om(e))}class om{constructor(e){if(this.total=e,this.total<0)throw new nm}call(e,t){return t.subscribe(new sm(e,this.total))}}class sm extends rt.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}function am(e=null){return t=>t.lift(new um(e))}class um{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new cm(e,this.defaultValue))}}class cm extends rt.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function lm(e=fm){return t=>t.lift(new hm(e))}class hm{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new dm(e,this.errorFactory))}}class dm extends rt.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(Lg){e=Lg}this.destination.error(e)}}}function fm(){return new tm}var pm=n(4487);function gm(e,t){const n=arguments.length>=2;return r=>r.pipe(e?dt((t,n)=>e(t,n,r)):pm.y,im(1),n?am(t):lm(()=>new tm))}function mm(e,t){return t?zg(()=>e,t):zg(()=>e)}var ym=n(3101);const vm=new i.InjectionToken("angularfire2.auth.use-emulator"),bm=new i.InjectionToken("angularfire2.auth.settings"),wm=new i.InjectionToken("angularfire2.auth.tenant-id"),_m=new i.InjectionToken("angularfire2.auth.langugage-code"),Cm=new i.InjectionToken("angularfire2.auth.use-device-language"),Em=new i.InjectionToken("angularfire.auth.persistence");let Im=(()=>{class e{constructor(e,t,i,o,s,a,u,c,l,h){const d=new Ze.HU(o),f=(0,Ze.ss)(d),p=new qg.xQ,g=(0,Ye.of)(void 0).pipe((0,gt.QV)(d.outsideAngular),zg(()=>o.runOutsideAngular(()=>n.e(336).then(n.bind(n,1336)))),(0,j.U)(()=>(0,Ze.on)(e,o,t)),(0,j.U)(e=>o.runOutsideAngular(()=>{const t=s,n=a;return(0,Ze.sI)(`${e.name}.auth`,"AngularFireAuth",e,()=>{const r=o.runOutsideAngular(()=>e.auth());if(t&&r.useEmulator(`http://${t.join(":")}`),u&&(r.tenantId=u),r.languageCode=c,l&&r.useDeviceLanguage(),n)for(const[e,t]of Object.entries(n))r.settings[e]=t;return h&&r.setPersistence(h),r},[t,u,c,l,n,h])})),em({bufferSize:1,refCount:!1}));if((0,r.isPlatformServer)(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ye.of)(null);else{g.pipe(gm()).subscribe();const e=g.pipe(zg(e=>e.getRedirectResult().then(e=>e,()=>null)),f,em({bufferSize:1,refCount:!1})),t=e=>new L.y(t=>({unsubscribe:o.runOutsideAngular(()=>e(t))})),n=g.pipe(zg(e=>t(e.onAuthStateChanged.bind(e)))),r=g.pipe(zg(e=>t(e.onIdTokenChanged.bind(e))));this.authState=e.pipe(mm(n),(0,ym.R)(d.outsideAngular),(0,gt.QV)(d.insideAngular)),this.user=e.pipe(mm(r),(0,ym.R)(d.outsideAngular),(0,gt.QV)(d.insideAngular)),this.idToken=this.user.pipe(zg(e=>e?(0,M.D)(e.getIdToken()):(0,Ye.of)(null))),this.idTokenResult=this.user.pipe(zg(e=>e?(0,M.D)(e.getIdTokenResult()):(0,Ye.of)(null))),this.credential=(0,Hg.T)(e,p,this.authState.pipe(dt(e=>!e))).pipe((0,j.U)(e=>(null==e?void 0:e.user)?e:null),(0,ym.R)(d.outsideAngular),(0,gt.QV)(d.insideAngular))}return(0,Ze.pX)(this,g,o,{spy:{apply:(e,t,n)=>{(e.startsWith("signIn")||e.startsWith("createUser"))&&n.then(e=>p.next(e))}}})}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](Ze.Dh),i["\u0275\u0275inject"](Ze.xv,8),i["\u0275\u0275inject"](i.PLATFORM_ID),i["\u0275\u0275inject"](i.NgZone),i["\u0275\u0275inject"](vm,8),i["\u0275\u0275inject"](bm,8),i["\u0275\u0275inject"](wm,8),i["\u0275\u0275inject"](_m,8),i["\u0275\u0275inject"](Cm,8),i["\u0275\u0275inject"](Em,8))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({factory:function(){return new e(i["\u0275\u0275inject"](Ze.Dh),i["\u0275\u0275inject"](Ze.xv,8),i["\u0275\u0275inject"](i.PLATFORM_ID),i["\u0275\u0275inject"](i.NgZone),i["\u0275\u0275inject"](vm,8),i["\u0275\u0275inject"](bm,8),i["\u0275\u0275inject"](wm,8),i["\u0275\u0275inject"](_m,8),i["\u0275\u0275inject"](Cm,8),i["\u0275\u0275inject"](Em,8))},token:e,providedIn:"any"}),e})(),Sm=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({providers:[Im]}),e})();function Dm(e,t){return function(e,t=Je.z){return new L.y(n=>{let r;return null!=t?t.schedule(()=>{r=e.onSnapshot({includeMetadataChanges:!0},n)}):r=e.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(e,t)}function Tm(e,t){return Dm(e,t).pipe((0,j.U)(e=>({payload:e,type:"query"})))}function Am(e,t){return Tm(e,t).pipe(nt(void 0),it(),(0,j.U)(([e,t])=>{const n=t.payload.docChanges(),r=n.map(e=>({type:e.type,payload:e}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(t.payload.metadata)&&t.payload.docs.forEach((t,i)=>{const o=n.find(e=>e.doc.ref.isEqual(t.ref)),s=null==e?void 0:e.payload.docs.find(e=>e.ref.isEqual(t.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(t.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(t.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:t}})}),r}))}function xm(e,t,n){return Am(e,n).pipe(at((e,n)=>function(e,t,n){return t.forEach(t=>{n.indexOf(t.type)>-1&&(e=function(e,t){switch(t.type){case"added":if(!e[t.newIndex]||!e[t.newIndex].doc.ref.isEqual(t.doc.ref))return km(e,t.newIndex,0,t);break;case"modified":if(null==e[t.oldIndex]||e[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const n=e.slice();return n.splice(t.oldIndex,1),n.splice(t.newIndex,0,t),n}return km(e,t.newIndex,1,t)}break;case"removed":if(e[t.oldIndex]&&e[t.oldIndex].doc.ref.isEqual(t.doc.ref))return km(e,t.oldIndex,1)}return e}(e,t))}),e}(e,n.map(e=>e.payload),t),[]),e=>e.lift(new lt(void 0,void 0)),(0,j.U)(e=>e.map(e=>({type:e.type,payload:e}))))}function km(e,t,n,...r){const i=e.slice();return i.splice(t,n,...r),i}function Nm(e){return e&&0!==e.length||(e=["added","removed","modified"]),e}class Om{constructor(e,t,n){this.ref=e,this.query=t,this.afs=n}stateChanges(e){let t=Am(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,j.U)(t=>t.filter(t=>e.indexOf(t.type)>-1)))),t.pipe(nt(void 0),it(),dt(([e,t])=>t.length>0||!e),(0,j.U)(([e,t])=>t),this.afs.keepUnstableUntilFirst)}auditTrail(e){return this.stateChanges(e).pipe(at((e,t)=>[...e,...t],[]))}snapshotChanges(e){const t=Nm(e);return xm(this.query,t,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(e={}){return Tm(this.query,this.afs.schedulers.outsideAngular).pipe((0,j.U)(t=>t.payload.docs.map(t=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data())),this.afs.keepUnstableUntilFirst)}get(e){return(0,M.D)(this.query.get(e)).pipe((0,gt.QV)(this.afs.schedulers.insideAngular))}add(e){return this.ref.add(e)}doc(e){return new Rm(this.ref.doc(e),this.afs)}}class Rm{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const n=this.ref.collection(e),{ref:r,query:i}=jm(n,t);return new Om(r,i,this.afs)}snapshotChanges(){return Dm(this.ref,this.afs.schedulers.outsideAngular).pipe(nt(void 0),it(),(0,j.U)(([e,t])=>t.exists?(null==e?void 0:e.exists)?{payload:t,type:"modified"}:{payload:t,type:"added"}:{payload:t,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(e={}){return this.snapshotChanges().pipe((0,j.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,M.D)(this.ref.get(e)).pipe((0,gt.QV)(this.afs.schedulers.insideAngular))}}class Fm{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Am(this.query,this.afs.schedulers.outsideAngular).pipe((0,j.U)(t=>t.filter(t=>e.indexOf(t.type)>-1)),dt(e=>e.length>0),this.afs.keepUnstableUntilFirst):Am(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(e){return this.stateChanges(e).pipe(at((e,t)=>[...e,...t],[]))}snapshotChanges(e){const t=Nm(e);return xm(this.query,t,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(e={}){return Tm(this.query,this.afs.schedulers.outsideAngular).pipe((0,j.U)(t=>t.payload.docs.map(t=>e.idField?Object.assign({[e.idField]:t.id},t.data()):t.data())),this.afs.keepUnstableUntilFirst)}get(e){return(0,M.D)(this.query.get(e)).pipe((0,gt.QV)(this.afs.schedulers.insideAngular))}}const Pm=new i.InjectionToken("angularfire2.enableFirestorePersistence"),Mm=new i.InjectionToken("angularfire2.firestore.persistenceSettings"),Lm=new i.InjectionToken("angularfire2.firestore.settings"),Vm=new i.InjectionToken("angularfire2.firestore.use-emulator");function jm(e,t=(e=>e)){return{query:t(e),ref:e}}let Um=(()=>{class e{constructor(e,t,n,i,o,s,a,u,c){this.schedulers=new Ze.HU(s),this.keepUnstableUntilFirst=(0,Ze.ss)(this.schedulers);const l=(0,Ze.on)(e,s,t);!mt.Z.auth&&c&&(0,Ze.yq)();const h=u;[this.firestore,this.persistenceEnabled$]=(0,Ze.sI)(`${l.name}.firestore`,"AngularFirestore",l,()=>{const e=s.runOutsideAngular(()=>l.firestore());if(i&&e.settings(i),h&&e.useEmulator(...h),n&&!(0,r.isPlatformServer)(o)){const t=()=>{try{return(0,M.D)(e.enablePersistence(a||void 0).then(()=>!0,()=>!1))}catch(Lg){return"undefined"!=typeof console&&console.warn(Lg),(0,Ye.of)(!1)}};return[e,s.runOutsideAngular(t)]}return[e,(0,Ye.of)(!1)]},[i,h,n])}collection(e,t){let n;n="string"==typeof e?this.firestore.collection(e):e;const{ref:r,query:i}=jm(n,t),o=this.schedulers.ngZone.run(()=>r);return new Om(o,i,this)}collectionGroup(e,t){const n=t||(e=>e),r=this.firestore.collectionGroup(e);return new Fm(n(r),this)}doc(e){let t;t="string"==typeof e?this.firestore.doc(e):e;const n=this.schedulers.ngZone.run(()=>t);return new Rm(n,this)}createId(){return this.firestore.collection("_").doc().id}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](Ze.Dh),i["\u0275\u0275inject"](Ze.xv,8),i["\u0275\u0275inject"](Pm,8),i["\u0275\u0275inject"](Lm,8),i["\u0275\u0275inject"](i.PLATFORM_ID),i["\u0275\u0275inject"](i.NgZone),i["\u0275\u0275inject"](Mm,8),i["\u0275\u0275inject"](Vm,8),i["\u0275\u0275inject"](vm,8))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({factory:function(){return new e(i["\u0275\u0275inject"](Ze.Dh),i["\u0275\u0275inject"](Ze.xv,8),i["\u0275\u0275inject"](Pm,8),i["\u0275\u0275inject"](Lm,8),i["\u0275\u0275inject"](i.PLATFORM_ID),i["\u0275\u0275inject"](i.NgZone),i["\u0275\u0275inject"](Mm,8),i["\u0275\u0275inject"](Vm,8),i["\u0275\u0275inject"](vm,8))},token:e,providedIn:"any"}),e})(),Bm=(()=>{class e{static enablePersistence(t){return{ngModule:e,providers:[{provide:Pm,useValue:!0},{provide:Mm,useValue:t}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({providers:[Um]}),e})();class qm extends qg.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Zg.N;return this._value}next(e){super.next(this._value=e)}}class Hm extends rt.L{notifyNext(e,t,n,r,i){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class Gm extends rt.L{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var zm=n(7444);function $m(e,t,n,r,i=new Gm(e,n,r)){if(!i.closed)return t instanceof L.y?t.subscribe(i):(0,zm.s)(t)(i)}var Km=n(6693);const Qm={};class Wm{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new Zm(e,this.resultSelector))}}class Zm extends Hm{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(Qm),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++)this.add($m(this,e[n],void 0,n))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n){const r=this.values,i=this.toRespond?r[n]===Qm?--this.toRespond:this.toRespond:0;r[n]=t,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}function Jm(e){return new L.y(t=>{let n;try{n=e()}catch(r){return void t.error(r)}return(n?(0,M.D)(n):(0,rm.c)()).subscribe(t)})}var Ym=n(2441);function Xm(e){return function(t){const n=new ey(e),r=t.lift(n);return n.caught=r}}class ey{constructor(e){this.selector=e}call(e,t){return t.subscribe(new ty(e,this.selector,this.caught))}}class ty extends Gg.Ds{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const r=new Gg.IY(this);this.add(r);const i=(0,Gg.ft)(n,r);i!==r&&this.add(i)}}}var ny=n(9773);function ry(e,t){return(0,ny.zg)(e,t,1)}function iy(e){return function(t){return 0===e?(0,rm.c)():t.lift(new oy(e))}}class oy{constructor(e){if(this.total=e,this.total<0)throw new nm}call(e,t){return t.subscribe(new sy(e,this.total))}}class sy extends rt.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=t++%n;e.next(r[i])}}e.complete()}}var ay=n(3342),uy=n(1307);class cy{constructor(e){this.callback=e}call(e,t){return t.subscribe(new ly(e,this.callback))}}class ly extends rt.L{constructor(e,t){super(e),this.add(new Wg.w(t))}}class hy{constructor(e,t){this.id=e,this.url=t}}class dy extends hy{constructor(e,t,n="imperative",r=null){super(e,t),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class fy extends hy{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class py extends hy{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class gy extends hy{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class my extends hy{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yy extends hy{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vy extends hy{constructor(e,t,n,r,i){super(e,t),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class by extends hy{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wy extends hy{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _y{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Cy{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ey{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Iy{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sy{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dy{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ty{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ay="primary";class xy{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ky(e){return new xy(e)}function Ny(e){const t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function Oy(e,t,n){const r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let o=0;o<r.length;o++){const t=r[o],n=e[o];if(t.startsWith(":"))i[t.substring(1)]=n;else if(t!==n.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Ry(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Fy(e[i],t[i]))return!1;return!0}function Fy(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((e,t)=>r[t]===e)}return e===t}function Py(e){return Array.prototype.concat.apply([],e)}function My(e){return e.length>0?e[e.length-1]:null}function Ly(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Vy(e){return(0,i["\u0275isObservable"])(e)?e:(0,i["\u0275isPromise"])(e)?(0,M.D)(Promise.resolve(e)):(0,Ye.of)(e)}const jy={exact:function e(t,n,r){if(!Qy(t.segments,n.segments))return!1;if(!Gy(t.segments,n.segments,r))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!t.children[i])return!1;if(!e(t.children[i],n.children[i],r))return!1}return!0},subset:qy},Uy={exact:function(e,t){return Ry(e,t)},subset:function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>Fy(e[n],t[n]))},ignored:()=>!0};function By(e,t,n){return jy[n.paths](e.root,t.root,n.matrixParams)&&Uy[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function qy(e,t,n){return Hy(e,t,t.segments,n)}function Hy(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!!Qy(i,n)&&!t.hasChildren()&&!!Gy(i,n,r)}if(e.segments.length===n.length){if(!Qy(e.segments,n))return!1;if(!Gy(e.segments,n,r))return!1;for(const n in t.children){if(!e.children[n])return!1;if(!qy(e.children[n],t.children[n],r))return!1}return!0}{const i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!!Qy(e.segments,i)&&!!Gy(e.segments,i,r)&&!!e.children.primary&&Hy(e.children.primary,t,o,r)}}function Gy(e,t,n){return t.every((t,r)=>Uy[n](e[r].parameters,t.parameters))}class zy{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ky(this.queryParams)),this._queryParamMap}toString(){return Jy.serialize(this)}}class $y{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Ly(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Yy(this)}}class Ky{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ky(this.parameters)),this._parameterMap}toString(){return ov(this)}}function Qy(e,t){return e.length===t.length&&e.every((e,n)=>e.path===t[n].path)}class Wy{}class Zy{parse(e){const t=new lv(e);return new zy(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var t;return`/${Xy(e.root,!0)}${function(e){const t=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(e=>`${tv(t)}=${tv(e)}`).join("&"):`${tv(t)}=${tv(n)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${t=e.fragment,encodeURI(t)}`:""}`}}const Jy=new Zy;function Yy(e){return e.segments.map(e=>ov(e)).join("/")}function Xy(e,t){if(!e.hasChildren())return Yy(e);if(t){const t=e.children.primary?Xy(e.children.primary,!1):"",n=[];return Ly(e.children,(e,t)=>{t!==Ay&&n.push(`${t}:${Xy(e,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}{const t=function(e,t){let n=[];return Ly(e.children,(e,r)=>{r===Ay&&(n=n.concat(t(e,r)))}),Ly(e.children,(e,r)=>{r!==Ay&&(n=n.concat(t(e,r)))}),n}(e,(t,n)=>n===Ay?[Xy(e.children.primary,!1)]:[`${n}:${Xy(t,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children.primary?`${Yy(e)}/${t[0]}`:`${Yy(e)}/(${t.join("//")})`}}function ev(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function tv(e){return ev(e).replace(/%3B/gi,";")}function nv(e){return ev(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function rv(e){return decodeURIComponent(e)}function iv(e){return rv(e.replace(/\+/g,"%20"))}function ov(e){return`${nv(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${nv(e)}=${nv(t[e])}`).join("")}`;var t}const sv=/^[^\/()?;=#]+/;function av(e){const t=e.match(sv);return t?t[0]:""}const uv=/^[^=?&#]+/,cv=/^[^?&#]+/;class lv{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new $y([],{}):new $y([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new $y(e,t)),n}parseSegment(){const e=av(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Ky(rv(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=av(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=av(this.remaining);e&&(n=e,this.capture(n))}e[rv(t)]=rv(n)}parseQueryParam(e){const t=function(e){const t=e.match(uv);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(cv);return t?t[0]:""}(this.remaining);e&&(n=e,this.capture(n))}const r=iv(t),i=iv(n);if(e.hasOwnProperty(r)){let t=e[r];Array.isArray(t)||(t=[t],e[r]=t),t.push(i)}else e[r]=i}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=av(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=Ay);const o=this.parseChildren();t[i]=1===Object.keys(o).length?o.primary:new $y([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class hv{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=dv(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=dv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=fv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return fv(e,this._root).map(e=>e.value)}}function dv(e,t){if(e===t.value)return t;for(const n of t.children){const t=dv(e,n);if(t)return t}return null}function fv(e,t){if(e===t.value)return[t];for(const n of t.children){const r=fv(e,n);if(r.length)return r.unshift(t),r}return[]}class pv{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function gv(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class mv extends hv{constructor(e,t){super(e),this.snapshot=t,Cv(this,e)}toString(){return this.snapshot.toString()}}function yv(e,t){const n=function(e,t){const n=new wv([],{},{},"",{},Ay,t,null,e.root,-1,{});return new _v("",new pv(n,[]))}(e,t),r=new qm([new Ky("",{})]),i=new qm({}),o=new qm({}),s=new qm({}),a=new qm(""),u=new vv(r,i,s,a,o,Ay,t,n.root);return u.snapshot=n.root,new mv(new pv(u,[]),n)}class vv{constructor(e,t,n,r,i,o,s,a){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,j.U)(e=>ky(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,j.U)(e=>ky(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function bv(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const e=n[r],t=n[r-1];if(e.routeConfig&&""===e.routeConfig.path)r--;else{if(t.component)break;r--}}return function(e){return e.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class wv{constructor(e,t,n,r,i,o,s,a,u,c,l){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ky(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ky(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class _v extends hv{constructor(e,t){super(t),this.url=e,Cv(this,t)}toString(){return Ev(this._root)}}function Cv(e,t){t.value._routerState=e,t.children.forEach(t=>Cv(e,t))}function Ev(e){const t=e.children.length>0?` { ${e.children.map(Ev).join(", ")} } `:"";return`${e.value}${t}`}function Iv(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Ry(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Ry(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Ry(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Ry(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Sv(e,t){return Ry(e.params,t.params)&&function(e,t){return Qy(e,t)&&e.every((e,n)=>Ry(e.parameters,t[n].parameters))}(e.url,t.url)&&!(!e.parent!=!t.parent)&&(!e.parent||Sv(e.parent,t.parent))}function Dv(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function(e,t,n){return t.children.map(t=>{for(const r of n.children)if(e.shouldReuseRoute(t.value,r.value.snapshot))return Dv(e,t,r);return Dv(e,t)})}(e,t,n);return new pv(r,i)}{if(e.shouldAttach(t.value)){const n=e.retrieve(t.value);if(null!==n){const e=n.route;return Tv(t,e),e}}const n=new vv(new qm((r=t.value).url),new qm(r.params),new qm(r.queryParams),new qm(r.fragment),new qm(r.data),r.outlet,r.component,r),i=t.children.map(t=>Dv(e,t));return new pv(n,i)}var r}function Tv(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(let n=0;n<e.children.length;++n)Tv(e.children[n],t.children[n])}function Av(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function xv(e){return"object"==typeof e&&null!=e&&e.outlets}function kv(e,t,n,r,i){let o={};return r&&Ly(r,(e,t)=>{o[t]=Array.isArray(e)?e.map(e=>`${e}`):`${e}`}),new zy(n.root===e?t:Nv(n.root,e,t),o,i)}function Nv(e,t,n){const r={};return Ly(e.children,(e,i)=>{r[i]=e===t?n:Nv(e,t,n)}),new $y(e.segments,r)}class Ov{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&Av(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(xv);if(r&&r!==My(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Rv{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function Fv(e,t,n){if(e||(e=new $y([],{})),0===e.segments.length&&e.hasChildren())return Pv(e,t,n);const r=function(e,t,n){let r=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;const t=e.segments[i],s=n[r];if(xv(s))break;const a=`${s}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!jv(a,u,t))return o;r+=2}else{if(!jv(a,{},t))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const t=new $y(e.segments.slice(0,r.pathIndex),{});return t.children.primary=new $y(e.segments.slice(r.pathIndex),e.children),Pv(t,0,i)}return r.match&&0===i.length?new $y(e.segments,{}):r.match&&!e.hasChildren()?Mv(e,t,n):r.match?Pv(e,0,i):Mv(e,t,n)}function Pv(e,t,n){if(0===n.length)return new $y(e.segments,{});{const r=function(e){return xv(e[0])?e[0].outlets:{[Ay]:e}}(n),i={};return Ly(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Fv(e.children[r],t,n))}),Ly(e.children,(e,t)=>{void 0===r[t]&&(i[t]=e)}),new $y(e.segments,i)}}function Mv(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const o=n[i];if(xv(o)){const e=Lv(o.outlets);return new $y(r,e)}if(0===i&&Av(n[0])){r.push(new Ky(e.segments[t].path,Vv(n[0]))),i++;continue}const s=xv(o)?o.outlets.primary:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Av(a)?(r.push(new Ky(s,Vv(a))),i+=2):(r.push(new Ky(s,{})),i++)}return new $y(r,{})}function Lv(e){const t={};return Ly(e,(e,n)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[n]=Mv(new $y([],{}),0,e))}),t}function Vv(e){const t={};return Ly(e,(e,n)=>t[n]=`${e}`),t}function jv(e,t,n){return e==n.path&&Ry(t,n.parameters)}class Uv{constructor(e,t,n,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=r}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),Iv(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const r=gv(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,r[t],n),delete r[t]}),Ly(r,(e,t)=>{this.deactivateRouteAndItsChildren(e,n)})}deactivateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(e,t,i.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet);if(n&&n.outlet){const t=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:r})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet),r=n&&e.value.component?n.children:t,i=gv(e);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(e,t,n){const r=gv(t);e.children.forEach(e=>{this.activateRoutes(e,r[e.value.outlet],n),this.forwardEvent(new Dy(e.value.snapshot))}),e.children.length&&this.forwardEvent(new Iy(e.value.snapshot))}activateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(Iv(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,i.children)}else this.activateChildRoutes(e,t,n);else if(r.component){const t=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const e=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),Bv(e.route)}else{const n=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;t.attachRef=null,t.route=r,t.resolver=i,t.outlet&&t.outlet.activateWith(r,i),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}function Bv(e){Iv(e.value),e.children.forEach(Bv)}class qv{constructor(e,t){this.routes=e,this.module=t}}function Hv(e){return"function"==typeof e}function Gv(e){return e instanceof zy}const zv=Symbol("INITIAL_VALUE");function $v(){return zg(e=>function(...e){let t,n;return(0,tt.K)(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&(0,V.k)(e[0])&&(e=e[0]),(0,Km.n)(e,n).lift(new Wm(t))}(e.map(e=>e.pipe(im(1),nt(zv)))).pipe(at((e,t)=>{let n=!1;return t.reduce((e,r,i)=>{if(e!==zv)return e;if(r===zv&&(n=!0),!n){if(!1===r)return r;if(i===t.length-1||Gv(r))return r}return e},e)},zv),dt(e=>e!==zv),(0,j.U)(e=>Gv(e)?e:!0===e),im(1)))}let Kv=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&i["\u0275\u0275element"](0,"router-outlet")},directives:function(){return[Hb]},encapsulation:2}),e})();function Qv(e,t=""){for(let n=0;n<e.length;n++){const r=e[n];Wv(r,Zv(t,r))}}function Wv(e,t){e.children&&Qv(e.children,t)}function Zv(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function Jv(e){const t=e.children&&e.children.map(Jv),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Ay&&(n.component=Kv),n}function Yv(e){return e.outlet||Ay}function Xv(e,t){const n=e.filter(e=>Yv(e)===t);return n.push(...e.filter(e=>Yv(e)!==t)),n}const eb={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function tb(e,t,n){var r;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?Object.assign({},eb):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(t.matcher||Oy)(n,e,t);if(!i)return Object.assign({},eb);const o={};Ly(i.posParams,(e,t)=>{o[t]=e.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function nb(e,t,n,r,i="corrected"){if(n.length>0&&function(e,t,n){return n.some(n=>rb(e,t,n)&&Yv(n)!==Ay)}(e,n,r)){const i=new $y(t,function(e,t,n,r){const i={};i.primary=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const o of n)if(""===o.path&&Yv(o)!==Ay){const n=new $y([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,i[Yv(o)]=n}return i}(e,t,r,new $y(n,e.children)));return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(n=>rb(e,t,n))}(e,n,r)){const o=new $y(e.segments,function(e,t,n,r,i,o){const s={};for(const a of r)if(rb(e,n,a)&&!i[Yv(a)]){const n=new $y([],{});n._sourceSegment=e,n._segmentIndexShift="legacy"===o?e.segments.length:t.length,s[Yv(a)]=n}return Object.assign(Object.assign({},i),s)}(e,t,n,r,e.children,i));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:n}}const o=new $y(e.segments,e.children);return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:n}}function rb(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function ib(e,t,n,r){return!!(Yv(e)===r||r!==Ay&&rb(t,n,e))&&("**"===e.path||tb(t,e,n).matched)}function ob(e,t,n){return 0===t.length&&!e.children[n]}class sb{constructor(e){this.segmentGroup=e||null}}class ab{constructor(e){this.urlTree=e}}function ub(e){return new L.y(t=>t.error(new sb(e)))}function cb(e){return new L.y(t=>t.error(new ab(e)))}function lb(e){return new L.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class hb{constructor(e,t,n,r,o){this.configLoader=t,this.urlSerializer=n,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=e.get(i.NgModuleRef)}apply(){const e=nb(this.urlTree.root,[],[],this.config).segmentGroup,t=new $y(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Ay).pipe((0,j.U)(e=>this.createUrlTree(db(e),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Xm(e=>{if(e instanceof ab)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof sb)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Ay).pipe((0,j.U)(t=>this.createUrlTree(db(t),e.queryParams,e.fragment))).pipe(Xm(e=>{if(e instanceof sb)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const r=e.segments.length>0?new $y([],{[Ay]:e}):e;return new zy(r,t,n)}expandSegmentGroup(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe((0,j.U)(e=>new $y([],e))):this.expandSegment(e,n,t,n.segments,r,!0)}expandChildren(e,t,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return(0,M.D)(r).pipe(ry(r=>{const i=n.children[r],o=Xv(t,r);return this.expandSegmentGroup(e,o,i,r).pipe((0,j.U)(e=>({segment:e,outlet:r})))}),at((e,t)=>(e[t.outlet]=t.segment,e),{}),function(e,t){const n=arguments.length>=2;return r=>r.pipe(e?dt((t,n)=>e(t,n,r)):pm.y,iy(1),n?am(t):lm(()=>new tm))}())}expandSegment(e,t,n,r,i,o){return(0,M.D)(n).pipe(ry(s=>this.expandSegmentAgainstRoute(e,t,n,s,r,i,o).pipe(Xm(e=>{if(e instanceof sb)return(0,Ye.of)(null);throw e}))),gm(e=>!!e),Xm((e,n)=>{if(e instanceof tm||"EmptyError"===e.name){if(ob(t,r,i))return(0,Ye.of)(new $y([],{}));throw new sb(t)}throw e}))}expandSegmentAgainstRoute(e,t,n,r,i,o,s){return ib(r,t,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o):ub(t):ub(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?cb(i):this.lineralizeSegments(n,i).pipe((0,ny.zg)(n=>{const i=new $y(n,{});return this.expandSegment(e,i,t,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=tb(t,r,i);if(!s)return ub(t);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?cb(l):this.lineralizeSegments(r,l).pipe((0,ny.zg)(r=>this.expandSegment(e,t,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(e,t,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?(0,Ye.of)(n._loadedConfig):this.configLoader.load(e.injector,n)).pipe((0,j.U)(e=>(n._loadedConfig=e,new $y(r,{})))):(0,Ye.of)(new $y(r,{}));const{matched:o,consumedSegments:s,lastChild:a}=tb(t,n,r);if(!o)return ub(t);const u=r.slice(a);return this.getChildConfig(e,n,r).pipe((0,ny.zg)(e=>{const r=e.module,o=e.routes,{segmentGroup:a,slicedSegments:c}=nb(t,s,u,o),l=new $y(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,o,l).pipe((0,j.U)(e=>new $y(s,e)));if(0===o.length&&0===c.length)return(0,Ye.of)(new $y(s,{}));const h=Yv(n)===i;return this.expandSegment(r,l,o,c,h?Ay:i,!0).pipe((0,j.U)(e=>new $y(s.concat(e.segments),e.children)))}))}getChildConfig(e,t,n){return t.children?(0,Ye.of)(new qv(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,Ye.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,n).pipe((0,ny.zg)(n=>n?this.configLoader.load(e.injector,t).pipe((0,j.U)(e=>(t._loadedConfig=e,e))):function(e){return new L.y(t=>t.error(Ny(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):(0,Ye.of)(new qv([],e))}runCanLoadGuards(e,t,n){const r=t.canLoad;if(!r||0===r.length)return(0,Ye.of)(!0);const i=r.map(r=>{const i=e.get(r);let o;if(function(e){return e&&Hv(e.canLoad)}(i))o=i.canLoad(t,n);else{if(!Hv(i))throw new Error("Invalid CanLoad guard");o=i(t,n)}return Vy(o)});return(0,Ye.of)(i).pipe($v(),(0,ay.b)(e=>{if(!Gv(e))return;const t=Ny(`Redirecting to "${this.urlSerializer.serialize(e)}"`);throw t.url=e,t}),(0,j.U)(e=>!0===e))}lineralizeSegments(e,t){let n=[],r=t.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return(0,Ye.of)(n);if(r.numberOfChildren>1||!r.children.primary)return lb(e.redirectTo);r=r.children.primary}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,r){const i=this.createSegmentGroup(e,t.root,n,r);return new zy(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return Ly(e,(e,r)=>{if("string"==typeof e&&e.startsWith(":")){const i=e.substring(1);n[r]=t[i]}else n[r]=e}),n}createSegmentGroup(e,t,n,r){const i=this.createSegments(e,t.segments,n,r);let o={};return Ly(t.children,(t,i)=>{o[i]=this.createSegmentGroup(e,t,n,r)}),new $y(i,o)}createSegments(e,t,n,r){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,r):this.findOrReturn(t,n))}findPosParam(e,t,n){const r=n[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let n=0;for(const r of t){if(r.path===e.path)return t.splice(n),r;n++}return e}}function db(e){const t={};for(const n of Object.keys(e.children)){const r=db(e.children[n]);(r.segments.length>0||r.hasChildren())&&(t[n]=r)}return function(e){if(1===e.numberOfChildren&&e.children.primary){const t=e.children.primary;return new $y(e.segments.concat(t.segments),t.children)}return e}(new $y(e.segments,t))}class fb{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class pb{constructor(e,t){this.component=e,this.route=t}}function gb(e,t,n){const r=e._root;return yb(r,t?t._root:null,n,[r.value])}function mb(e,t,n){const r=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function yb(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=gv(t);return e.children.forEach(e=>{!function(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Qy(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Qy(e.url,t.url)||!Ry(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Sv(e,t)||!Ry(e.queryParams,t.queryParams);case"paramsChange":default:return!Sv(e,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new fb(r)):(o.data=s.data,o._resolvedData=s._resolvedData),yb(e,t,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new pb(a.outlet.component,s))}else s&&vb(t,a,i),i.canActivateChecks.push(new fb(r)),yb(e,null,o.component?a?a.children:null:n,r,i)}(e,o[e.value.outlet],n,r.concat([e.value]),i),delete o[e.value.outlet]}),Ly(o,(e,t)=>vb(e,n.getContext(t),i)),i}function vb(e,t,n){const r=gv(e),i=e.value;Ly(r,(e,r)=>{vb(e,i.component?t?t.children.getContext(r):null:t,n)}),n.canDeactivateChecks.push(new pb(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}class bb{}function wb(e){return new L.y(t=>t.error(e))}class _b{constructor(e,t,n,r,i,o){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const e=nb(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Ay);if(null===t)return null;const n=new wv([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ay,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new pv(n,t),i=new _v(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(e){const t=e.value,n=bv(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=[];for(const i of Object.keys(t.children)){const r=t.children[i],o=Xv(e,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=Eb(n);return r.sort((e,t)=>e.value.outlet===Ay?-1:t.value.outlet===Ay?1:e.value.outlet.localeCompare(t.value.outlet)),r}processSegment(e,t,n,r){for(const i of e){const e=this.processSegmentAgainstRoute(i,t,n,r);if(null!==e)return e}return ob(t,n,r)?[]:null}processSegmentAgainstRoute(e,t,n,r){if(e.redirectTo||!ib(e,t,n,r))return null;let i,o=[],s=[];if("**"===e.path){const r=n.length>0?My(n).parameters:{};i=new wv(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Db(e),Yv(e),e.component,e,Ib(t),Sb(t)+n.length,Tb(e))}else{const r=tb(t,e,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new wv(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Db(e),Yv(e),e.component,e,Ib(t),Sb(t)+o.length,Tb(e))}const a=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:u,slicedSegments:c}=nb(t,o,s,a.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const e=this.processChildren(a,u);return null===e?null:[new pv(i,e)]}if(0===a.length&&0===c.length)return[new pv(i,[])];const l=Yv(e)===r,h=this.processSegment(a,u,c,l?Ay:r);return null===h?null:[new pv(i,h)]}}function Cb(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Eb(e){const t=[],n=new Set;for(const r of e){if(!Cb(r)){t.push(r);continue}const e=t.find(e=>r.value.routeConfig===e.value.routeConfig);void 0!==e?(e.children.push(...r.children),n.add(e)):t.push(r)}for(const r of n){const e=Eb(r.children);t.push(new pv(r.value,e))}return t.filter(e=>!n.has(e))}function Ib(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Sb(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift?t._segmentIndexShift:0;return n-1}function Db(e){return e.data||{}}function Tb(e){return e.resolve||{}}function Ab(e){return zg(t=>{const n=e(t);return n?(0,M.D)(n).pipe((0,j.U)(()=>t)):(0,Ye.of)(t)})}class xb extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const kb=new i.InjectionToken("ROUTES");class Nb{constructor(e,t,n,r){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=r}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const n=this.loadModuleFactory(t.loadChildren).pipe((0,j.U)(n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const r=n.create(e);return new qv(Py(r.injector.get(kb,void 0,i.InjectFlags.Self|i.InjectFlags.Optional)).map(Jv),r)}),Xm(e=>{throw t._loader$=void 0,e}));return t._loader$=new Ym.c(n,()=>new qg.xQ).pipe((0,uy.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,M.D)(this.loader.load(e)):Vy(e()).pipe((0,ny.zg)(e=>e instanceof i.NgModuleFactory?(0,Ye.of)(e):(0,M.D)(this.compiler.compileModuleAsync(e))))}}class Ob{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Rb,this.attachRef=null}}class Rb{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Ob,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class Fb{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Pb(e){throw e}function Mb(e,t,n){return t.parse("/")}function Lb(e,t){return(0,Ye.of)(null)}const Vb={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},jb={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ub=(()=>{class e{constructor(e,t,n,r,o,s,a,u){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=r,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new qg.xQ,this.errorHandler=Pb,this.malformedUriErrorHandler=Mb,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Lb,afterPreactivation:Lb},this.urlHandlingStrategy=new Fb,this.routeReuseStrategy=new xb,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(i.NgModuleRef),this.console=o.get(i["\u0275Console"]);const c=o.get(i.NgZone);this.isNgZoneEnabled=c instanceof i.NgZone&&i.NgZone.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new zy(new $y([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Nb(s,a,e=>this.triggerEvent(new _y(e)),e=>this.triggerEvent(new Cy(e))),this.routerState=yv(this.currentUrlTree,this.rootComponentType),this.transitions=new qm({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const t=this.events;return e.pipe(dt(e=>0!==e.id),(0,j.U)(e=>Object.assign(Object.assign({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),zg(e=>{let n=!1,r=!1;return(0,Ye.of)(e).pipe((0,ay.b)(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),zg(e=>{const n=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return(0,Ye.of)(e).pipe(zg(e=>{const n=this.transitions.getValue();return t.next(new dy(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),n!==this.transitions.getValue()?rm.E:Promise.resolve(e)}),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,zg(e=>function(e,t,n,r,i){return new hb(e,t,n,r,i).apply()}(r,i,o,e.extractedUrl,s).pipe((0,j.U)(t=>Object.assign(Object.assign({},e),{urlAfterRedirects:t}))))),(0,ay.b)(e=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,t,n,r,i){return(0,ny.zg)(o=>function(e,t,n,r,i="emptyOnly",o="legacy"){try{const s=new _b(e,t,n,r,i,o).recognize();return null===s?wb(new bb):(0,Ye.of)(s)}catch(Lg){return wb(Lg)}}(e,t,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe((0,j.U)(e=>Object.assign(Object.assign({},o),{targetSnapshot:e}))))}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ay.b)(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,e),this.browserUrlTree=e.urlAfterRedirects);const n=new my(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=e,a=new dy(n,this.serializeUrl(r),i,o);t.next(a);const u=yv(r,this.rootComponentType).snapshot;return(0,Ye.of)(Object.assign(Object.assign({},e),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),rm.E}),Ab(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=e;return this.hooks.beforePreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),(0,ay.b)(e=>{const t=new yy(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),(0,j.U)(e=>Object.assign(Object.assign({},e),{guards:gb(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return(0,ny.zg)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?(0,Ye.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,r){return(0,M.D)(e).pipe((0,ny.zg)(e=>function(e,t,n,r,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||0===o.length)return(0,Ye.of)(!0);const s=o.map(o=>{const s=mb(o,t,i);let a;if(function(e){return e&&Hv(e.canDeactivate)}(s))a=Vy(s.canDeactivate(e,t,n,r));else{if(!Hv(s))throw new Error("Invalid CanDeactivate guard");a=Vy(s(e,t,n,r))}return a.pipe(gm())});return(0,Ye.of)(s).pipe($v())}(e.component,e.route,n,t,r)),gm(e=>!0!==e,!0))}(s,r,i,e).pipe((0,ny.zg)(n=>n&&function(e){return"boolean"==typeof e}(n)?function(e,t,n,r){return(0,M.D)(t).pipe(ry(t=>et(function(e,t){return null!==e&&t&&t(new Ey(e)),(0,Ye.of)(!0)}(t.route.parent,r),function(e,t){return null!==e&&t&&t(new Sy(e)),(0,Ye.of)(!0)}(t.route,r),function(e,t,n){const r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(e=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)).filter(e=>null!==e).map(t=>Jm(()=>{const i=t.guards.map(i=>{const o=mb(i,t.node,n);let s;if(function(e){return e&&Hv(e.canActivateChild)}(o))s=Vy(o.canActivateChild(r,e));else{if(!Hv(o))throw new Error("Invalid CanActivateChild guard");s=Vy(o(r,e))}return s.pipe(gm())});return(0,Ye.of)(i).pipe($v())}));return(0,Ye.of)(i).pipe($v())}(e,t.path,n),function(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return(0,Ye.of)(!0);const i=r.map(r=>Jm(()=>{const i=mb(r,t,n);let o;if(function(e){return e&&Hv(e.canActivate)}(i))o=Vy(i.canActivate(t,e));else{if(!Hv(i))throw new Error("Invalid CanActivate guard");o=Vy(i(t,e))}return o.pipe(gm())}));return(0,Ye.of)(i).pipe($v())}(e,t.route,n))),gm(e=>!0!==e,!0))}(r,o,e,t):(0,Ye.of)(n)),(0,j.U)(e=>Object.assign(Object.assign({},n),{guardsResult:e})))})}(this.ngModule.injector,e=>this.triggerEvent(e)),(0,ay.b)(e=>{if(Gv(e.guardsResult)){const t=Ny(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}const t=new vy(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),dt(e=>!!e.guardsResult||(this.restoreHistory(e),this.cancelNavigationTransition(e,""),!1)),Ab(e=>{if(e.guards.canActivateChecks.length)return(0,Ye.of)(e).pipe((0,ay.b)(e=>{const t=new by(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),zg(e=>{let t=!1;return(0,Ye.of)(e).pipe((n=this.paramsInheritanceStrategy,r=this.ngModule.injector,(0,ny.zg)(e=>{const{targetSnapshot:t,guards:{canActivateChecks:i}}=e;if(!i.length)return(0,Ye.of)(e);let o=0;return(0,M.D)(i).pipe(ry(e=>function(e,t,n,r){return function(e,t,n,r){const i=Object.keys(e);if(0===i.length)return(0,Ye.of)({});const o={};return(0,M.D)(i).pipe((0,ny.zg)(i=>function(e,t,n,r){const i=mb(e,t,r);return Vy(i.resolve?i.resolve(t,n):i(t,n))}(e[i],t,n,r).pipe((0,ay.b)(e=>{o[i]=e}))),iy(1),(0,ny.zg)(()=>Object.keys(o).length===i.length?(0,Ye.of)(o):rm.E))}(e._resolve,e,t,r).pipe((0,j.U)(t=>(e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),bv(e,n).resolve),null)))}(e.route,t,n,r)),(0,ay.b)(()=>o++),iy(1),(0,ny.zg)(t=>o===i.length?(0,Ye.of)(e):rm.E))})),(0,ay.b)({next:()=>t=!0,complete:()=>{t||(this.restoreHistory(e),this.cancelNavigationTransition(e,"At least one route resolver didn't emit any value."))}}));var n,r}),(0,ay.b)(e=>{const t=new wy(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}))}),Ab(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=e;return this.hooks.afterPreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),(0,j.U)(e=>{const t=function(e,t,n){const r=Dv(e,t._root,n?n._root:void 0);return new mv(r,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:t})}),(0,ay.b)(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,e),this.browserUrlTree=e.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=e=>this.triggerEvent(e),(0,j.U)(e=>(new Uv(s,e.targetRouterState,e.currentRouterState,a).activate(o),e))),(0,ay.b)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){const t=`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(e),this.cancelNavigationTransition(e,t)):this.cancelNavigationTransition(e,t)}this.currentNavigation=null},e=>e.lift(new cy(i))),Xm(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Gv(n.url);r||(this.navigated=!0,this.restoreHistory(e,!0));const i=new py(e.id,this.serializeUrl(e.extractedUrl),n.message);t.next(i),r?setTimeout(()=>{const t=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(t,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{this.restoreHistory(e,!0);const r=new gy(e.id,this.serializeUrl(e.extractedUrl),n);t.next(r);try{e.resolve(this.errorHandler(n))}catch(sa){e.reject(sa)}}var i;return rm.E}));var i,o,s,a}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const t=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,t)&&setTimeout(()=>{const{source:e,state:n,urlTree:r}=t,i={replaceUrl:!0};if(n){const e=Object.assign({},n);delete e.navigationId,delete e.\u0275routerPageId,0!==Object.keys(e).length&&(i.state=e)}this.scheduleNavigation(r,e,n,i)},0),this.lastLocationChangeInfo=t}))}extractLocationChangeInfoFromEvent(e){var t;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(t=e.state)||void 0===t?void 0:t.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,t){if(!e)return!0;const n=t.urlTree.toString()===e.urlTree.toString();return!(t.transitionId===e.transitionId&&n&&("hashchange"===t.source&&"popstate"===e.source||"popstate"===t.source&&"hashchange"===e.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Qv(e),this.config=e.map(Jv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,t={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=t,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(e,t,n,r,i){if(0===n.length)return kv(t.root,t.root,t,r,i);const o=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Ov(!0,0,e);let t=0,n=!1;const r=e.reduce((e,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const t={};return Ly(r.outlets,(e,n)=>{t[n]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(r.segmentPath)return[...e,r.segmentPath]}return"string"!=typeof r?[...e,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))}),e):[...e,r]},[]);return new Ov(n,t,r)}(n);if(o.toRoot())return kv(t.root,new $y([],{}),t,r,i);const s=function(e,t,n){if(e.isAbsolute)return new Rv(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){const e=n.snapshot._urlSegment;return new Rv(e,e===t.root,0)}const r=Av(e.commands[0])?0:1;return function(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Rv(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(o,t,e),a=s.processChildren?Pv(s.segmentGroup,s.index,o.commands):Fv(s.segmentGroup,s.index,o.commands);return kv(s.segmentGroup,a,t,r,i)}(a,this.currentUrlTree,e,c,null!=u?u:null)}navigateByUrl(e,t={skipLocationChange:!1}){const n=Gv(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(Lg){t=this.malformedUriErrorHandler(Lg,this.urlSerializer,e)}return t}isActive(e,t){let n;if(n=!0===t?Object.assign({},Vb):!1===t?Object.assign({},jb):t,Gv(e))return By(this.currentUrlTree,e,n);const r=this.parseUrl(e);return By(this.currentUrlTree,r,n)}removeEmptyProps(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return null!=r&&(t[n]=r),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new fy(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,n,r,i){var o,s;if(this.disposed)return Promise.resolve(!1);const a=this.getTransition(),u="imperative"!==t&&"imperative"===(null==a?void 0:a.source),c=(this.lastSuccessfulId===a.id||this.currentNavigation?a.rawUrl:a.urlAfterRedirects).toString()===e.toString();if(u&&c)return Promise.resolve(!0);let l,h,d;i?(l=i.resolve,h=i.reject,d=i.promise):d=new Promise((e,t)=>{l=e,h=t});const f=++this.navigationId;let p;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(n=this.location.getState()),p=n&&n.\u0275routerPageId?n.\u0275routerPageId:r.replaceUrl||r.skipLocationChange?null!==(o=this.browserPageId)&&void 0!==o?o:0:(null!==(s=this.browserPageId)&&void 0!==s?s:0)+1):p=0,this.setTransition({id:f,targetPageId:p,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:l,reject:h,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(e=>Promise.reject(e))}setBrowserUrl(e,t){const n=this.urlSerializer.serialize(e),r=Object.assign(Object.assign({},t.extras.state),this.generateNgRouterState(t.id,t.targetPageId));this.location.isCurrentPathEqualTo(n)||t.extras.replaceUrl?this.location.replaceState(n,"",r):this.location.go(n,"",r)}restoreHistory(e,t=!1){var n,r;if("computed"===this.canceledNavigationResolution){const t=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(n=this.currentNavigation)||void 0===n?void 0:n.finalUrl)||0===t?this.currentUrlTree===(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)&&0===t&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(t)}else"replace"===this.canceledNavigationResolution&&(t&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,t){const n=new py(e.id,this.serializeUrl(e.extractedUrl),t);this.triggerEvent(n),e.resolve(!1)}generateNgRouterState(e,t){return"computed"===this.canceledNavigationResolution?{navigationId:e,"\u0275routerPageId":t}:{navigationId:e}}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](i.Type),i["\u0275\u0275inject"](Wy),i["\u0275\u0275inject"](Rb),i["\u0275\u0275inject"](r.Location),i["\u0275\u0275inject"](i.Injector),i["\u0275\u0275inject"](i.NgModuleFactoryLoader),i["\u0275\u0275inject"](i.Compiler),i["\u0275\u0275inject"](void 0))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})(),Bb=(()=>{class e{constructor(e,t,n){this.router=e,this.route=t,this.locationStrategy=n,this.commands=[],this.onChanges=new qg.xQ,this.subscription=e.events.subscribe(e=>{e instanceof fy&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,t,n,r,i){if(0!==e||t||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:qb(this.skipLocationChange),replaceUrl:qb(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:qb(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](Ub),i["\u0275\u0275directiveInject"](vv),i["\u0275\u0275directiveInject"](r.LocationStrategy))},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("click",function(e){return t.onClick(e.button,e.ctrlKey,e.shiftKey,e.altKey,e.metaKey)}),2&e&&(i["\u0275\u0275hostProperty"]("href",t.href,i["\u0275\u0275sanitizeUrl"]),i["\u0275\u0275attribute"]("target",t.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[i["\u0275\u0275NgOnChangesFeature"]]}),e})();function qb(e){return""===e||!!e}let Hb=(()=>{class e{constructor(e,t,n,r,o){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.EventEmitter,this.deactivateEvents=new i.EventEmitter,this.name=r||Ay,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Gb(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](Rb),i["\u0275\u0275directiveInject"](i.ViewContainerRef),i["\u0275\u0275directiveInject"](i.ComponentFactoryResolver),i["\u0275\u0275injectAttribute"]("name"),i["\u0275\u0275directiveInject"](i.ChangeDetectorRef))},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class Gb{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===vv?this.route:e===Rb?this.childContexts:this.parent.get(e,t)}}class zb{}class $b{preload(e,t){return(0,Ye.of)(null)}}let Kb=(()=>{class e{constructor(e,t,n,r,i){this.router=e,this.injector=r,this.preloadingStrategy=i,this.loader=new Nb(t,n,t=>e.triggerEvent(new _y(t)),t=>e.triggerEvent(new Cy(t)))}setUpPreloading(){this.subscription=this.router.events.pipe(dt(e=>e instanceof fy),ry(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(i.NgModuleRef);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const r of t)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const e=r._loadedConfig;n.push(this.processRoutes(e.module,e.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(e,r)):r.children&&n.push(this.processRoutes(e,r.children));return(0,M.D)(n).pipe((0,Xe.J)(),(0,j.U)(e=>{}))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>(t._loadedConfig?(0,Ye.of)(t._loadedConfig):this.loader.load(e.injector,t)).pipe((0,ny.zg)(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](Ub),i["\u0275\u0275inject"](i.NgModuleFactoryLoader),i["\u0275\u0275inject"](i.Compiler),i["\u0275\u0275inject"](i.Injector),i["\u0275\u0275inject"](zb))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})(),Qb=(()=>{class e{constructor(e,t,n={}){this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof dy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof fy&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Ty&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new Ty(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](Ub),i["\u0275\u0275inject"](r.ViewportScroller),i["\u0275\u0275inject"](void 0))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();const Wb=new i.InjectionToken("ROUTER_CONFIGURATION"),Zb=new i.InjectionToken("ROUTER_FORROOT_GUARD"),Jb=[r.Location,{provide:Wy,useClass:Zy},{provide:Ub,useFactory:function(e,t,n,r,i,o,s,a={},u,c){const l=new Ub(null,e,t,n,r,i,o,Py(s));return u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),function(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy)}(a,l),a.enableTracing&&l.events.subscribe(e=>{var t,n;null===(t=console.group)||void 0===t||t.call(console,`Router Event: ${e.constructor.name}`),console.log(e.toString()),console.log(e),null===(n=console.groupEnd)||void 0===n||n.call(console)}),l},deps:[Wy,Rb,r.Location,i.Injector,i.NgModuleFactoryLoader,i.Compiler,kb,Wb,[class{},new i.Optional],[class{},new i.Optional]]},Rb,{provide:vv,useFactory:function(e){return e.routerState.root},deps:[Ub]},{provide:i.NgModuleFactoryLoader,useClass:i.SystemJsNgModuleLoader},Kb,$b,class{preload(e,t){return t().pipe(Xm(()=>(0,Ye.of)(null)))}},{provide:Wb,useValue:{enableTracing:!1}}];function Yb(){return new i.NgProbeToken("Router",Ub)}let Xb=(()=>{class e{constructor(e,t){}static forRoot(t,n){return{ngModule:e,providers:[Jb,rw(t),{provide:Zb,useFactory:nw,deps:[[Ub,new i.Optional,new i.SkipSelf]]},{provide:Wb,useValue:n||{}},{provide:r.LocationStrategy,useFactory:tw,deps:[r.PlatformLocation,[new i.Inject(r.APP_BASE_HREF),new i.Optional],Wb]},{provide:Qb,useFactory:ew,deps:[Ub,r.ViewportScroller,Wb]},{provide:zb,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:$b},{provide:i.NgProbeToken,multi:!0,useFactory:Yb},[iw,{provide:i.APP_INITIALIZER,multi:!0,useFactory:ow,deps:[iw]},{provide:aw,useFactory:sw,deps:[iw]},{provide:i.APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:aw}]]}}static forChild(t){return{ngModule:e,providers:[rw(t)]}}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](Zb,8),i["\u0275\u0275inject"](Ub,8))},e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({}),e})();function ew(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new Qb(e,t,n)}function tw(e,t,n={}){return n.useHash?new r.HashLocationStrategy(e,t):new r.PathLocationStrategy(e,t)}function nw(e){return"guarded"}function rw(e){return[{provide:i.ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:e},{provide:kb,multi:!0,useValue:e}]}let iw=(()=>{class e{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new qg.xQ}appInitializer(){return this.injector.get(r.LOCATION_INITIALIZED,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let e=null;const t=new Promise(t=>e=t),n=this.injector.get(Ub),r=this.injector.get(Wb);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),e(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?(0,Ye.of)(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),n.initialNavigation()):e(!0),t})}bootstrapListener(e){const t=this.injector.get(Wb),n=this.injector.get(Kb),r=this.injector.get(Qb),o=this.injector.get(Ub),s=this.injector.get(i.ApplicationRef);e===s.components[0]&&("enabledNonBlocking"!==t.initialNavigation&&void 0!==t.initialNavigation||o.initialNavigation(),n.setUpPreloading(),r.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](i.Injector))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();function ow(e){return e.appInitializer.bind(e)}function sw(e){return e.bootstrapListener.bind(e)}const aw=new i.InjectionToken("Router Initializer");let uw=(()=>{class e{constructor(e){this.afs=e,this.clientsCollection=this.afs.collection("clients",e=>e.orderBy("lastName","asc"))}getClients(){return this.clients=this.clientsCollection.snapshotChanges().pipe((0,j.U)(e=>e.map(e=>{const t=e.payload.doc.data();return t.id=e.payload.doc.id,t}))),this.clients}newClient(e){this.clientsCollection.add(e)}getClient(e){return this.clientDoc=this.afs.doc(`clients/${e}`),this.client=this.clientDoc.snapshotChanges().pipe((0,j.U)(e=>{if(!1===e.payload.exists)return null;{const t=e.payload.data();return t.id=e.payload.id,t}})),this.client}updateClient(e){this.clientDoc=this.afs.doc(`clients/${e.id}`),this.clientDoc.update(e)}deleteClient(e){this.clientDoc=this.afs.doc(`clients/${e.id}`),this.clientDoc.delete()}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](Um))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function cw(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"h2",7),i["\u0275\u0275text"](1,"Loading..."),i["\u0275\u0275elementEnd"]())}function lw(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"tr"),i["\u0275\u0275elementStart"](1,"td"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td"),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"td"),i["\u0275\u0275text"](6),i["\u0275\u0275pipe"](7,"currency"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"td"),i["\u0275\u0275elementStart"](9,"a",11),i["\u0275\u0275element"](10,"i",12),i["\u0275\u0275text"](11,"Details"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate2"]("",e.firstName," ",e.lastName,""),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.email),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](i["\u0275\u0275pipeBind3"](7,5,e.balance,"NZD","symbol")),i["\u0275\u0275advance"](3),i["\u0275\u0275propertyInterpolate1"]("routerLink","client/",e.id,"")}}function hw(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"table",8),i["\u0275\u0275elementStart"](1,"thead",9),i["\u0275\u0275elementStart"](2,"tr"),i["\u0275\u0275elementStart"](3,"th"),i["\u0275\u0275text"](4,"Name"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"th"),i["\u0275\u0275text"](6,"Email"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"th"),i["\u0275\u0275text"](8,"Balance"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](9,"th"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"tbody"),i["\u0275\u0275template"](11,lw,12,9,"tr",10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](11),i["\u0275\u0275property"]("ngForOf",e.clients)}}function dw(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"h5"),i["\u0275\u0275text"](1,"There are no clients in the system"),i["\u0275\u0275elementEnd"]())}function fw(e,t){if(1&e&&(i["\u0275\u0275element"](0,"hr"),i["\u0275\u0275template"](1,dw,2,0,"h5",13)),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!e.loading)}}let pw=(()=>{class e{constructor(e){this.clientService=e,this.loading=!0}ngOnInit(){this.clientService.getClients().subscribe(e=>{this.clients=e,this.getTotalOwed(),this.loading=!1})}getTotalOwed(){const e=this.clients.reduce((e,t)=>e+parseFloat(t.balance.toString()),0);this.totalOwed=e}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](uw))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-clients"]],decls:13,vars:8,consts:[[1,"row"],[1,"col-md-6"],[1,"fa","fa-user"],[1,"text-right","text-secondary"],["class","pl-4 pt-5",4,"ngIf"],["class","table table-striped",4,"ngIf","ngIfElse"],["noClients",""],[1,"pl-4","pt-5"],[1,"table","table-striped"],[1,"thead-inverse"],[4,"ngFor","ngForOf"],[1,"btn","btn-secondary","btn-sm",3,"routerLink"],[1,"fa","fa-arrow-circle-o-right"],[4,"ngIf"]],template:function(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"h2"),i["\u0275\u0275element"](3,"i",2),i["\u0275\u0275text"](4,"Clients"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"div",1),i["\u0275\u0275elementStart"](6,"h5",3),i["\u0275\u0275text"](7),i["\u0275\u0275pipe"](8,"currency"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](9,cw,2,0,"h2",4),i["\u0275\u0275template"](10,hw,12,1,"table",5),i["\u0275\u0275template"](11,fw,2,1,"ng-template",null,6,i["\u0275\u0275templateRefExtractor"])),2&e){const e=i["\u0275\u0275reference"](12);i["\u0275\u0275advance"](7),i["\u0275\u0275textInterpolate1"]("Total Owed:",i["\u0275\u0275pipeBind3"](8,4,t.totalOwed,"NZD","symbol"),""),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.loading),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.loading&&(null==t.clients?null:t.clients.length)>0)("ngIfElse",e)}},directives:[r.NgIf,r.NgForOf,Bb],pipes:[r.CurrencyPipe],styles:[""]}),e})(),gw=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-sidebar"]],decls:3,vars:0,consts:[["routerLink","/client/add",1,"btn","btn-success","btn-block"],[1,"fa","fa-plus"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"a",0),i["\u0275\u0275element"](1,"div",1),i["\u0275\u0275text"](2,"New\n"),i["\u0275\u0275elementEnd"]())},directives:[Bb],styles:[""]}),e})(),mw=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-dashboard"]],decls:5,vars:0,consts:[[1,"row"],[1,"col-md-10"],[1,"col-md-2"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275element"](2,"app-clients"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"div",2),i["\u0275\u0275element"](4,"app-sidebar"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]())},directives:[pw,gw],styles:[""]}),e})(),yw=(()=>{class e{constructor(e){this.afAuth=e}login(e,t){return new Promise((n,r)=>{this.afAuth.signInWithEmailAndPassword(e,t).then(e=>n(e),e=>r(e))})}getAuth(){return this.afAuth.authState.pipe((0,j.U)(e=>e))}logout(){this.afAuth.signOut()}register(e,t){return new Promise((n,r)=>{this.afAuth.createUserWithEmailAndPassword(e,t).then(e=>n(e),e=>r(e))})}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](Im))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),vw=(()=>{class e{constructor(e,t,n){this.authService=e,this.router=t,this.flashMessage=n}ngOnInit(){this.authService.getAuth().subscribe(e=>{e&&this.router.navigate(["/"])})}onSubmit(){this.authService.login(this.email,this.password).then(e=>{this.flashMessage.show("You are now logged in",{cssClass:"alert-success",timeout:4e3}),this.router.navigate(["/"])}).catch(e=>{this.flashMessage.show(e.message,{cssClass:"alert-danger",timeout:4e3})})}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](yw),i["\u0275\u0275directiveInject"](Ub),i["\u0275\u0275directiveInject"](Qe.GQ))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-login"]],decls:20,vars:2,consts:[[1,"row"],[1,"col-md-6","mx-auto"],[1,"card"],[1,"card-body"],[1,"text-center","pb-4","pt-3"],[1,"text-info"],[1,"fa","fa-lock"],[3,"submit"],[1,"form-group"],["for","email"],["type","email","name","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","password"],["type","password","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit","value","Login",1,"btn","btn-info","btn-block"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275elementStart"](3,"div",3),i["\u0275\u0275elementStart"](4,"h1",4),i["\u0275\u0275elementStart"](5,"span",5),i["\u0275\u0275element"](6,"i",6),i["\u0275\u0275text"](7," Client Panel Login"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"p",1),i["\u0275\u0275text"](9,"test email: ava@gmail.com password: 123123"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"form",7),i["\u0275\u0275listener"]("submit",function(){return t.onSubmit()}),i["\u0275\u0275elementStart"](11,"div",8),i["\u0275\u0275elementStart"](12,"label",9),i["\u0275\u0275text"](13,"Email"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"input",10),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.email=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](15,"div",8),i["\u0275\u0275elementStart"](16,"label",11),i["\u0275\u0275text"](17,"Password"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](18,"input",12),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.password=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](19,"input",13),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](14),i["\u0275\u0275property"]("ngModel",t.email),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngModel",t.password))},directives:[Me,he,Oe,K,Be,le,Pe],styles:[""]}),e})(),bw=(()=>{class e{constructor(e,t,n){this.authService=e,this.router=t,this.flashMessage=n}ngOnInit(){}onSubmit(){this.authService.register(this.email,this.password).then(e=>{this.flashMessage.show("You are now registered and logged in",{cssClass:"alert-success",timeout:4e3}),this.router.navigate(["/"])}).catch(e=>{this.flashMessage.show(e.message,{cssClass:"alert-danger",timeout:4e3})})}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](yw),i["\u0275\u0275directiveInject"](Ub),i["\u0275\u0275directiveInject"](Qe.GQ))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-register"]],decls:18,vars:2,consts:[[1,"row"],[1,"col-md-6","mx-auto"],[1,"card"],[1,"card-body"],[1,"text-center","pb-4","pt-3"],[1,"text-info"],[1,"fa","fa-lock"],[3,"submit"],[1,"form-group"],["for","email"],["type","email","name","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","password"],["type","password","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit","value","Register",1,"btn","btn-info","btn-block"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275elementStart"](3,"div",3),i["\u0275\u0275elementStart"](4,"h1",4),i["\u0275\u0275elementStart"](5,"span",5),i["\u0275\u0275element"](6,"i",6),i["\u0275\u0275text"](7," Client Panel Register"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"form",7),i["\u0275\u0275listener"]("submit",function(){return t.onSubmit()}),i["\u0275\u0275elementStart"](9,"div",8),i["\u0275\u0275elementStart"](10,"label",9),i["\u0275\u0275text"](11,"Email"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"input",10),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.email=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"div",8),i["\u0275\u0275elementStart"](14,"label",11),i["\u0275\u0275text"](15,"Password"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](16,"input",12),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.password=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](17,"input",13),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](12),i["\u0275\u0275property"]("ngModel",t.email),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("ngModel",t.password))},directives:[Me,he,Oe,K,Be,le,Pe],styles:[""]}),e})(),ww=(()=>{class e{constructor(){this.settings={allowRegistration:!0,disableBalanceOnAdd:!1,disableBalanceOnEdit:!0},null!=localStorage.getItem("settings")&&(this.settings=JSON.parse(localStorage.getItem("settings")))}getSettings(){return this.settings}changeSettings(e){localStorage.setItem("settings",JSON.stringify(e))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const _w=["clientForm"],Cw=function(e){return{"is-invalid":e}};let Ew=(()=>{class e{constructor(e,t,n,r){this.flashMessage=e,this.clientService=t,this.router=n,this.settingsService=r,this.client={firstName:"",lastName:"",email:"",phone:"",balance:0}}ngOnInit(){this.disableBalanceOnAdd=this.settingsService.getSettings().disableBalanceOnAdd}onSubmit({value:e,valid:t}){this.disableBalanceOnAdd&&(e.balance=0),t?(this.clientService.newClient(e),this.flashMessage.show("New client added successfully",{cssClass:"alert-success",timeout:4e3}),this.router.navigate(["/"])):this.flashMessage.show("Please fill out the form correctly",{cssClass:"alert-danger",timeout:4e3})}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](Qe.GQ),i["\u0275\u0275directiveInject"](uw),i["\u0275\u0275directiveInject"](Ub),i["\u0275\u0275directiveInject"](ww))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-add-client"]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](_w,5),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.form=e.first)}},decls:54,vars:26,consts:[[1,"row"],[1,"col-md-6"],["routerLink","/",1,"btn","btn-link"],[1,"fa","fa-arrow-circle-o-left"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"ngSubmit"],["clientForm","ngForm"],[1,"form-group"],["for","firstName"],["type","text","name","firstName","minlength","2","required","",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["clientFirstName","ngModel"],[1,"invalid-feedback",3,"hidden"],["for","lastName"],["type","text","name","lastName","minlength","2","required","",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["clientLastName","ngModel"],["for","email"],["type","text","name","email","pattern","^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$","required","",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["clientEmail","ngModel"],["for","phone"],["type","text","name","phone","minlength","10","required","",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["clientPhone","ngModel"],["for","balance"],["type","number","name","balance",1,"form-control",3,"ngModel","disabled","ngModelChange"],["clientBalance","ngModel"],["type","submit","value","Submit",1,"btn","btn-info","btn-block"]],template:function(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"a",2),i["\u0275\u0275element"](3,"i",3),i["\u0275\u0275text"](4,"Back to dashboard "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](5,"div",1),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",4),i["\u0275\u0275elementStart"](7,"div",5),i["\u0275\u0275text"](8," Add Client "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"div",6),i["\u0275\u0275elementStart"](10,"form",7,8),i["\u0275\u0275listener"]("ngSubmit",function(){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275reference"](11);return t.onSubmit(n)}),i["\u0275\u0275elementStart"](12,"div",9),i["\u0275\u0275elementStart"](13,"label",10),i["\u0275\u0275text"](14,"First Name"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](15,"input",11,12),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.client.firstName=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](17,"div",13),i["\u0275\u0275text"](18,"First Name is required"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](19,"div",13),i["\u0275\u0275text"](20,"Must be at least 2 characters"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](21,"div",9),i["\u0275\u0275elementStart"](22,"label",14),i["\u0275\u0275text"](23,"Last Name"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](24,"input",15,16),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.client.lastName=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](26,"div",13),i["\u0275\u0275text"](27,"Last Name is required"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](28,"div",13),i["\u0275\u0275text"](29,"Must be at least 2 characters"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](30,"div",9),i["\u0275\u0275elementStart"](31,"label",17),i["\u0275\u0275text"](32,"Email"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](33,"input",18,19),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.client.email=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](35,"div",13),i["\u0275\u0275text"](36,"Email is required"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](37,"div",13),i["\u0275\u0275text"](38,"Email is not valid"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](39,"div",9),i["\u0275\u0275elementStart"](40,"label",20),i["\u0275\u0275text"](41,"Phone"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](42,"input",21,22),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.client.phone=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](44,"div",13),i["\u0275\u0275text"](45,"Phone is required"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](46,"div",13),i["\u0275\u0275text"](47,"Must be 10 characters"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](48,"div",9),i["\u0275\u0275elementStart"](49,"label",23),i["\u0275\u0275text"](50,"Balance"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](51,"input",24,25),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.client.balance=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](53,"input",26),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275reference"](16),n=i["\u0275\u0275reference"](25),r=i["\u0275\u0275reference"](34),o=i["\u0275\u0275reference"](43);i["\u0275\u0275advance"](15),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](18,Cw,e.errors&&e.touched))("ngModel",t.client.firstName),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("hidden",!(null!=e.errors&&e.errors.required)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("hidden",!(null!=e.errors&&e.errors.minlength)),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](20,Cw,n.errors&&n.touched))("ngModel",t.client.lastName),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("hidden",!(null!=n.errors&&n.errors.required)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("hidden",!(null!=n.errors&&n.errors.minlength)),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](22,Cw,r.errors&&r.touched))("ngModel",t.client.email),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("hidden",!(null!=r.errors&&r.errors.required)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("hidden",!(null!=r.errors&&r.errors.pattern)),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](24,Cw,o.errors&&o.touched))("ngModel",t.client.phone),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("hidden",!(null!=o.errors&&o.errors.required)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("hidden",!(null!=o.errors&&o.errors.minlength)),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngModel",t.client.balance)("disabled",t.disableBalanceOnAdd)}},directives:[Bb,Me,he,Oe,K,He,Be,r.NgClass,le,Pe,ze,Ve],styles:[""]}),e})();const Iw=function(e){return{"is-invalid":e}};let Sw=(()=>{class e{constructor(e,t,n,r,i){this.clientService=e,this.router=t,this.route=n,this.flashMessage=r,this.settingsService=i,this.client={firstName:"",lastName:"",email:"",phone:"",balance:0}}ngOnInit(){this.disableBalanceOnEdit=this.settingsService.getSettings().disableBalanceOnEdit,this.id=this.route.snapshot.params.id,this.clientService.getClient(this.id).subscribe(e=>{this.client=e})}onSubmit({value:e,valid:t}){t?(e.id=this.id,this.clientService.updateClient(e),this.flashMessage.show("Client updated",{cssClass:"alert-success",timeout:4e3}),this.router.navigate(["/client/"+this.id])):this.flashMessage.show("Please fill out the form correctly",{cssClass:"alert-danger",timeout:4e3})}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](uw),i["\u0275\u0275directiveInject"](Ub),i["\u0275\u0275directiveInject"](vv),i["\u0275\u0275directiveInject"](Qe.GQ),i["\u0275\u0275directiveInject"](ww))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-edit-client"]],decls:54,vars:27,consts:[[1,"row"],[1,"col-md-6"],[1,"btn","btn-link",3,"routerLink"],[1,"fa","fa-arrow-circle-o-left"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"ngSubmit"],["clientForm","ngForm"],[1,"form-group"],["for","firstName"],["type","text","name","firstName","minlength","2","required","",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["clientFirstName","ngModel"],[1,"invalid-feedback",3,"hidden"],["for","lastName"],["type","text","name","lastName","minlength","2","required","",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["clientLastName","ngModel"],["for","email"],["type","text","name","email","pattern","^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$","required","",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["clientEmail","ngModel"],["for","phone"],["type","text","name","phone","minlength","10","required","",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["clientPhone","ngModel"],["for","balance"],["type","number","name","balance",1,"form-control",3,"ngModel","disabled","ngModelChange"],["clientBalance","ngModel"],["type","submit","value","Submit",1,"btn","btn-info","btn-block"]],template:function(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"a",2),i["\u0275\u0275element"](3,"i",3),i["\u0275\u0275text"](4,"Back to Client "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](5,"div",1),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",4),i["\u0275\u0275elementStart"](7,"div",5),i["\u0275\u0275text"](8," Edit Client "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"div",6),i["\u0275\u0275elementStart"](10,"form",7,8),i["\u0275\u0275listener"]("ngSubmit",function(){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275reference"](11);return t.onSubmit(n)}),i["\u0275\u0275elementStart"](12,"div",9),i["\u0275\u0275elementStart"](13,"label",10),i["\u0275\u0275text"](14,"First Name"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](15,"input",11,12),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.client.firstName=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](17,"div",13),i["\u0275\u0275text"](18,"First Name is required"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](19,"div",13),i["\u0275\u0275text"](20,"Must be at least 2 characters"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](21,"div",9),i["\u0275\u0275elementStart"](22,"label",14),i["\u0275\u0275text"](23,"Last Name"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](24,"input",15,16),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.client.lastName=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](26,"div",13),i["\u0275\u0275text"](27,"Last Name is required"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](28,"div",13),i["\u0275\u0275text"](29,"Must be at least 2 characters"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](30,"div",9),i["\u0275\u0275elementStart"](31,"label",17),i["\u0275\u0275text"](32,"Email"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](33,"input",18,19),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.client.email=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](35,"div",13),i["\u0275\u0275text"](36,"Email is required"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](37,"div",13),i["\u0275\u0275text"](38,"Email is not valid"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](39,"div",9),i["\u0275\u0275elementStart"](40,"label",20),i["\u0275\u0275text"](41,"Phone"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](42,"input",21,22),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.client.phone=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](44,"div",13),i["\u0275\u0275text"](45,"Phone is required"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](46,"div",13),i["\u0275\u0275text"](47,"Must be 10 characters"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](48,"div",9),i["\u0275\u0275elementStart"](49,"label",23),i["\u0275\u0275text"](50,"Balance"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](51,"input",24,25),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.client.balance=e}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](53,"input",26),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275reference"](16),n=i["\u0275\u0275reference"](25),r=i["\u0275\u0275reference"](34),o=i["\u0275\u0275reference"](43);i["\u0275\u0275advance"](2),i["\u0275\u0275propertyInterpolate1"]("routerLink","/client/",t.id,""),i["\u0275\u0275advance"](13),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](19,Iw,e.errors&&e.touched))("ngModel",t.client.firstName),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("hidden",!(null!=e.errors&&e.errors.required)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("hidden",!(null!=e.errors&&e.errors.minlength)),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](21,Iw,n.errors&&n.touched))("ngModel",t.client.lastName),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("hidden",!(null!=n.errors&&n.errors.required)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("hidden",!(null!=n.errors&&n.errors.minlength)),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](23,Iw,r.errors&&r.touched))("ngModel",t.client.email),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("hidden",!(null!=r.errors&&r.errors.required)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("hidden",!(null!=r.errors&&r.errors.pattern)),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](25,Iw,o.errors&&o.touched))("ngModel",t.client.phone),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("hidden",!(null!=o.errors&&o.errors.required)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("hidden",!(null!=o.errors&&o.errors.minlength)),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngModel",t.client.balance)("disabled",t.disableBalanceOnEdit)}},directives:[Bb,Me,he,Oe,K,He,Be,r.NgClass,le,Pe,ze,Ve],styles:[""]}),e})();function Dw(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"form",20),i["\u0275\u0275listener"]("submit",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).updateBalance()}),i["\u0275\u0275elementStart"](1,"div",21),i["\u0275\u0275elementStart"](2,"input",22),i["\u0275\u0275listener"]("ngModelChange",function(t){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"](2).client.balance=t}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"span",23),i["\u0275\u0275elementStart"](4,"button",24),i["\u0275\u0275text"](5,"Update"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngModel",e.client.balance)}}function Tw(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",8),i["\u0275\u0275elementStart"](1,"h3",9),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"div",10),i["\u0275\u0275elementStart"](4,"div",0),i["\u0275\u0275elementStart"](5,"div",11),i["\u0275\u0275elementStart"](6,"h4"),i["\u0275\u0275text"](7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"div",12),i["\u0275\u0275elementStart"](9,"h3",13),i["\u0275\u0275text"](10," Balance "),i["\u0275\u0275elementStart"](11,"span"),i["\u0275\u0275text"](12),i["\u0275\u0275pipe"](13,"currency"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"small"),i["\u0275\u0275elementStart"](15,"a",14),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]();return t.showBalanceUpdateInput=!t.showBalanceUpdateInput}),i["\u0275\u0275element"](16,"i",15),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](17,"div",16),i["\u0275\u0275template"](18,Dw,6,1,"form",17),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](19,"hr"),i["\u0275\u0275elementStart"](20,"ul",18),i["\u0275\u0275elementStart"](21,"li",19),i["\u0275\u0275text"](22),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](23,"li",19),i["\u0275\u0275text"](24),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate2"]("",e.client.firstName," ",e.client.lastName,""),i["\u0275\u0275advance"](5),i["\u0275\u0275textInterpolate1"]("Client ID: ",e.client.id,""),i["\u0275\u0275advance"](4),i["\u0275\u0275classProp"]("text-danger",e.hasBalance)("text-success",!e.hasBalance),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind3"](13,11,e.client.balance,"NZD","symbol")," "),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("ngIf",e.showBalanceUpdateInput),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"]("Contact Email: ",e.client.email,""),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"]("Contact Phone: ",e.client.phone,"")}}let Aw=(()=>{class e{constructor(e,t,n,r){this.clientService=e,this.router=t,this.route=n,this.flashMessage=r,this.hasBalance=!1,this.showBalanceUpdateInput=!1}ngOnInit(){this.id=this.route.snapshot.params.id,this.clientService.getClient(this.id).subscribe(e=>{null!=e&&e.balance>0&&(this.hasBalance=!0),this.client=e,console.log(e)})}updateBalance(){this.clientService.updateClient(this.client),this.flashMessage.show("Balance updated",{cssClass:"alert-success",timeout:4e3}),this.showBalanceUpdateInput=!1}onDeleteClick(){confirm("Are you sure?")&&(this.clientService.deleteClient(this.client),this.flashMessage.show("Client removed",{cssClass:"alert-success",timeout:4e3}),this.router.navigate(["/"]))}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](uw),i["\u0275\u0275directiveInject"](Ub),i["\u0275\u0275directiveInject"](vv),i["\u0275\u0275directiveInject"](Qe.GQ))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-client-details"]],decls:13,vars:2,consts:[[1,"row"],[1,"col-md-6"],["routerLink","/",1,"btn","btn-link"],[1,"fa","fa-arrow-circle-o-left"],[1,"btn-group","pull-right"],[1,"btn","btn-dark",3,"routerLink"],[1,"btn","btn-danger",3,"click"],["class","card",4,"ngIf"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"col-md-8","col-sm-6"],[1,"col-md-4","col-sm-6"],[1,"pull-right"],[3,"click"],[1,"fa","fa-pencil"],[1,"clearfix"],[3,"submit",4,"ngIf"],[1,"list-group"],[1,"list-group-item"],[3,"submit"],[1,"input-group"],["type","text","name","balance",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-btn"],["type","submit",1,"btn","btn-primary"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"a",2),i["\u0275\u0275element"](3,"i",3),i["\u0275\u0275text"](4,"Back to Dashboard "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"div",1),i["\u0275\u0275elementStart"](6,"div",4),i["\u0275\u0275elementStart"](7,"a",5),i["\u0275\u0275text"](8," Edit "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"button",6),i["\u0275\u0275listener"]("click",function(){return t.onDeleteClick()}),i["\u0275\u0275text"](10,"Delete"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](11,"hr"),i["\u0275\u0275template"](12,Tw,25,15,"div",7)),2&e&&(i["\u0275\u0275advance"](7),i["\u0275\u0275propertyInterpolate1"]("routerLink","/client/edit/",t.id,""),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("ngIf",t.client))},directives:[Bb,r.NgIf,Me,he,Oe,K,le,Pe],pipes:[r.CurrencyPipe],styles:[""]}),e})(),xw=(()=>{class e{constructor(e,t,n){this.router=e,this.flashMessage=t,this.settingsService=n}ngOnInit(){this.settings=this.settingsService.getSettings()}onSubmit(){this.settingsService.changeSettings(this.settings),this.flashMessage.show("Settings Saved",{cssClass:"alert-success",timeout:4e3})}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](Ub),i["\u0275\u0275directiveInject"](Qe.GQ),i["\u0275\u0275directiveInject"](ww))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-settings"]],decls:24,vars:3,consts:[[1,"row"],[1,"col-md-6"],["routerLink","/",1,"btn","btn-link"],[1,"fa","fa-arrow-circle-o-left"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"submit"],[1,"form-group"],["type","checkbox","name","allowRegistration",3,"checked","change"],["type","checkbox","name","disableBalanceOnAdd",3,"checked","change"],["type","checkbox","name","disableBalanceOnEdit",3,"checked","change"],["type","submit","value","Submit",1,"btn","btn-info","btn-block"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"a",2),i["\u0275\u0275element"](3,"i",3),i["\u0275\u0275text"](4,"Back to Dashboard "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](5,"div",1),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",4),i["\u0275\u0275elementStart"](7,"div",5),i["\u0275\u0275text"](8," Edit Settings "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"div",6),i["\u0275\u0275elementStart"](10,"form",7),i["\u0275\u0275listener"]("submit",function(){return t.onSubmit()}),i["\u0275\u0275elementStart"](11,"div",8),i["\u0275\u0275elementStart"](12,"label"),i["\u0275\u0275text"](13,"Allow Registration"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"input",9),i["\u0275\u0275listener"]("change",function(){return t.settings.allowRegistration=!t.settings.allowRegistration}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](15,"div",8),i["\u0275\u0275elementStart"](16,"label"),i["\u0275\u0275text"](17,"Disable Balance On Add"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](18,"input",10),i["\u0275\u0275listener"]("change",function(){return t.settings.disableBalanceOnAdd=!t.settings.disableBalanceOnAdd}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](19,"div",8),i["\u0275\u0275elementStart"](20,"label"),i["\u0275\u0275text"](21,"Disable Balance On Edit"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](22,"input",11),i["\u0275\u0275listener"]("change",function(){return t.settings.disableBalanceOnEdit=!t.settings.disableBalanceOnEdit}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](23,"input",12),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](14),i["\u0275\u0275property"]("checked",t.settings.allowRegistration),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("checked",t.settings.disableBalanceOnAdd),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("checked",t.settings.disableBalanceOnEdit))},directives:[Bb,Me,he,Oe],styles:[""]}),e})(),kw=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-not-found"]],decls:2,vars:0,template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"p"),i["\u0275\u0275text"](1,"not-found works!"),i["\u0275\u0275elementEnd"]())},styles:[""]}),e})(),Nw=(()=>{class e{constructor(e,t){this.router=e,this.afAuth=t}canActivate(){return this.afAuth.authState.pipe((0,j.U)(e=>!!e||(this.router.navigate(["/login"]),!1)))}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](Ub),i["\u0275\u0275inject"](Im))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})(),Ow=(()=>{class e{constructor(e,t){this.router=e,this.settingsService=t}canActivate(){return!!this.settingsService.getSettings().allowRegistration||(this.router.navigate(["/login"]),!1)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](Ub),i["\u0275\u0275inject"](ww))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})();const Rw=[{path:"",component:mw,canActivate:[Nw]},{path:"login",component:vw},{path:"register",component:bw,canActivate:[Ow]},{path:"client/add",component:Ew,canActivate:[Nw]},{path:"client/edit/:id",component:Sw,canActivate:[Nw]},{path:"client/:id",component:Aw,canActivate:[Nw]},{path:"settings",component:xw,canActivate:[Nw]},{path:"**",component:kw}];let Fw=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({providers:[Nw,Ow],imports:[[Xb.forRoot(Rw)],Xb]}),e})();function Pw(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"li",7),i["\u0275\u0275elementStart"](1,"a",11),i["\u0275\u0275text"](2,"Register"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]())}function Mw(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"li",7),i["\u0275\u0275elementStart"](1,"a",12),i["\u0275\u0275text"](2,"Login"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]())}function Lw(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"li",7),i["\u0275\u0275elementStart"](1,"a",13),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.loggedInUser)}}function Vw(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"li",7),i["\u0275\u0275elementStart"](1,"a",14),i["\u0275\u0275text"](2,"Settings"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]())}function jw(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"li",7),i["\u0275\u0275elementStart"](1,"a",15),i["\u0275\u0275listener"]("click",function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onLogoutClick()}),i["\u0275\u0275text"](2,"Logout"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}}let Uw=(()=>{class e{constructor(e,t,n,r){this.authService=e,this.router=t,this.flashMessage=n,this.settingsService=r}ngOnInit(){this.authService.getAuth().subscribe(e=>{e?(this.isLoggedIn=!0,this.loggedInUser=e.email):this.isLoggedIn=!1}),this.showRegister=this.settingsService.getSettings().allowRegistration}onLogoutClick(){this.authService.logout(),this.flashMessage.show("You are logged out",{cssClass:"alert-success",timeout:4e3}),this.router.navigate(["/login"])}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](yw),i["\u0275\u0275directiveInject"](Ub),i["\u0275\u0275directiveInject"](Qe.GQ),i["\u0275\u0275directiveInject"](ww))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-navbar"]],decls:17,vars:5,consts:[[1,"navbar","navbar-expand-md","navbar-dark","bg-info","mb-4"],[1,"container"],["routerLink","/",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarMain",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarMain",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"nav-item"],["routerLink","/",1,"nav-link"],[1,"navbar-nav","ml-auto"],["class","nav-item",4,"ngIf"],["routerLink","/register",1,"nav-link"],["routerLink","/login",1,"nav-link"],["href","#",1,"nav-link"],["routerLink","/settings",1,"nav-link"],["href","#",1,"nav-link",3,"click"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"nav",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"a",2),i["\u0275\u0275text"](3,"Client Panel"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"button",3),i["\u0275\u0275element"](5,"span",4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",5),i["\u0275\u0275elementStart"](7,"ul",6),i["\u0275\u0275elementStart"](8,"li",7),i["\u0275\u0275elementStart"](9,"a",8),i["\u0275\u0275text"](10,"Dashboard"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"ul",9),i["\u0275\u0275template"](12,Pw,3,0,"li",10),i["\u0275\u0275template"](13,Mw,3,0,"li",10),i["\u0275\u0275template"](14,Lw,3,1,"li",10),i["\u0275\u0275template"](15,Vw,3,0,"li",10),i["\u0275\u0275template"](16,jw,3,0,"li",10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](12),i["\u0275\u0275property"]("ngIf",!t.isLoggedIn&&t.showRegister),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.isLoggedIn&&t.showRegister),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.isLoggedIn),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.isLoggedIn),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.isLoggedIn))},directives:[Bb,r.NgIf],styles:[""]}),e})(),Bw=(()=>{class e{constructor(){this.title="clientpanel"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"container"]],template:function(e,t){1&e&&(i["\u0275\u0275element"](0,"app-navbar"),i["\u0275\u0275elementStart"](1,"div",0),i["\u0275\u0275element"](2,"flash-messages"),i["\u0275\u0275element"](3,"router-outlet"),i["\u0275\u0275elementEnd"]())},directives:[Uw,Qe.cS,Hb],styles:[""]}),e})(),qw=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e,bootstrap:[Bw]}),e.\u0275inj=i["\u0275\u0275defineInjector"]({providers:[],imports:[[P,Fw,Ze.hO.initializeApp(We,"clientpenel"),Bm,Sm,Ke,Qe.qz.forRoot()]]}),e})();(0,i.enableProdMode)(),R().bootstrapModule(qw).catch(e=>console.error(e))},4762:(e,t,n)=>{"use strict";n.d(t,{ZT:()=>i,pi:()=>o,mG:()=>s,Jh:()=>a,XA:()=>u,CR:()=>c,ev:()=>l});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function s(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})}function a(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}}},e=>{"use strict";e(e.s=7896)}]);